<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="/default.xsl"?>
<fr:tree xmlns:fr="http://www.forester-notes.org" xmlns:html="http://www.w3.org/1999/xhtml" xmlns:xml="http://www.w3.org/XML/1998/namespace" root="false" base-url="/">
  <fr:frontmatter>
    <fr:authors>
      <fr:author>
        <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
      </fr:author>
    </fr:authors>
    <fr:date>
      <fr:year>2023</fr:year>
      <fr:month>5</fr:month>
      <fr:day>31</fr:day>
    </fr:date>
    <fr:uri>https://www.jonmsterling.com/jms-005I/</fr:uri>
    <fr:display-uri>jms-005I</fr:display-uri>
    <fr:route>/jms-005I/</fr:route>
    <fr:title text="Displayed functor">Displayed functor</fr:title>
    <fr:taxon>Definition</fr:taxon>
  </fr:frontmatter>
  <fr:mainmatter>
    <html:p>Let <fr:tex display="inline"><![CDATA[X]]></fr:tex> be a <fr:link href="/frct-0000/" title="Displayed category" uri="https://www.jonmsterling.com/frct-0000/" display-uri="frct-0000" type="local">displayed category</fr:link> over <fr:tex display="inline"><![CDATA[B]]></fr:tex> and let <fr:tex display="inline"><![CDATA[Y]]></fr:tex> be a <fr:link href="/frct-0000/" title="Displayed category" uri="https://www.jonmsterling.com/frct-0000/" display-uri="frct-0000" type="local">displayed category</fr:link> over <fr:tex display="inline"><![CDATA[C]]></fr:tex>, and let <fr:tex display="inline"><![CDATA[{B}\xrightarrow {{F}}{C}]]></fr:tex> be a functor. A <html:em>displayed functor</html:em> from <fr:tex display="inline"><![CDATA[X]]></fr:tex> to <fr:tex display="inline"><![CDATA[Y]]></fr:tex> over <fr:tex display="inline"><![CDATA[F]]></fr:tex>, written <fr:tex display="inline"><![CDATA[{X}\xrightarrow [F]{\bar F}{Y}]]></fr:tex> is defined by the following data:</html:p>
    <html:ol><html:li>for each displayed object <fr:tex display="inline"><![CDATA[x\in  X^b]]></fr:tex>, an assigned object <fr:tex display="inline"><![CDATA[\bar F_b x \in  Y^{F b}]]></fr:tex>;</html:li>
  <html:li>for each displayed morphism <fr:tex display="inline"><![CDATA[{x}\xrightarrow [f]{\bar {f}}{y}]]></fr:tex> in <fr:tex display="inline"><![CDATA[X]]></fr:tex> over <fr:tex display="inline"><![CDATA[{b}\xrightarrow {{f}}{c}]]></fr:tex> in <fr:tex display="inline"><![CDATA[B]]></fr:tex>, an assigned morphism <fr:tex display="inline"><![CDATA[{\bar F_b{x}}\xrightarrow [F{f}]{\bar F_f\bar {f}}{\bar F_c y}]]></fr:tex>;</html:li>
  <html:li>such that <fr:tex display="inline"><![CDATA[\bar F_{1_{b}} 1_{x} = 1_{\bar F_b x}]]></fr:tex> and <fr:tex display="inline"><![CDATA[\bar F_{f;g}{\mathopen {}\left (\bar {f};\bar {g}\right )\mathclose {}}=\bar F_f{\bar {f}};\bar F_g{\bar {g}}]]></fr:tex>.</html:li></html:ol>
    <html:p>When it does not cause confusion, we may drop some of the subscripts in our notation.</html:p>
  </fr:mainmatter>
  <fr:backmatter>
    <fr:tree show-metadata="false" hidden-when-empty="true">
      <fr:frontmatter>
        <fr:authors />
        <fr:title text="References">References</fr:title>
      </fr:frontmatter>
      <fr:mainmatter />
    </fr:tree>
    <fr:tree show-metadata="false" hidden-when-empty="true">
      <fr:frontmatter>
        <fr:authors />
        <fr:title text="Context">Context</fr:title>
      </fr:frontmatter>
      <fr:mainmatter>
        <fr:tree show-metadata="true" expanded="false" toc="false" numbered="false">
          <fr:frontmatter>
            <fr:authors>
              <fr:author>
                <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
              </fr:author>
            </fr:authors>
            <fr:date>
              <fr:year>2023</fr:year>
              <fr:month>5</fr:month>
              <fr:day>31</fr:day>
            </fr:date>
            <fr:uri>https://www.jonmsterling.com/jms-005H/</fr:uri>
            <fr:display-uri>jms-005H</fr:display-uri>
            <fr:route>/jms-005H/</fr:route>
            <fr:title text="Displayed functors and natural transformations">Displayed functors and natural transformations</fr:title>
          </fr:frontmatter>
          <fr:mainmatter>
            <html:p>We will develop the theory of functors between <fr:link href="/frct-0000/" title="Displayed category" uri="https://www.jonmsterling.com/frct-0000/" display-uri="frct-0000" type="local">displayed categories</fr:link> or <fr:link href="/frct-0002/" title="Cartesian fibration" uri="https://www.jonmsterling.com/frct-0002/" display-uri="frct-0002" type="local">fibrations</fr:link> as well as natural transformations between these functors, building on <fr:link href="/ahrens-lumsdaine-2019/" title="Displayed categories" uri="https://www.jonmsterling.com/ahrens-lumsdaine-2019/" display-uri="ahrens-lumsdaine-2019" type="local">Ahrens and Lumsdaine</fr:link> and <fr:link href="/jacobs-1999/" title="Categorical logic and type theory" uri="https://www.jonmsterling.com/jacobs-1999/" display-uri="jacobs-1999" type="local">Jacobs</fr:link>.</html:p>
            <fr:tree show-metadata="false">
              <fr:frontmatter>
                <fr:authors>
                  <fr:author>
                    <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                  </fr:author>
                </fr:authors>
                <fr:date>
                  <fr:year>2023</fr:year>
                  <fr:month>5</fr:month>
                  <fr:day>31</fr:day>
                </fr:date>
                <fr:uri>https://www.jonmsterling.com/jms-005I/</fr:uri>
                <fr:display-uri>jms-005I</fr:display-uri>
                <fr:route>/jms-005I/</fr:route>
                <fr:title text="Displayed functor">Displayed functor</fr:title>
                <fr:taxon>Definition</fr:taxon>
              </fr:frontmatter>
              <fr:mainmatter>
                <html:p>Let <fr:tex display="inline"><![CDATA[X]]></fr:tex> be a <fr:link href="/frct-0000/" title="Displayed category" uri="https://www.jonmsterling.com/frct-0000/" display-uri="frct-0000" type="local">displayed category</fr:link> over <fr:tex display="inline"><![CDATA[B]]></fr:tex> and let <fr:tex display="inline"><![CDATA[Y]]></fr:tex> be a <fr:link href="/frct-0000/" title="Displayed category" uri="https://www.jonmsterling.com/frct-0000/" display-uri="frct-0000" type="local">displayed category</fr:link> over <fr:tex display="inline"><![CDATA[C]]></fr:tex>, and let <fr:tex display="inline"><![CDATA[{B}\xrightarrow {{F}}{C}]]></fr:tex> be a functor. A <html:em>displayed functor</html:em> from <fr:tex display="inline"><![CDATA[X]]></fr:tex> to <fr:tex display="inline"><![CDATA[Y]]></fr:tex> over <fr:tex display="inline"><![CDATA[F]]></fr:tex>, written <fr:tex display="inline"><![CDATA[{X}\xrightarrow [F]{\bar F}{Y}]]></fr:tex> is defined by the following data:</html:p>
                <html:ol><html:li>for each displayed object <fr:tex display="inline"><![CDATA[x\in  X^b]]></fr:tex>, an assigned object <fr:tex display="inline"><![CDATA[\bar F_b x \in  Y^{F b}]]></fr:tex>;</html:li>
  <html:li>for each displayed morphism <fr:tex display="inline"><![CDATA[{x}\xrightarrow [f]{\bar {f}}{y}]]></fr:tex> in <fr:tex display="inline"><![CDATA[X]]></fr:tex> over <fr:tex display="inline"><![CDATA[{b}\xrightarrow {{f}}{c}]]></fr:tex> in <fr:tex display="inline"><![CDATA[B]]></fr:tex>, an assigned morphism <fr:tex display="inline"><![CDATA[{\bar F_b{x}}\xrightarrow [F{f}]{\bar F_f\bar {f}}{\bar F_c y}]]></fr:tex>;</html:li>
  <html:li>such that <fr:tex display="inline"><![CDATA[\bar F_{1_{b}} 1_{x} = 1_{\bar F_b x}]]></fr:tex> and <fr:tex display="inline"><![CDATA[\bar F_{f;g}{\mathopen {}\left (\bar {f};\bar {g}\right )\mathclose {}}=\bar F_f{\bar {f}};\bar F_g{\bar {g}}]]></fr:tex>.</html:li></html:ol>
                <html:p>When it does not cause confusion, we may drop some of the subscripts in our notation.</html:p>
              </fr:mainmatter>
            </fr:tree>
            <html:p>The notion of <fr:link href="/jms-005J/" title="Fibered functor" uri="https://www.jonmsterling.com/jms-005J/" display-uri="jms-005J" type="local">fibered functor</fr:link> below makes sense for arbitrary <fr:link href="/frct-0000/" title="Displayed category" uri="https://www.jonmsterling.com/frct-0000/" display-uri="frct-0000" type="local">displayed categories</fr:link>, but it is most useful when applied to <fr:link href="/frct-0002/" title="Cartesian fibration" uri="https://www.jonmsterling.com/frct-0002/" display-uri="frct-0002" type="local">fibrations</fr:link>.</html:p>
            <fr:tree show-metadata="false">
              <fr:frontmatter>
                <fr:authors>
                  <fr:author>
                    <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                  </fr:author>
                </fr:authors>
                <fr:date>
                  <fr:year>2023</fr:year>
                  <fr:month>5</fr:month>
                  <fr:day>31</fr:day>
                </fr:date>
                <fr:uri>https://www.jonmsterling.com/jms-005J/</fr:uri>
                <fr:display-uri>jms-005J</fr:display-uri>
                <fr:route>/jms-005J/</fr:route>
                <fr:title text="Fibered functor">Fibered functor</fr:title>
                <fr:taxon>Definition</fr:taxon>
              </fr:frontmatter>
              <fr:mainmatter>
                <html:p>Let <fr:tex display="inline"><![CDATA[X]]></fr:tex> be a <fr:link href="/frct-0000/" title="Displayed category" uri="https://www.jonmsterling.com/frct-0000/" display-uri="frct-0000" type="local">displayed category</fr:link> over <fr:tex display="inline"><![CDATA[B]]></fr:tex> and let <fr:tex display="inline"><![CDATA[Y]]></fr:tex> be a <fr:link href="/frct-0000/" title="Displayed category" uri="https://www.jonmsterling.com/frct-0000/" display-uri="frct-0000" type="local">displayed category</fr:link> over <fr:tex display="inline"><![CDATA[C]]></fr:tex>, and let <fr:tex display="inline"><![CDATA[{B}\xrightarrow {{F}}{C}]]></fr:tex> be a functor. A <fr:link href="/jms-005I/" title="Displayed functor" uri="https://www.jonmsterling.com/jms-005I/" display-uri="jms-005I" type="local">displayed functor</fr:link> from <fr:tex display="inline"><![CDATA[X]]></fr:tex> to <fr:tex display="inline"><![CDATA[Y]]></fr:tex> over <fr:tex display="inline"><![CDATA[F]]></fr:tex> is called <html:em>fibered</html:em> when it preserves <fr:link href="/frct-0001/" title="Cartesian morphism" uri="https://www.jonmsterling.com/frct-0001/" display-uri="frct-0001" type="local">cartesian morphisms</fr:link>.</html:p>
              </fr:mainmatter>
            </fr:tree>
            <fr:tree show-metadata="false">
              <fr:frontmatter>
                <fr:authors>
                  <fr:author>
                    <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                  </fr:author>
                </fr:authors>
                <fr:date>
                  <fr:year>2023</fr:year>
                  <fr:month>5</fr:month>
                  <fr:day>31</fr:day>
                </fr:date>
                <fr:uri>https://www.jonmsterling.com/jms-005K/</fr:uri>
                <fr:display-uri>jms-005K</fr:display-uri>
                <fr:route>/jms-005K/</fr:route>
                <fr:title text="Displayed natural transformation">Displayed natural transformation</fr:title>
                <fr:taxon>Definition</fr:taxon>
              </fr:frontmatter>
              <fr:mainmatter>
                <html:p>Let <fr:tex display="inline"><![CDATA[X]]></fr:tex> be a <fr:link href="/frct-0000/" title="Displayed category" uri="https://www.jonmsterling.com/frct-0000/" display-uri="frct-0000" type="local">displayed category</fr:link> over <fr:tex display="inline"><![CDATA[B]]></fr:tex> and let <fr:tex display="inline"><![CDATA[Y]]></fr:tex> be a <fr:link href="/frct-0000/" title="Displayed category" uri="https://www.jonmsterling.com/frct-0000/" display-uri="frct-0000" type="local">displayed category</fr:link> over <fr:tex display="inline"><![CDATA[C]]></fr:tex>, and let <fr:tex display="inline"><![CDATA[{X}\xrightarrow [F]{\bar F}{Y}]]></fr:tex> and <fr:tex display="inline"><![CDATA[{X}\xrightarrow [G]{\bar G}{Y}]]></fr:tex> be two displayed functors over <fr:tex display="inline"><![CDATA[{B}\xrightarrow {{F,G}}{C}]]></fr:tex> respectively. Given a natural transformation <fr:tex display="inline"><![CDATA[{F}\xrightarrow {{\alpha }}{G}]]></fr:tex>, a <html:em>displayed dinatural transformation</html:em> from <fr:tex display="inline"><![CDATA[\bar F]]></fr:tex> to <fr:tex display="inline"><![CDATA[\bar G]]></fr:tex> over <fr:tex display="inline"><![CDATA[\alpha ]]></fr:tex>, written <fr:tex display="inline"><![CDATA[{\bar F}\xrightarrow [\alpha ]{\bar \alpha }{\bar G}]]></fr:tex>, is defined by the following data:</html:p>
                <html:ol><html:li>for each displayed object <fr:tex display="inline"><![CDATA[x\in  X^b]]></fr:tex>, an assigned displayed morphism <fr:tex display="inline"><![CDATA[{\bar F{x}}\xrightarrow [\alpha _b]{\bar \alpha _x}{\bar G{x}}]]></fr:tex>;</html:li>
  <html:li>such that for each <fr:tex display="inline"><![CDATA[{x}\xrightarrow [f]{\bar {f}}{y}]]></fr:tex> in <fr:tex display="inline"><![CDATA[X]]></fr:tex>, we have <fr:tex display="inline"><![CDATA[\bar \alpha _x; \bar G\bar {f} = \bar F\bar {f};\bar \alpha _y]]></fr:tex>.</html:li></html:ol>
              </fr:mainmatter>
            </fr:tree>
            <fr:tree show-metadata="false">
              <fr:frontmatter>
                <fr:authors>
                  <fr:author>
                    <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                  </fr:author>
                </fr:authors>
                <fr:date>
                  <fr:year>2023</fr:year>
                  <fr:month>5</fr:month>
                  <fr:day>31</fr:day>
                </fr:date>
                <fr:uri>https://www.jonmsterling.com/jms-005N/</fr:uri>
                <fr:display-uri>jms-005N</fr:display-uri>
                <fr:route>/jms-005N/</fr:route>
                <fr:title text="Vertical functors and natural transformations">Vertical functors and natural transformations</fr:title>
                <fr:taxon>Remark</fr:taxon>
              </fr:frontmatter>
              <fr:mainmatter>
                <html:p>In practice, we will frequently consider <html:em>vertical</html:em> displayed functors between fibrations over the same base category <fr:tex display="inline"><![CDATA[B]]></fr:tex>, i.e. <fr:link href="/jms-005I/" title="Displayed functor" uri="https://www.jonmsterling.com/jms-005I/" display-uri="jms-005I" type="local">functors displayed</fr:link> over the identity functor <fr:tex display="inline"><![CDATA[{B}\xrightarrow {{1_{B}}}{B}]]></fr:tex>. Likewise, we will often consider vertical natural transformations between vertical functors, i.e. <fr:link href="/jms-005K/" title="Displayed natural transformation" uri="https://www.jonmsterling.com/jms-005K/" display-uri="jms-005K" type="local">natural transformations</fr:link> whose components are vertical. The vertical and non-vertical perspectives give rise to two different (very large) displayed categories of displayed categories, one with unfixed base, and the other with a fixed base. Both viewpoints are important, but it is important not to get them confused.</html:p>
              </fr:mainmatter>
            </fr:tree>
            <html:p>We wish to define displayed versions of <fr:link href="/jms-005M/" title="Dinatural transformation" uri="https://www.jonmsterling.com/jms-005M/" display-uri="jms-005M" type="local">dinatural transformations</fr:link>, but there is some question of how much verticality to assume in the definition: for instance, we could define a displayed dinatural transformation over a dinatural transformation, or we could define a totally vertical notion of dinatural transformation. It is unclear to me that the latter would be an instance of the former. We will focus on the latter, because it is most useful in practice when using displayed category theory to formalize reasoning over a fixed base category.</html:p>
            <fr:tree show-metadata="false">
              <fr:frontmatter>
                <fr:authors>
                  <fr:author>
                    <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                  </fr:author>
                </fr:authors>
                <fr:date>
                  <fr:year>2023</fr:year>
                  <fr:month>5</fr:month>
                  <fr:day>31</fr:day>
                </fr:date>
                <fr:uri>https://www.jonmsterling.com/jms-005L/</fr:uri>
                <fr:display-uri>jms-005L</fr:display-uri>
                <fr:route>/jms-005L/</fr:route>
                <fr:title text="Vertical dinatural transformation">Vertical dinatural transformation</fr:title>
                <fr:taxon>Definition</fr:taxon>
              </fr:frontmatter>
              <fr:mainmatter>
                <html:p>Let <fr:tex display="inline"><![CDATA[X]]></fr:tex> and <fr:tex display="inline"><![CDATA[Y]]></fr:tex> be two <fr:link href="/frct-0002/" title="Cartesian fibration" uri="https://www.jonmsterling.com/frct-0002/" display-uri="frct-0002" type="local">fibrations</fr:link> over <fr:tex display="inline"><![CDATA[B]]></fr:tex>, and let <fr:tex display="inline"><![CDATA[{X^{\mathsf {op}}\times _{B} X}\xrightarrow [1_{B}]{F,G}{Y}]]></fr:tex> be two vertical <fr:link href="/jms-005J/" title="Fibered functor" uri="https://www.jonmsterling.com/jms-005J/" display-uri="jms-005J" type="local">fibered functors</fr:link> over <fr:tex display="inline"><![CDATA[B]]></fr:tex>, recalling the theory of <fr:link href="/frct-000Q/" title="Opposite categories" uri="https://www.jonmsterling.com/frct-000Q/" display-uri="frct-000Q" type="local">opposite fibrations</fr:link>. A <html:em>vertical dinatural transformation</html:em> <fr:tex display="inline"><![CDATA[\alpha ]]></fr:tex> from <fr:tex display="inline"><![CDATA[F]]></fr:tex> to <fr:tex display="inline"><![CDATA[G]]></fr:tex> is defined by the following data:</html:p>
                <html:ol><html:li>for each displayed object <fr:tex display="inline"><![CDATA[x\in  X^b]]></fr:tex>, an assigned vertical morphism <fr:tex display="inline"><![CDATA[{F_b{\mathopen {}\left (x,x\right )\mathclose {}}}\xrightarrow [1_{b}]{\alpha _x}{G_b{\mathopen {}\left (x,x\right )\mathclose {}}}]]></fr:tex>;</html:li>
  <html:li>such that for each displayed morphism <fr:tex display="inline"><![CDATA[{x}\xrightarrow [f]{\bar {f}}{y}]]></fr:tex> over <fr:tex display="inline"><![CDATA[{b}\xrightarrow {{f}}{c}\in B]]></fr:tex>, the following hexagon commutes:
    
 
  
  <html:figure><fr:resource hash="5c43227e8333ea59351f89bf6a09613f"><fr:resource-content><html:img src="/5c43227e8333ea59351f89bf6a09613f.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
      
      \begin {tikzpicture}[diagram]
        \node  (nw) {$F_b{\mathopen {}\left (x,x\right )\mathclose {}}$};
        \node [right = 3.25cm of nw] (ne) {$G_b{\mathopen {}\left (x,x\right )\mathclose {}}$};
        \node [below right = 3.25cm of ne] (e) {$G_b{\mathopen {}\left (x,f^{*}{y}\right )\mathclose {}}$};
        \node [below left = 3.25cm of e] (se) {$G_b{\mathopen {}\left (f^{*}y,f^{*}y\right )\mathclose {}}$};
        \node [below left = 3.25cm of nw] (w) {$F_b{\mathopen {}\left (f^{*}y,x\right )\mathclose {}}$};
        \node [below right = 3.25cm of w] (sw) {$F_b{\mathopen {}\left (f^{*}y,f^{*}y\right )\mathclose {}}$};
        \draw [->] (w) to node[sloped,above] {$F_b{\mathopen {}\left (\gamma _{\bar {f}},x\right )\mathclose {}}$} (nw);
        \draw [->] (nw) to node[above] {${\alpha }_x$} (ne);
        \draw [->] (sw) to node[below] {${\alpha }_{f^{*}y}$} (se);
        \draw [->] (ne) to node[sloped,above] {$G_b{\mathopen {}\left (x,\gamma _{\bar {f}}\right )\mathclose {}}$} (e);
        \draw [->] (w) to node[sloped,below] {$F_b{\mathopen {}\left (f^{*}{y},\gamma _{\bar {f}}\right )\mathclose {}}$} (sw);
        \draw [->] (se) to node[sloped,below] {$G_b{\mathopen {}\left (\gamma _{\bar {f}},f^{*}y\right )\mathclose {}}$} (e);
      \end {tikzpicture}
    ]]></fr:resource-source></fr:resource></html:figure></html:li></html:ol>
                <html:p>Above, we have written <fr:tex display="inline"><![CDATA[{x}\xrightarrow [1_{b}]{\gamma _{\bar {f}}}{f^{*}{y}}\in  X^b]]></fr:tex> for the <html:em>vertical gap map</html:em> factoring <fr:tex display="inline"><![CDATA[{x}\xrightarrow [f]{\bar {f}}{y}]]></fr:tex> through the cartesian map <fr:tex display="inline"><![CDATA[{f^{*}{y}}\xrightarrow [f]{y^{*}f}{x}]]></fr:tex>. We have used <fr:link href="/frct-000S/" title="Exegesis of opposite categories" uri="https://www.jonmsterling.com/frct-000S/" display-uri="frct-000S" type="local">the fact</fr:link> that a vertical map in <fr:tex display="inline"><![CDATA[X^{\mathsf {op}}]]></fr:tex> is the same as a vertical map in <fr:tex display="inline"><![CDATA[X]]></fr:tex> going the other way.</html:p>
              </fr:mainmatter>
            </fr:tree>
          </fr:mainmatter>
        </fr:tree>
      </fr:mainmatter>
    </fr:tree>
    <fr:tree show-metadata="false" hidden-when-empty="true">
      <fr:frontmatter>
        <fr:authors />
        <fr:title text="Backlinks">Backlinks</fr:title>
      </fr:frontmatter>
      <fr:mainmatter>
        <fr:tree show-metadata="true" expanded="false" toc="false" numbered="false">
          <fr:frontmatter>
            <fr:authors>
              <fr:author>
                <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
              </fr:author>
            </fr:authors>
            <fr:date>
              <fr:year>2023</fr:year>
              <fr:month>5</fr:month>
              <fr:day>31</fr:day>
            </fr:date>
            <fr:uri>https://www.jonmsterling.com/jms-005J/</fr:uri>
            <fr:display-uri>jms-005J</fr:display-uri>
            <fr:route>/jms-005J/</fr:route>
            <fr:title text="Fibered functor">Fibered functor</fr:title>
            <fr:taxon>Definition</fr:taxon>
          </fr:frontmatter>
          <fr:mainmatter>
            <html:p>Let <fr:tex display="inline"><![CDATA[X]]></fr:tex> be a <fr:link href="/frct-0000/" title="Displayed category" uri="https://www.jonmsterling.com/frct-0000/" display-uri="frct-0000" type="local">displayed category</fr:link> over <fr:tex display="inline"><![CDATA[B]]></fr:tex> and let <fr:tex display="inline"><![CDATA[Y]]></fr:tex> be a <fr:link href="/frct-0000/" title="Displayed category" uri="https://www.jonmsterling.com/frct-0000/" display-uri="frct-0000" type="local">displayed category</fr:link> over <fr:tex display="inline"><![CDATA[C]]></fr:tex>, and let <fr:tex display="inline"><![CDATA[{B}\xrightarrow {{F}}{C}]]></fr:tex> be a functor. A <fr:link href="/jms-005I/" title="Displayed functor" uri="https://www.jonmsterling.com/jms-005I/" display-uri="jms-005I" type="local">displayed functor</fr:link> from <fr:tex display="inline"><![CDATA[X]]></fr:tex> to <fr:tex display="inline"><![CDATA[Y]]></fr:tex> over <fr:tex display="inline"><![CDATA[F]]></fr:tex> is called <html:em>fibered</html:em> when it preserves <fr:link href="/frct-0001/" title="Cartesian morphism" uri="https://www.jonmsterling.com/frct-0001/" display-uri="frct-0001" type="local">cartesian morphisms</fr:link>.</html:p>
          </fr:mainmatter>
        </fr:tree>
        <fr:tree show-metadata="true" expanded="false" toc="false" numbered="false">
          <fr:frontmatter>
            <fr:authors>
              <fr:author>
                <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
              </fr:author>
            </fr:authors>
            <fr:date>
              <fr:year>2023</fr:year>
              <fr:month>5</fr:month>
              <fr:day>31</fr:day>
            </fr:date>
            <fr:uri>https://www.jonmsterling.com/jms-005N/</fr:uri>
            <fr:display-uri>jms-005N</fr:display-uri>
            <fr:route>/jms-005N/</fr:route>
            <fr:title text="Vertical functors and natural transformations">Vertical functors and natural transformations</fr:title>
            <fr:taxon>Remark</fr:taxon>
          </fr:frontmatter>
          <fr:mainmatter>
            <html:p>In practice, we will frequently consider <html:em>vertical</html:em> displayed functors between fibrations over the same base category <fr:tex display="inline"><![CDATA[B]]></fr:tex>, i.e. <fr:link href="/jms-005I/" title="Displayed functor" uri="https://www.jonmsterling.com/jms-005I/" display-uri="jms-005I" type="local">functors displayed</fr:link> over the identity functor <fr:tex display="inline"><![CDATA[{B}\xrightarrow {{1_{B}}}{B}]]></fr:tex>. Likewise, we will often consider vertical natural transformations between vertical functors, i.e. <fr:link href="/jms-005K/" title="Displayed natural transformation" uri="https://www.jonmsterling.com/jms-005K/" display-uri="jms-005K" type="local">natural transformations</fr:link> whose components are vertical. The vertical and non-vertical perspectives give rise to two different (very large) displayed categories of displayed categories, one with unfixed base, and the other with a fixed base. Both viewpoints are important, but it is important not to get them confused.</html:p>
          </fr:mainmatter>
        </fr:tree>
      </fr:mainmatter>
    </fr:tree>
    <fr:tree show-metadata="false" hidden-when-empty="true">
      <fr:frontmatter>
        <fr:authors />
        <fr:title text="Related">Related</fr:title>
      </fr:frontmatter>
      <fr:mainmatter>
        <fr:tree show-metadata="true" expanded="false" toc="false" numbered="false">
          <fr:frontmatter>
            <fr:authors>
              <fr:author>
                <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
              </fr:author>
            </fr:authors>
            <fr:date>
              <fr:year>2022</fr:year>
            </fr:date>
            <fr:uri>https://www.jonmsterling.com/frct-0000/</fr:uri>
            <fr:display-uri>frct-0000</fr:display-uri>
            <fr:route>/frct-0000/</fr:route>
            <fr:title text="Displayed category">Displayed category</fr:title>
            <fr:taxon>Definition</fr:taxon>
          </fr:frontmatter>
          <fr:mainmatter>
            <html:p>Let <fr:tex display="inline"><![CDATA[B]]></fr:tex> be a category. A <html:em>displayed category</html:em> <fr:tex display="inline"><![CDATA[E]]></fr:tex> over <fr:tex display="inline"><![CDATA[B]]></fr:tex> is defined by the following data according to (<fr:link href="/ahrens-lumsdaine-2019/" title="Displayed categories" uri="https://www.jonmsterling.com/ahrens-lumsdaine-2019/" display-uri="ahrens-lumsdaine-2019" type="local">Ahrens and Lumsdaine</fr:link>):</html:p>
            <html:ol><html:li>for each object <fr:tex display="inline"><![CDATA[x\in  B]]></fr:tex>, a collection of <html:em>displayed objects</html:em> <fr:tex display="inline"><![CDATA[E_{x}]]></fr:tex>,</html:li>

  <html:li>for each morphism <fr:tex display="inline"><![CDATA[{x}\xrightarrow {{f}}{y}\in  B]]></fr:tex> and displayed objects <fr:tex display="inline"><![CDATA[\bar {x}\in  E_{x}]]></fr:tex> and <fr:tex display="inline"><![CDATA[\bar {y}\in  E_{y}]]></fr:tex>, a family of collections of <html:em>displayed morphisms</html:em> <fr:tex display="inline"><![CDATA[\mathbf {hom}_{E_{f}}{\mathopen {}\left (\bar {x},\bar {y}\right )\mathclose {}}]]></fr:tex>, an element of which shall denote by <fr:tex display="inline"><![CDATA[{\bar {x}}\xrightarrow [f]{\bar {f}}{\bar {y}}]]></fr:tex>,</html:li>

  <html:li>for each <fr:tex display="inline"><![CDATA[x\in  B]]></fr:tex> and <fr:tex display="inline"><![CDATA[\bar {x}\in  E_{x}]]></fr:tex>, a displayed morphism <fr:tex display="inline"><![CDATA[{\bar {x}}\xrightarrow [1_{x}]{1_{\bar {x}}}{\bar {x}}]]></fr:tex>,</html:li>

  <html:li>for each <fr:tex display="inline"><![CDATA[{x}\xrightarrow {{f}}{y}]]></fr:tex> and <fr:tex display="inline"><![CDATA[{y}\xrightarrow {{g}}{z}]]></fr:tex> in <fr:tex display="inline"><![CDATA[B]]></fr:tex> and objects <fr:tex display="inline"><![CDATA[\bar {x}\in  E_{x}, \bar {y}\in  E_{y}, \bar {z}\in  E_{z}]]></fr:tex>, a function

    <fr:tex display="block"><![CDATA[ \mathbf {hom}_{E_{f}}{\mathopen {}\left (\bar {x},\bar {y}\right )\mathclose {}} \times \mathbf {hom}_{E_{g}}{\mathopen {}\left (\bar {y},\bar {z}\right )\mathclose {}} \to  \mathbf {hom}_{E_{f;g}}{\mathopen {}\left (\bar {x},\bar {z}\right )\mathclose {}}
    ]]></fr:tex>

    that we will denote like ordinary (diagrammatic) function composition,</html:li>

  <html:li>such that the following equations hold:

    <fr:tex display="block"><![CDATA[          1_{\bar {x}};\bar {h} = \bar {h}\qquad 
    \bar {h};1_{\bar {y}} = \bar {h}\qquad 
    \bar {f};(\bar {g};\bar {h}) = (\bar {f};\bar {g});\bar {h}
    ]]></fr:tex>


    Note that these are well-defined because of the corresponding laws for the base category <fr:tex display="inline"><![CDATA[B]]></fr:tex>.</html:li></html:ol>
            <fr:tree show-metadata="false">
              <fr:frontmatter>
                <fr:authors />
                <fr:date>
                  <fr:year>2022</fr:year>
                  <fr:month>12</fr:month>
                  <fr:day>27</fr:day>
                </fr:date>
                <fr:uri>https://www.jonmsterling.com/frct-003R/</fr:uri>
                <fr:display-uri>frct-003R</fr:display-uri>
                <fr:route>/frct-003R/</fr:route>
                <fr:title text="Square brackets for subscripts">Square brackets for subscripts</fr:title>
                <fr:taxon>Notation</fr:taxon>
              </fr:frontmatter>
              <fr:mainmatter>
                <html:p>When we have too many subscripts, we will write <fr:tex display="inline"><![CDATA[E[x]]]></fr:tex> instead of <fr:tex display="inline"><![CDATA[E_{x}]]></fr:tex>.</html:p>
              </fr:mainmatter>
            </fr:tree>
          </fr:mainmatter>
        </fr:tree>
      </fr:mainmatter>
    </fr:tree>
    <fr:tree show-metadata="false" hidden-when-empty="true">
      <fr:frontmatter>
        <fr:authors />
        <fr:title text="Contributions">Contributions</fr:title>
      </fr:frontmatter>
      <fr:mainmatter />
    </fr:tree>
  </fr:backmatter>
</fr:tree>
