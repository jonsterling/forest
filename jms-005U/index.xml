<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="/default.xsl"?>
<fr:tree xmlns:fr="http://www.forester-notes.org" xmlns:html="http://www.w3.org/1999/xhtml" xmlns:xml="http://www.w3.org/XML/1998/namespace" root="false" base-url="/">
  <fr:frontmatter>
    <fr:authors>
      <fr:author>
        <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
      </fr:author>
    </fr:authors>
    <fr:date>
      <fr:year>2023</fr:year>
      <fr:month>7</fr:month>
      <fr:day>17</fr:day>
    </fr:date>
    <fr:uri>https://www.jonmsterling.com/jms-005U/</fr:uri>
    <fr:display-uri>jms-005U</fr:display-uri>
    <fr:route>/jms-005U/</fr:route>
    <fr:title text="About this website">About this website</fr:title>
  </fr:frontmatter>
  <fr:mainmatter>
    <html:p>This website is a “<fr:link href="https://www.forester-notes.org/tfmt-000V/" title="Forests of evergreen notes" uri="https://www.forester-notes.org/tfmt-000V/" display-uri="https://www.forester-notes.org/tfmt-000V/" type="local">forest</fr:link>” created using the <fr:link href="https://www.forester-notes.org/index/" title="Forester" uri="https://www.forester-notes.org/index/" display-uri="https://www.forester-notes.org/index/" type="local">Forester</fr:link> tool. I organize my thoughts here on a variety of topics at a granular level; sometimes these thoughts are <fr:link href="https://www.forester-notes.org/tfmt-0007/" title="Atomicity of scientific notes" uri="https://www.forester-notes.org/tfmt-0007/" display-uri="https://www.forester-notes.org/tfmt-0007/" type="local">self-contained</fr:link>, and at times I may organize them into larger <fr:link href="/jms-0047/" title="Notes on duploid theory" uri="https://www.jonmsterling.com/jms-0047/" display-uri="jms-0047" type="local">notebooks</fr:link> or <fr:link href="/frct-003I/" title="Foundations of relative category theory" uri="https://www.jonmsterling.com/frct-003I/" display-uri="frct-003I" type="local">lecture notes</fr:link>. My nascent ideas about the design of <fr:link href="https://www.forester-notes.org/tfmt-0002/" title="Tool for scientific thought" uri="https://www.forester-notes.org/tfmt-0002/" display-uri="https://www.forester-notes.org/tfmt-0002/" type="local">tools for scientific thought</fr:link> are <fr:link href="https://www.forester-notes.org/tfmt-0001/" title="Designing tools for scientific thought" uri="https://www.forester-notes.org/tfmt-0001/" display-uri="https://www.forester-notes.org/tfmt-0001/" type="local">here</fr:link>. I welcome collaboration on any of the topics represented in my forest. To navigate my forest, press <html:kbd><html:kbd>Ctrl</html:kbd>+<html:kbd>K</html:kbd></html:kbd>.</html:p>
  </fr:mainmatter>
  <fr:backmatter>
    <fr:tree show-metadata="false" hidden-when-empty="true">
      <fr:frontmatter>
        <fr:authors />
        <fr:title text="References">References</fr:title>
      </fr:frontmatter>
      <fr:mainmatter />
    </fr:tree>
    <fr:tree show-metadata="false" hidden-when-empty="true">
      <fr:frontmatter>
        <fr:authors />
        <fr:title text="Context">Context</fr:title>
      </fr:frontmatter>
      <fr:mainmatter>
        <fr:tree show-metadata="true" expanded="false" toc="false" numbered="false">
          <fr:frontmatter>
            <fr:authors>
              <fr:author>
                <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
              </fr:author>
            </fr:authors>
            <fr:uri>https://www.jonmsterling.com/index/</fr:uri>
            <fr:display-uri>index</fr:display-uri>
            <fr:route>/index/</fr:route>
            <fr:title text="Jon Sterling">Jon Sterling</fr:title>
            <fr:meta name="author">false</fr:meta>
          </fr:frontmatter>
          <fr:mainmatter><html:p>I am an <html:em>Associate Professor in Logical Foundations and Formal Methods</html:em> at the <fr:link href="https://www.cst.cam.ac.uk/people/js2878/" type="external">University of Cambridge</fr:link>, and a Fellow of <fr:link href="/jms-00GP/" title="Clare College" uri="https://www.jonmsterling.com/jms-00GP/" display-uri="jms-00GP" type="local">Clare College</fr:link>. I study programming languages and semantics using type theory, category theory, domain theory, and topos theory as a guide. My other interests include Near Eastern, Classical, and Germanic philology. Find my contact information <fr:link href="https://www.cst.cam.ac.uk/people/js2878" type="external">here</fr:link>. See <fr:link href="/jms-0064/" title="Works of Jon Sterling" uri="https://www.jonmsterling.com/jms-0064/" display-uri="jms-0064" type="local">my bibliography</fr:link> and my <fr:link href="/jms-0063/" title="Students" uri="https://www.jonmsterling.com/jms-0063/" display-uri="jms-0063" type="local">list of students</fr:link>.</html:p>
  
  
  
  <fr:tree show-metadata="false" numbered="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2023</fr:year><fr:month>7</fr:month><fr:day>17</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-005U/</fr:uri><fr:display-uri>jms-005U</fr:display-uri><fr:route>/jms-005U/</fr:route><fr:title text="About this website">About this website</fr:title></fr:frontmatter><fr:mainmatter><html:p>This website is a “<fr:link href="https://www.forester-notes.org/tfmt-000V/" title="Forests of evergreen notes" uri="https://www.forester-notes.org/tfmt-000V/" display-uri="https://www.forester-notes.org/tfmt-000V/" type="local">forest</fr:link>” created using the <fr:link href="https://www.forester-notes.org/index/" title="Forester" uri="https://www.forester-notes.org/index/" display-uri="https://www.forester-notes.org/index/" type="local">Forester</fr:link> tool. I organize my thoughts here on a variety of topics at a granular level; sometimes these thoughts are <fr:link href="https://www.forester-notes.org/tfmt-0007/" title="Atomicity of scientific notes" uri="https://www.forester-notes.org/tfmt-0007/" display-uri="https://www.forester-notes.org/tfmt-0007/" type="local">self-contained</fr:link>, and at times I may organize them into larger <fr:link href="/jms-0047/" title="Notes on duploid theory" uri="https://www.jonmsterling.com/jms-0047/" display-uri="jms-0047" type="local">notebooks</fr:link> or <fr:link href="/frct-003I/" title="Foundations of relative category theory" uri="https://www.jonmsterling.com/frct-003I/" display-uri="frct-003I" type="local">lecture notes</fr:link>. My nascent ideas about the design of <fr:link href="https://www.forester-notes.org/tfmt-0002/" title="Tool for scientific thought" uri="https://www.forester-notes.org/tfmt-0002/" display-uri="https://www.forester-notes.org/tfmt-0002/" type="local">tools for scientific thought</fr:link> are <fr:link href="https://www.forester-notes.org/tfmt-0001/" title="Designing tools for scientific thought" uri="https://www.forester-notes.org/tfmt-0001/" display-uri="https://www.forester-notes.org/tfmt-0001/" type="local">here</fr:link>. I welcome collaboration on any of the topics represented in my forest. To navigate my forest, press <html:kbd><html:kbd>Ctrl</html:kbd>+<html:kbd>K</html:kbd></html:kbd>.</html:p></fr:mainmatter></fr:tree>
<html:p>You access my <html:mark><fr:link href="/jms-0064/" title="Works of Jon Sterling" uri="https://www.jonmsterling.com/jms-0064/" display-uri="jms-0064" type="local">personal bibliography</fr:link></html:mark> or my <fr:link href="/jms-008L/" title="Curriculum vitæ" uri="https://www.jonmsterling.com/jms-008L/" display-uri="jms-008L" type="local">curriculum vitæ</fr:link>.</html:p><fr:tree show-metadata="false" expanded="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:uri>https://www.jonmsterling.com/jms-007W/</fr:uri><fr:display-uri>jms-007W</fr:display-uri><fr:route>/jms-007W/</fr:route><fr:title text="Blog">Blog</fr:title></fr:frontmatter><fr:mainmatter><html:p>This is my blog, in which I write about a variety of topics including computer science, mathematics, and the design of tools for scientists. See also my <fr:link href="/jms-014T/" title="Jon Sterling › Creek" uri="https://www.jonmsterling.com/jms-014T/" display-uri="jms-014T" type="local">“creek”</fr:link> for shorter-form posts; or see just my <fr:link href="/jms-015X/" title="The Jon Sterling Review of Books" uri="https://www.jonmsterling.com/jms-015X/" display-uri="jms-015X" type="local">book reviews</fr:link>; I also publish <fr:link href="/jms-019X/" title="Jon Sterling › Weeknotes" uri="https://www.jonmsterling.com/jms-019X/" display-uri="jms-019X" type="local">weeknotes</fr:link>. You can subscribe to the <fr:link href="/jms-007W/atom.xml" type="external">Atom feed</fr:link> if you prefer.</html:p><fr:tree show-metadata="true" expanded="false" toc="false" numbered="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2025</fr:year><fr:month>4</fr:month><fr:day>25</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-01AS/</fr:uri><fr:display-uri>jms-01AS</fr:display-uri><fr:route>/jms-01AS/</fr:route><fr:title text="We have AI at home…">We have AI at home…</fr:title></fr:frontmatter><fr:mainmatter><html:p>On Tuesday, I travelled by train to Sheffield to take part in the <fr:link href="/yamcats-37/" title="Yorkshire and Midlands Category Theory Seminar 37" uri="https://www.jonmsterling.com/yamcats-37/" display-uri="yamcats-37" type="local">Yorkshire and Midlands Category Theory Seminar 37</fr:link> meeting, where I would be <fr:link href="/sterling-2025-yamcats-37/" title="When is the partial map classifier a Sierpiński cone?" uri="https://www.jonmsterling.com/sterling-2025-yamcats-37/" display-uri="sterling-2025-yamcats-37" type="local">speaking</fr:link> about my <fr:link href="/pugh-sterling-2025/" title="When is the partial map classifier a Sierpiński cone?" uri="https://www.jonmsterling.com/pugh-sterling-2025/" display-uri="pugh-sterling-2025" type="local">paper</fr:link> that compares partial map classifiers with Sierpiński cones in synthetic (domain/category) theory, which I <fr:link href="/jms-01A6/" title="Weeknotes 2025-W15 › Two papers to appear in LICS ’25 › With Leoni Pugh: When is the partial map classifier a Sierpiński cone?" uri="https://www.jonmsterling.com/jms-01A6/" display-uri="jms-01A6" type="local">summarised previously</fr:link>.</html:p><fr:tree show-metadata="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2025</fr:year><fr:month>4</fr:month><fr:day>25</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-01AT/</fr:uri><fr:display-uri>jms-01AT</fr:display-uri><fr:route>/jms-01AT/</fr:route><fr:title text="A pleasant surprise">A pleasant surprise</fr:title></fr:frontmatter><fr:mainmatter><html:p>I was preparing for my chalk talk when I realised that I could not remember the details of the proof of the main result and they couldn’t really be reconstructed from the abbreviated proof in the paper.</html:p><html:p>Luckily, I had actually formalised this result in Agda! I did not mention my formalisation in the paper because I do not think of formalisations as scientific contributions except in certain cases (that is a conversation for another day). But I did indeed formalise it because the proof was subtle enough that I needed computerised assistance back when I proved it the first time. The result I obtained was frustratingly weak, and seemed to require some annoying side conditions in order to go through; the formalisation helped me be certain that these side conditions were in fact sufficient.</html:p><html:p>Anyway, I was messing around with the code and what I realised was that I had missed a trick back then: <html:strong>one of the side conditions was actually unnecessary</html:strong>, and it seems kind of likely that the other one is unnecessary too. I am certain I would not have noticed this if I hadn't had the proof assistant, which made it easy for me to try something out and see if it worked. I should have time to update the paper to claim the strong result prior to the <fr:link href="/lics-2025/" title="LICS ’25: 40th Annual ACM/IEEE Symposium on Logic in Computer Science" uri="https://www.jonmsterling.com/lics-2025/" display-uri="lics-2025" type="local">LICS</fr:link> camera-ready deadline next month.</html:p></fr:mainmatter></fr:tree><fr:tree show-metadata="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2025</fr:year><fr:month>4</fr:month><fr:day>25</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-01AU/</fr:uri><fr:display-uri>jms-01AU</fr:display-uri><fr:route>/jms-01AU/</fr:route><fr:title text="Arise, symbolic AI!">Arise, symbolic AI!</fr:title></fr:frontmatter><fr:mainmatter><html:p>There is a lot of discussion lately of the impact that some current machine learning techniques, marketed as “Artificial Intelligence”, can have on formalisation of mathematics in proof assistants. Some of the <fr:link href="https://www.math.ucla.edu/~tao/" type="external">most esteemed</fr:link> members of the mathematical community have gone <html:em>all in</html:em> on this trend <html:span style="font-size: smaller">(is it a requirement of scientific fame and esteem that you begin to cause trouble in areas of research that you know nothing about?)</html:span>, but I think that evaluating LLMs on Olympiad questions is really missing the point of what computers can do to assist mathematicians. Olympiads are a good fit for LLMs, because kids who participate in Olympiads are behaving much more like LLMs than human mathematicians—the mathematics Olympiad is the ultimate feat of pattern-recognition without understanding, and they are certainly a good fit for the <html:em>Might Makes Right</html:em> approach being taken within AI today.</html:p><html:p>Agda (and Lean and Rocq and Isabelle) are “Artificial Intelligences” in the most progressive sense—they augment the limited context that a human can store in their mind at once, and are nimble tools for working mathematicians to check and verify their ideas, and (most importantly) they do not proceed by creating a fetish of illusion and misdirection that deceives the public. Their capabilities are limited, but well-circumscribed. I think often about how important it is to know in a definite sense what a tool can and cannot do, and I increasingly think that this is actually part of what makes something a <html:em>tool</html:em>. Some of my colleagues have compared LLMs to calculators, in order to make the case that we should get ready for them to be used as everyday tools; but LLMs are not simply tools in the sense that a calculator is a tool.</html:p></fr:mainmatter></fr:tree></fr:mainmatter></fr:tree><fr:tree show-metadata="true" expanded="false" toc="false" numbered="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2025</fr:year><fr:month>4</fr:month><fr:day>17</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-01AH/</fr:uri><fr:display-uri>jms-01AH</fr:display-uri><fr:route>/jms-01AH/</fr:route><fr:title text="Putting Mac OS X Tiger back to work">Putting Mac OS X Tiger back to work</fr:title></fr:frontmatter><fr:mainmatter><html:p>Over the Christmas holiday, I bought an iMac off eBay for £50. Why was it so cheap? Because it is a 2006 model firing on a single gigabyte of RAM with an Intel Core 2 Duo processor, running Mac OS X Tiger. When I was a kid, I dreamed of having a computer like this—for me, the white plastic era will always be peak Apple design, and Tiger’s version of Aqua was the most polished and refined form of the design language that they ever managed to produce. My first Macintosh was a white polycarbonate unibody MacBook running Leopard—and at the time I greatly regretted having just missed the Tiger era for the gaudy and overly darkened feel of Leopard with its sinister-coloured window controls. I did not know at the time how much worse things would get…</html:p><html:p>My excuse for purchasing this machine was that I “needed” to run Mac OS X Tiger as “research” for my experimental project <fr:link href="https://github.com/jonsterling/aquaui" type="external">AquaUI</fr:link>, which imagines how the Aqua design language could have evolved if it had been allowed to. But really, I wanted to relive my rare trips to Apple retailers as a kid, where I would spend minutes doing nothing but just moving the scrollbar while watching its stationary “wave” texture, or highlighting buttons to see them burst with blue radiance.</html:p><html:p>(I spoke about many of the topics covered in this post in my appearance on the <fr:link href="https://kodsnack.se/" type="external">Kodsnack podcast</fr:link> hosted by Fredrik Björeman: <html:em><fr:link href="https://kodsnack.se/international/626/" type="external">Episode 626, “The great flattening of everything”</fr:link></html:em>.)</html:p><fr:tree show-metadata="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2025</fr:year><fr:month>4</fr:month><fr:day>17</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-01AI/</fr:uri><fr:display-uri>jms-01AI</fr:display-uri><fr:route>/jms-01AI/</fr:route><fr:title text="Day One: what can you do 19 year old iMac?">Day One: what can you do 19 year old iMac?</fr:title></fr:frontmatter><fr:mainmatter><html:p>When the delivery came, I took the machine gingerly out of its battered and taped over original packaging and turned it on to a feeling of great excitement, which quickly gave way to loss and melancholy: so much of what computers are “for” involves the World Wide Web, and the forced transition to HTTPS/TLS has stolen access to the Web from users of many working computers of access to the Web (unless they gut the machine by downgrading to a modern but severely less polished operating system, like Linux). The old Intel Macs are a prime example of this loss—although some <fr:link href="https://tenfourfox.blogspot.com/" type="external">volunteer projects exist</fr:link> to enable safe access to the Web for PowerPC machines, older Intel Macintoshes have received comparatively less attention. Capitalist forced obsolescence comes to all, however, and there will no doubt come a time when the “necessary” “security” routines will simply not be executable with the kinds of hardware resources that could be mustered in 2006, no matter the system architecture. After playing around and finding much of the functionality crippled due to being barred from the Internet, I had to ask myself, <html:strong>What should I even do with this thing?</html:strong></html:p><html:p>The iMac lay dormant in my <fr:link href="/jms-00GP/" title="Clare College" uri="https://www.jonmsterling.com/jms-00GP/" display-uri="jms-00GP" type="local">College</fr:link> room for the next few months while I figured out an answer to that question.</html:p><html:figure><html:img width="300px" src="/bafkrmiejjxl32uo7vfhgpkbkxuiww4vabuu745bhajcrleqi7uz4blqjay.gif" />

    <html:figcaption>My iMac sleeping peacefully in my office at <fr:link href="/jms-00GP/" title="Clare College" uri="https://www.jonmsterling.com/jms-00GP/" display-uri="jms-00GP" type="local">Clare College</fr:link> Memorial Court, connected to a vintage A1048 keyboard and Apple Pro Mouse (as it should be!). Nearby is my iPod Classic, which I use for about an hour each day and charge once every 6-8 weeks.</html:figcaption></html:figure></fr:mainmatter></fr:tree><fr:tree show-metadata="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2025</fr:year><fr:month>4</fr:month><fr:day>17</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-01AJ/</fr:uri><fr:display-uri>jms-01AJ</fr:display-uri><fr:route>/jms-01AJ/</fr:route><fr:title text="With a little love, everything has a use">With a little love, <html:em>everything</html:em> has a use</fr:title></fr:frontmatter><fr:mainmatter><html:p>Last week I finally realised that there is a lot I can still do with this machine. I turned it on when I had a bit of free time, and found that it remains very snappy—software opens instantly without hanging, and in fact the built-in programs are significantly less bug-ridden than they were in subsequent versions of Mac OS X and its (unworthy) successor macOS. To put this into perspective, the “outdated” iMac’s performance was far better than that of my last Intel iMac from 2020 with sixteen times the RAM and several times the processor cores.</html:p><html:p>It is well-known that hardware capabilities get better and better each year, but this did not translate into improved performance for users until after the Apple Silicon transition—when the hardware improvement was so great that it was able to outpace the deathmarch of inefficient software, for a time. Don’t worry, the “transition to AI” is going to destroy all those gains soon and we’ll be back where we started.</html:p><html:figure><html:img width="300px" src="/bafkrmiaaxhqvbslbd3sb6mafhlrxswbdbwipj4bzhuewlg7il73mhq7l7y.jpeg" />

    <html:figcaption>Mac OS X Tiger is still King—with the peak versions of Finder, Preview, and iTunes.</html:figcaption></html:figure><html:p>But I digress. Even if you can’t use the Web, there are many things that a 19 year old iMac running Mac OS X Tiger is better at than a more recently manufactured machine. For example, Tiger was the last version of Mac OS X in which Preview.app (the PDF and image viewer) had a working search interface; from the subsequent version (Leopard) all the way until the present day, searching is somehow both too fuzzy and not fuzzy enough, and there seems to be no combination of quotation marks that will lead to reasonable results appearing in the search pane. (Same with Mail.app, which has somehow got <html:em>even worse</html:em> in the past year; you can’t connect to email on such an old machine anyway, so the point is moot.)</html:p><html:p>Similarly, iTunes 7 was the functional peak for Apple’s music management and playback software (although iTunes 6 was visually superior), and people who have only used Apple’s current “Music” app will not be able to understand what they are missing. Likewise, the version of Finder shipped with Tiger was the most polished and least buggy version they ever produced; it is really amazing to switch back and forth between macOS 15.3 and Mac OS X 10.4, and find that most of the bugs or usability problems I have encountered on a daily basis for the past decade or so are actually <html:em>regressions</html:em>.</html:p><fr:tree show-metadata="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2025</fr:year><fr:month>4</fr:month><fr:day>17</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-01AK/</fr:uri><fr:display-uri>jms-01AK</fr:display-uri><fr:route>/jms-01AK/</fr:route><fr:title text="The perfect music and PDF reading workstation">The perfect music and PDF reading workstation</fr:title></fr:frontmatter><fr:mainmatter><html:p>So I transferred my music and PDF libraries to the iMac—this was easy to do by creating a local WiFi network from the iMac, a functionality that has been removed in macOS(!). Indeed, modern macOS has replaced some (but not all) aspects of this functionality with what is called “Internet Sharing”, but this feature does not work reliably and in many cases the needful functionalities are unpredictably grayed out and disabled without any message explaining why. Death by a thousand papercuts... But I digress: I set up a local WiFi network with a file server easily using the old <html:em>System Preferences</html:em> application (don’t get me started on the bizarre redesign of System Settings introduced in macOS Ventura), and easily transferred everything I wanted to the iMac and then I was off to the races.</html:p><html:p>I listen to music and study papers on this machine, and it gives me so much joy to <html:em>use</html:em> this masterpiece of practical industrial design every day—I even write referee reports on it using an ancient version of <fr:link href="https://www.omnigroup.com/omnioutliner/" type="external">OmniOutliner</fr:link>, a venerable piece of software that I have to say has not improved much in the past two decades. After installing a copy of <fr:link href="https://macintoshgarden.org/apps/scrivener" type="external">Scrivener 2.5</fr:link> (don’t worry, I own a license for <fr:link href="https://www.literatureandlatte.com/" type="external">Scrivener 3.0</fr:link> and you should too!), I find myself creative writing in my free time like it’s 2006.</html:p></fr:mainmatter></fr:tree><fr:tree show-metadata="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2025</fr:year><fr:month>4</fr:month><fr:day>17</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-01AL/</fr:uri><fr:display-uri>jms-01AL</fr:display-uri><fr:route>/jms-01AL/</fr:route><fr:title text="What about my iPod Classic?">What about my iPod Classic?</fr:title></fr:frontmatter><fr:mainmatter><html:p>Some of you may be aware that I use an iPod Classic every day. The thing is a godsend—the best mobile device I own. I bought it with a fresh battery and SSD, and the damn battery lasts for months before I have to recharge it. That is the kind of technology that was taken from us and replaced by resource-intensive devices governed by the logic of planned obsolescence. But I have it back—my world is not the same as your world, but it is a world I am glad to have returned to.</html:p><html:p>Naturally, the first thing I wanted to do was use the iMac as a hub for synchronising the iPod with iTunes. This will work, but what I did not anticipate is that one of my main uses of the iPod is to listen to podcasts, and podcasts cannot be downloaded on the iMac because of the vicious imposition of TLS on all parts of the web that didn’t need it (<fr:link href="https://letsencrypt.org/" type="external">Let’s Encrypt</fr:link> really ought to have been called <html:em>Let’s Kill The Open Web</html:em>). So I continue synchronising my iPod with my modern day MacBook Air—and it is a testament to Apple’s historical approach to backward compatibility that this is still possible (and even integrated with the otherwise terrible Podcasts app!).</html:p></fr:mainmatter></fr:tree></fr:mainmatter></fr:tree><fr:tree show-metadata="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2025</fr:year><fr:month>4</fr:month><fr:day>17</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-01AM/</fr:uri><fr:display-uri>jms-01AM</fr:display-uri><fr:route>/jms-01AM/</fr:route><fr:title text="Is retrocomputing sustainable?">Is retrocomputing sustainable?</fr:title></fr:frontmatter><fr:mainmatter><html:p>I constantly feel a pang in the back of my throat when I think about retrocomputing over the long term. We are scrounging around for intact pieces of old technology, but there will come a time when these are too scarce, or when we have really lost the ability to repair them. It is like living in a post-apocalyptic film where a cataclysm has made all manufacturing impossible—but today the cataclysm is not a war or even a virus, but just the simple vicious logic of Capital and a technology industry that has hitched itself to the most ignorant and anti-human trends emanating from the most technologically ignorant people on Wall Street.</html:p><html:p>Retrocomputing is decidedly <html:em>not</html:em> sustainable, in the same sense that living on a stash of canned foods that can no longer be manufactured cannot be sustainable. But also unsustainable is the present day technological treadmill of consumer goods containing precious metals and dangerous chemicals being produced in the billions and sent directly almost directly to the landfill.</html:p><html:p>I think a better question to ask is whether retrocomputing is <html:em>progressive</html:em>. I think that retrocomputing can be progressive insofar as it is part of a practice of looking <html:em>forward</html:em>—how can we build sovereign technology that respects constrained resources as well as users of different abilities, and cannot be taken away or made useless by Capital and the irrational whims of the stock market. Such a project <html:em>must</html:em> have a significant design component, and this cannot be done amateurishly; looking to the iconic design languages of the past for inspiration and education is, then, deeply progressive in this environment.</html:p><html:p>The tragedy of Mac OS X is not that Apple took it away and replaced it with something inferior: the tragedy is that free software communities have never managed to produce something even remotely approaching its level of fit and finish. Volunteer projects do not deserve my ire, which I reserve for our economic system in which nearly <html:em>all</html:em> competent design work is confined to corporate environments, and then wiped away when the wind shifts.</html:p></fr:mainmatter></fr:tree><fr:tree show-metadata="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2025</fr:year><fr:month>4</fr:month><fr:day>17</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-01AN/</fr:uri><fr:display-uri>jms-01AN</fr:display-uri><fr:route>/jms-01AN/</fr:route><fr:title text="Bring back the joy in computing!">Bring back the joy in computing!</fr:title></fr:frontmatter><fr:mainmatter><html:p>Forget your troubles and find something that makes you smile, and reminds you of what is possible when a team brimming with talent comes together to build something beautiful.</html:p><html:p>Write to me with any joyful and quirky projects, hardware or software, that you would like to share.</html:p></fr:mainmatter></fr:tree></fr:mainmatter></fr:tree><fr:tree show-metadata="true" expanded="false" toc="false" numbered="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2025</fr:year><fr:month>4</fr:month><fr:day>6</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-019W/</fr:uri><fr:display-uri>jms-019W</fr:display-uri><fr:route>/jms-019W/</fr:route><fr:title text="Ventriloquy of the Mid-Century Man">Ventriloquy of the Mid-Century Man</fr:title></fr:frontmatter><fr:mainmatter><html:p>Moments before leaving for a meeting in Barbados with my colleagues <fr:link href="/anilmadhavapeddy/" title="Anil Madhavapeddy" uri="https://www.jonmsterling.com/anilmadhavapeddy/" display-uri="anilmadhavapeddy" type="local">Anil Madhavapeddy</fr:link> and <fr:link href="https://www.tunbury.org/" type="external">Mark Elvers</fr:link>, I hastily loaded Arthur C. Clarke’s <fr:link href="/clarke-1979/" title="The Fountains of Paradise" uri="https://www.jonmsterling.com/clarke-1979/" display-uri="clarke-1979" type="local">The Fountains of Paradise</fr:link> onto my Kindle for airplane reading. I really want to love “hard science fiction” — I spent months with Asimov’s <html:em>Foundation</html:em> in 2022 — but I must admit that I am struggling with the limitations of this genre.</html:p><html:figure><html:img width="200px" src="/bafkrmicus43xa6wklmijk6ljw34mnvajzuofcpdkwkvyhodxflyj3c6jji.jpg" />
 <html:figcaption>The cover of <fr:link href="/clarke-1979/" title="The Fountains of Paradise" uri="https://www.jonmsterling.com/clarke-1979/" display-uri="clarke-1979" type="local">The Fountains of Paradise</fr:link>.</html:figcaption></html:figure><html:p>In her <fr:link href="https://www.theparisreview.org/interviews/6253/the-art-of-fiction-no-221-ursula-k-le-guin" type="external">2013 interview with The Paris Review</fr:link>, <fr:link href="/ursulakleguin/" title="Ursula K. Le Guin" uri="https://www.jonmsterling.com/ursulakleguin/" display-uri="ursulakleguin" type="local">Ursula Le Guin</fr:link> questioned the hard/soft divide in science fiction, pointing out that the distinction seems to be based on authors and readers of sci-fi arbitrarily deciding which of the sciences are “Science” and which aren’t.</html:p><html:blockquote>The “hard”–science fiction writers dismiss everything except, well, physics, astronomy, and maybe chemistry. Biology, sociology, anthropology—that’s not science to them, that’s soft stuff. They’re not that interested in what human beings do, really. But I am. I draw on the social sciences a great deal. I get a lot of ideas from them, particularly from anthropology. When I create another planet, another world, with a society on it, I try to hint at the complexity of the society I’m creating, instead of just referring to an empire or something like that.</html:blockquote><html:p>There is a good point here, and Le Guin’s attention to social sciences and anthropology and history was indeed a strength, but Asimov was also preoccupied with the same throughout <html:em>Foundation</html:em>. So what is the difference, aside from the fact that <html:em>Foundation</html:em> was written by a man? Well, it cannot be unrelated to Asimov being a man, but perhaps we will get to the point sooner by referring to a specific type of man — the <html:em>Mid-Century Man</html:em>.</html:p><html:p>The Mid-Century Man has no time for the usual literary rules governing the development of characters and their arc of growth. He is interested in science and humanity, yes, but through the lens of his own avatar whom he transplants directly from our world of his time into the futuristic world of his story. This hapless transplant finds himself, with no volition, speaking the author’s words through his own lips… He hears his own voice prattle on about “the last refuge of the incompetent” and can do absolutely nothing about it.</html:p><html:p>The inclination of the Mid-Century Man to spill no ink that might distract from his speculations (flavoured with thematic orientalism, as in the case of <fr:link href="/clarke-1979/" title="The Fountains of Paradise" uri="https://www.jonmsterling.com/clarke-1979/" display-uri="clarke-1979" type="local">Fountains</fr:link>) is not limited to hard science fiction — Herbert falls prey to the same tendancy in <html:em>Dune</html:em>, which I adore, but he is saved by his mastery of the tragedy-form: indeed, we are already weeping with Paul over Chani’s fate a quarter of the way through <html:em>Dune Messiah</html:em>.</html:p><html:p>In contrast, there is little that is compelling about the characters of <fr:link href="/clarke-1979/" title="The Fountains of Paradise" uri="https://www.jonmsterling.com/clarke-1979/" display-uri="clarke-1979" type="local">The Fountains of Paradise</fr:link>, nor those of <html:em>2001: A Space Odyssey</html:em>, and the same holds for Asimov’s <html:em>Foundation</html:em>. The mostly one-dimensional characters of these works are foils for the authors’ speculative ideas about technology or “future history”, and a shorter work could have been written that omits the ventriloquy act entirely and just directly makes the point the author so strongly wished to make.</html:p><html:p>Will <fr:link href="/clarke-1979/" title="The Fountains of Paradise" uri="https://www.jonmsterling.com/clarke-1979/" display-uri="clarke-1979" type="local">Fountains</fr:link> be the last “hard science fiction” book I read? Surely not… There is still much to enjoy and marvel over — and there is a true sense in which Clarke’s elevator to Heaven is compelling enough to outweigh even the worst of his flimsy characterisation.</html:p></fr:mainmatter></fr:tree><fr:tree show-metadata="true" expanded="false" toc="false" numbered="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2025</fr:year><fr:month>3</fr:month><fr:day>23</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-019O/</fr:uri><fr:display-uri>jms-019O</fr:display-uri><fr:route>/jms-019O/</fr:route><fr:title text="Winter in Eden and Return to Eden: an imperfect conclusion"><fr:link href="/harrison-1986/" title="Winter in Eden" uri="https://www.jonmsterling.com/harrison-1986/" display-uri="harrison-1986" type="local">Winter in Eden</fr:link> and <fr:link href="/harrison-1988/" title="Return to Eden" uri="https://www.jonmsterling.com/harrison-1988/" display-uri="harrison-1988" type="local">Return to Eden</fr:link>: an imperfect conclusion</fr:title></fr:frontmatter><fr:mainmatter><html:p>Two months ago I <fr:link href="/jms-015W/" title="West of Eden: you can judge a book by its cover" uri="https://www.jonmsterling.com/jms-015W/" display-uri="jms-015W" type="local">reviewed</fr:link> Harry Harrison’s delightful <fr:link href="/harrison-1984/" title="West of Eden" uri="https://www.jonmsterling.com/harrison-1984/" display-uri="harrison-1984" type="local">West of Eden</fr:link>, a piece of speculative fiction that considers a world in which the Cretaceous–Paleogene extinction event never occurred, and one species of dinosaur went on to evolve over the subsequent 66 million years into a highly sophisticated society stratified by uneven linguistic abilities. The most intelligent stratum of this species calls itself <html:em>Yilanè</html:em>, which is at once an ethnonym and a classification of linguistic ability.</html:p><html:p>In Harrison’s Eden, reptiles of all kinds dominate Africa (<html:em>Entoban</html:em> in Yilanè) whereas mankind (<html:em>Tanu</html:em> and <html:em>Sasku</html:em> in their languages) and other mammals live in North America (<html:em>Gendasi</html:em> in Yilanè), confined at first mainly to its colder northern reaches. The icy winds of climate change blow across Entoban and northern Gendasi alike, which leads mankind to migrate south just as the Yilanè begin to colonise southern Gendasi. The encounter of Tanu and Yilanè is predictably violent—when the Tanu encounter the torpid Yilanè males basking on the birthing beaches of Alpèasak (the new Yilanè colony in our own Florida), they slay them immediately and spark a war of the species that shapes the entire trilogy.</html:p><html:figure><html:img height="200px" src="/bafkrmiabjfjguelr6ayscwbzqonts26dkvhmephxe2g5gy5dvjbxuctjem.jpg" />
  <html:img height="200px" src="/bafkrmiacwpt7ky5yniefejcq7nqp7cdlphmvu6ka6zrxgnn63p4t7g4dwi.jpg" />
  <html:img height="200px" src="/bafkrmih7i2jw3w4f353s2sotl3ywcssizf5crvycejoxcuvwlinmax5u7a.jpg" />

 <html:figcaption>Covers of the Eden Trilogy.</html:figcaption></html:figure><html:p>That is the premise of <fr:link href="/harrison-1984/" title="West of Eden" uri="https://www.jonmsterling.com/harrison-1984/" display-uri="harrison-1984" type="local">West of Eden</fr:link>, the first book of the Eden Trilogy, which tells the story of a young Tanu man named Kerrick who is kidnapped and raised by Yilanè in Alpèasak. The next two books, <fr:link href="/harrison-1986/" title="Winter in Eden" uri="https://www.jonmsterling.com/harrison-1986/" display-uri="harrison-1986" type="local">Winter in Eden</fr:link> and <fr:link href="/harrison-1988/" title="Return to Eden" uri="https://www.jonmsterling.com/harrison-1988/" display-uri="harrison-1988" type="local">Return to Eden</fr:link>, concern the continuing struggle of Tanu and their Sasku allies to survive in the South while being pursued by a genocidal Yilanè expedition, and of the minority faction of Yilanè called the <html:em>Daughters of Life</html:em> who aim to establish a peaceful city in South America.</html:p><html:p>Although <fr:link href="/harrison-1986/" title="Winter in Eden" uri="https://www.jonmsterling.com/harrison-1986/" display-uri="harrison-1986" type="local">Winter in Eden</fr:link> and <fr:link href="/harrison-1988/" title="Return to Eden" uri="https://www.jonmsterling.com/harrison-1988/" display-uri="harrison-1988" type="local">Return to Eden</fr:link> share the charm of the <fr:link href="/harrison-1984/" title="West of Eden" uri="https://www.jonmsterling.com/harrison-1984/" display-uri="harrison-1984" type="local">first book</fr:link>, they do not quite live up to its promise. Without revealing anything that might spoil the Trilogy (which I do still recommend), there are several imperfections that give a reader the distinct impression of rushed writing—especially in <fr:link href="/harrison-1988/" title="Return to Eden" uri="https://www.jonmsterling.com/harrison-1988/" display-uri="harrison-1988" type="local">Return</fr:link>.</html:p><html:ul><html:li>Throughout <fr:link href="/harrison-1988/" title="Return to Eden" uri="https://www.jonmsterling.com/harrison-1988/" display-uri="harrison-1988" type="local">Return to Eden</fr:link> the toponyms <html:em>Gendasi</html:em> and <html:em>Entoban</html:em> are frequently mixed up, leading to a great deal of confusion. For example, Vaintè says “But Entoban is large, most of it unknown to us, warm and filled with good meat” but this could only refer to Gendasi in the context of the novel. I am apparently not the only person to notice this oversight, as can be seen by perusing the <fr:link href="https://www.amazon.co.uk/Return-Eden-Harry-Harrison/dp/0246126132" type="external">Amazon reviews</fr:link>.</html:li>
 <html:li>Relatedly, there is no explicit toponym for South America, which plays an important role in the story. Indeed, South America appears to be referred to as part of Gendasi, which makes sense considering the land bridge that joins it to North America, but in that case it is surprising that Gendasi is glossed as North America rather than The Americas.</html:li>
 <html:li>Several interesting story-lines appear to be dropped on the floor. What of the scientist Ambalasei’s fate, and will the radical city <html:em>Ambalasokei</html:em> survive?</html:li></html:ul><html:p>Perhaps what was needed most was more time. Despite these imperfections, I don’t regret my time in Eden—and I dream of returning there one day.</html:p></fr:mainmatter></fr:tree><fr:tree show-metadata="true" expanded="false" toc="false" numbered="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2025</fr:year><fr:month>1</fr:month><fr:day>25</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-015W/</fr:uri><fr:display-uri>jms-015W</fr:display-uri><fr:route>/jms-015W/</fr:route><fr:title text="West of Eden: you can judge a book by its cover"><fr:link href="/harrison-1984/" title="West of Eden" uri="https://www.jonmsterling.com/harrison-1984/" display-uri="harrison-1984" type="local">West of Eden</fr:link>: you <html:em>can</html:em> judge a book by its cover</fr:title></fr:frontmatter><fr:mainmatter><html:p>I have found that one could do far worse than perusing the <fr:link href="https://www.reddit.com/r/CoolSciFiCovers/" type="external">r/CoolSciFiCovers</fr:link> subreddit and picking things to read at random. This week I chose <fr:link href="/harrison-1984/" title="West of Eden" uri="https://www.jonmsterling.com/harrison-1984/" display-uri="harrison-1984" type="local">West of Eden</fr:link> based on its outstanding cover art, and it turned out to be a very enjoyable read.</html:p><html:figure><html:img width="200px" src="/bafkrmiabjfjguelr6ayscwbzqonts26dkvhmephxe2g5gy5dvjbxuctjem.jpg" />
 <html:figcaption>The cover of <fr:link href="/harrison-1984/" title="West of Eden" uri="https://www.jonmsterling.com/harrison-1984/" display-uri="harrison-1984" type="local">West of Eden</fr:link>, by Harry Harrison and illustrated by Bill Sanderson.</html:figcaption></html:figure><html:p>The premise is that the impact causing the mass extinction of non-avian dinosaurs never occurred, and neolithic Man unknowingly shares the Earth with a very advanced and highly stratified female-dominated race of intelligent lizards whose males have two penises (<html:del>don’t ask me why!</html:del> <html:ins>apparently this is common in nature</html:ins>). When climate change threatens both the human and lizard civilisations, they are forced to migrate and, in doing so, discover each other’s presence and clash violently.</html:p><html:p>Some aspects of the story are a little old-fashioned—I barely need to discuss the instinctive disgust and “racial hatred” felt by the humans and the lizards for each other, but the narrative ultimately challenges this feeling by revealing each culture to be civilised in its own terms, if not in terms that would lead to a cooperative multi-species stewardship of the Earth.</html:p><html:p>The initial inability of the intelligent lizards to fathom that the “filthy ustuzou”—the lizard phrase for humans and other mammalian creatures—may be sentient and even conscious entities of moral force is challenged by their experience, and by a religious extremist trend within their society that recognises the intrinsic value of all forms of conscious life. In a time where current science continues to reveal, bit by bit, the overconfident ignorance and moral wickedness of those who have insisted that the “lower forms of life” on our own Earth are without sentience, value, moral force (the octopus, the elephant, etc.), it is hard to read this without thinking about our own “filthy ustuzou” and the future consequences of our vicious behaviour toward them.</html:p></fr:mainmatter></fr:tree><fr:tree show-metadata="true" expanded="false" toc="false" numbered="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2024</fr:year><fr:month>11</fr:month><fr:day>17</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-013G/</fr:uri><fr:display-uri>jms-013G</fr:display-uri><fr:route>/jms-013G/</fr:route><fr:title text="We must fund intellectual infrastructure for the long term">We must fund intellectual infrastructure for the long term</fr:title></fr:frontmatter><fr:mainmatter><html:p><html:strong>How can we effectively and sustainably fund the intellectual infrastructure for generational human advancement?</html:strong> <html:em>Intellectual infrastructure</html:em>—which I would define to encompass the <html:em>tools</html:em> used to develop, teach, and learn science—is mistreated by essentially all extant funding models that I am aware of.</html:p><html:p>To be clear, when I speak of “tools” I mean not only software (like <fr:link href="https://lean-lang.org/" type="external">Lean</fr:link>, <fr:link href="https://coq.inria.fr/" type="external">Coq/Rocq</fr:link>, <fr:link href="https://wiki.portal.chalmers.se/agda/pmwiki.php" type="external">Agda</fr:link>, <fr:link href="https://isabelle.in.tum.de/" type="external">Isabelle</fr:link>, <fr:link href="https://www.forester-notes.org/index/" title="Forester" uri="https://www.forester-notes.org/index/" display-uri="https://www.forester-notes.org/index/" type="local">Forester</fr:link>, <fr:link href="https://www.sagemath.org/" type="external">SageMath</fr:link>, or <fr:link href="https://www.wolfram.com/mathematica/" type="external">Mathematica</fr:link>)—but also more broadly intellectual tools like the <fr:link href="https://ncatlab.org/nlab/show/HomePage" type="external">nLab</fr:link> and <fr:link href="https://www.forester-notes.org/stacks-project/" title="The Stacks project" uri="https://www.forester-notes.org/stacks-project/" display-uri="https://www.forester-notes.org/stacks-project/" type="local">The Stacks project</fr:link> whose main aim is not necessarily to contribute new ideas but to consolidate what is known in order to lay the groundwork for the future.</html:p><fr:tree show-metadata="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2024</fr:year><fr:month>11</fr:month><fr:day>17</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-013H/</fr:uri><fr:display-uri>jms-013H</fr:display-uri><fr:route>/jms-013H/</fr:route><fr:title text="Funding intellectual infrastructure using research grants">Funding intellectual infrastructure using research grants</fr:title></fr:frontmatter><fr:mainmatter><html:p>In a traditional research grant proposal, one describes a scientific vision instrumented by several key deliverables that can be achieved in anywhere from the space of a year to several years.</html:p><html:p>There are three main problems with research grants as far as the funding of intellectual infrastructure.</html:p><fr:tree show-metadata="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2024</fr:year><fr:month>11</fr:month><fr:day>17</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-013J/</fr:uri><fr:display-uri>jms-013J</fr:display-uri><fr:route>/jms-013J/</fr:route><fr:title text="Inadequate timescale of research grants">Inadequate timescale of research grants</fr:title><fr:taxon>Problem</fr:taxon></fr:frontmatter><fr:mainmatter><html:p>Research grants are usually time-limited (for example, five years tends to be on the longer side for grants), whereas the sustainable intellectual infrastructure that can actually be safely adopted in critical areas must be funded stably on the scale of decades rather than years.</html:p></fr:mainmatter></fr:tree><fr:tree show-metadata="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2024</fr:year><fr:month>11</fr:month><fr:day>17</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-013K/</fr:uri><fr:display-uri>jms-013K</fr:display-uri><fr:route>/jms-013K/</fr:route><fr:title text="Unquantified impact of intellectual infrastructure">Unquantified impact of intellectual infrastructure</fr:title><fr:taxon>Problem</fr:taxon></fr:frontmatter><fr:mainmatter><html:p>Funding is, as a rule, devoted to projects that promise (1) significant and (2) essentially predictable intellectual contributions. Intellectual infrastructure typically does not yield a direct intellectual contribution, but when neglected for too long can impede these intellectual contributions in invisible ways. Funders of research grants are, however, reluctant to fund what they cannot quantify.</html:p></fr:mainmatter></fr:tree><fr:tree show-metadata="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2024</fr:year><fr:month>11</fr:month><fr:day>17</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-013L/</fr:uri><fr:display-uri>jms-013L</fr:display-uri><fr:route>/jms-013L/</fr:route><fr:title text="“implicit” production of intellectual infrastructure">“implicit” production of intellectual infrastructure</fr:title><fr:taxon>Problem</fr:taxon></fr:frontmatter><fr:mainmatter><html:p>Because intellectual infrastructure is nearly always developed by a combination of volunteer labour and student labour, funders are reluctant to devote resources to what they anticipate will be done anyway without their intervention—or, given that many PhD studentships are sponsored by such bodies, there may be a perception that the existing model is <html:em>already</html:em> adequately funding the production of intellectual infrastructure.</html:p></fr:mainmatter></fr:tree></fr:mainmatter></fr:tree><fr:tree show-metadata="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2024</fr:year><fr:month>11</fr:month><fr:day>17</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-013I/</fr:uri><fr:display-uri>jms-013I</fr:display-uri><fr:route>/jms-013I/</fr:route><fr:title text="Funding intellectual infrastructure on the FRO model">Funding intellectual infrastructure on the FRO model</fr:title></fr:frontmatter><fr:mainmatter><html:p>An interesting and encouraging development is the emergence of the <fr:link href="https://www.convergentresearch.org/" type="external"><html:em>Focused Research Organisation</html:em></fr:link> model, which recognises and aims to solve <fr:link href="/jms-013K/" title="We must fund intellectual infrastructure for the long term › Funding intellectual infrastructure using research grants › Unquantified impact of intellectual infrastructure" uri="https://www.jonmsterling.com/jms-013K/" display-uri="jms-013K" type="local">Problem <fr:contextual-number uri="https://www.jonmsterling.com/jms-013K/" display-uri="jms-013K" /></fr:link> and <fr:link href="/jms-013L/" title="We must fund intellectual infrastructure for the long term › Funding intellectual infrastructure using research grants › “implicit” production of intellectual infrastructure" uri="https://www.jonmsterling.com/jms-013L/" display-uri="jms-013L" type="local">Problem <fr:contextual-number uri="https://www.jonmsterling.com/jms-013L/" display-uri="jms-013L" /></fr:link>. For example, the most excellent <fr:link href="/leanfro/" title="Lean FRO" uri="https://www.jonmsterling.com/leanfro/" display-uri="leanfro" type="local">Lean Focused Research Organization</fr:link> describes their mission as follows:</html:p><html:blockquote><html:p>We are excited to share the news of the Lean Focused Research Organization (FRO)! A new nonprofit dedicated to advancing the Formal Mathematics revolution, we aim to tackle the challenges of scalability, usability, and proof automation in the <fr:link href="https://lean-lang.org/" type="external">Lean proof assistant</fr:link>. Our 5-year mission is to empower Lean towards self-sustainability. Please check our <fr:link href="https://lean-fro.org/about/roadmap-y2" type="external">current roadmap</fr:link> for details. (<fr:link href="https://lean-fro.org/about/" type="external">Lean FRO, Mission</fr:link>)</html:p></html:blockquote><html:p>I think that this is a great development indeed, and it will be good for Lean and therefore good for our community. But I think that the FRO model cannot address <fr:link href="/jms-013J/" title="We must fund intellectual infrastructure for the long term › Funding intellectual infrastructure using research grants › Inadequate timescale of research grants" uri="https://www.jonmsterling.com/jms-013J/" display-uri="jms-013J" type="local">Problem <fr:contextual-number uri="https://www.jonmsterling.com/jms-013J/" display-uri="jms-013J" /></fr:link>—the inadequate timescale. Even the reference to “self-sustainability” in the <fr:link href="/leanfro/" title="Lean FRO" uri="https://www.jonmsterling.com/leanfro/" display-uri="leanfro" type="local">Lean FRO</fr:link> mission statement suggests an assumption that there is anything “<html:em>self</html:em>-sustaining” whatsoever about the infrastructure that makes scientific and intellectual progress possible.</html:p><html:p>It is one thing (a very good thing indeed) to solve usability problems and address pain points that prevent institutional and industrial adoption of intellectual tools in the near term. I have every reason to believe that the <fr:link href="/leanfro/" title="Lean FRO" uri="https://www.jonmsterling.com/leanfro/" display-uri="leanfro" type="local">Lean FRO</fr:link> will be be very successful in this area (and they have made great strides already). An FRO naturally does not aim to solve all problems, and we should certainly not judge them on that unrealistic basis; but we should use the experience to better understand where the gaps are in our current models for the funding and production of intellectual infrastructure.</html:p></fr:mainmatter></fr:tree><fr:tree show-metadata="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2024</fr:year><fr:month>11</fr:month><fr:day>17</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-013M/</fr:uri><fr:display-uri>jms-013M</fr:display-uri><fr:route>/jms-013M/</fr:route><fr:title text="Problems with the bimodal theory/practice cycle">Problems with the bimodal theory/practice cycle</fr:title></fr:frontmatter><fr:mainmatter><html:p>The bimodal “practice—then theory—then practice” model presupposed by the dichotomy between <fr:link href="/jms-013H/" title="We must fund intellectual infrastructure for the long term › Funding intellectual infrastructure using research grants" uri="https://www.jonmsterling.com/jms-013H/" display-uri="jms-013H" type="local">traditional research grants</fr:link> and <fr:link href="/jms-013I/" title="We must fund intellectual infrastructure for the long term › Funding intellectual infrastructure on the FRO model" uri="https://www.jonmsterling.com/jms-013I/" display-uri="jms-013I" type="local">focused research organisations and other short-term “moon-shots”</fr:link> neglects the dialectical interplay between theory and practice, in ways that can have real consequences for human intellectual advancement. Indeed, it seems to me that the model of dividing funding between traditional research grants and FROs is based on the idea that progress occurs in a two step cycle:</html:p><html:ol><html:li>First the “real science” reaches the point where it is strong enough that it could be applied in a practical way, but this application would be impossible to achieve within the research grant funding model.</html:li>
  <html:li>So an FRO is spun up to pick up where the science left off, and develop the application to the point that it can be practically adopted in institutions and industry.</html:li>
  <html:li>(Repeat!)</html:li></html:ol><html:p>I do not think that the cycle above can lead to sustainable intellectual infrastructure, which requires (1) <html:strong>a more responsive interplay between theory and practice</html:strong>, and (2) <html:strong>long-term continuity of lessons and advances</html:strong> that cannot be achieved on the current model of “once or twice per decade post-mortems” in the form of successive research grant and FRO proposals.</html:p></fr:mainmatter></fr:tree><fr:tree show-metadata="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2024</fr:year><fr:month>11</fr:month><fr:day>17</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-013N/</fr:uri><fr:display-uri>jms-013N</fr:display-uri><fr:route>/jms-013N/</fr:route><fr:title text="Unsustainable tool enhancement is a barrier to progress">Unsustainable tool enhancement is a barrier to progress</fr:title></fr:frontmatter><fr:mainmatter><html:p>I am going to say something strange, and I hope that I will not be misunderstood.</html:p><html:p>By concentrating an immense amount of funding into “developing the application” without regard for the evolving theoretical basis and sustaining the development over a timescale of decades, <html:strong>we can unintentionally and disastrously raise the bar for high-impact advances by increasing product inertia in unsustainable ways</html:strong>. For example, I would estimate that it costs upwards of £1–2M to create an excellent IDE—so when a five year program results in an excellent IDE for a <html:em>specific</html:em> language along the understandably narrow mission of an FRO, <html:strong>the funders may have unintentionally raised the financial baseline for any future transformative impact by at least £1M</html:strong>.</html:p><html:p><html:strong>We <html:em>do not need</html:em> to make any guesses or conjectures as to whether increased inertia is a likely outcome of these new funding models</html:strong>—as this has already occurred, incontrovertibly, as a consequence of the existing industrial-adoption-based model of production of programming languages, where a large corporation can put millions of funding into a language of relatively low quality (and thus raise <html:em>significantly</html:em> the usability of the tooling) to the point that making a competently designed language meet the minimum standard for adoption would cost far more than is possible to fund on the academic model.</html:p><html:p><html:strong>Obviously the solution to this problem is <html:em>not</html:em> to slow the march of tool enhancement—quite the opposite.</html:strong> But we must find a way to achieve these enhancements without making future improvements of a more radical nature prohibitively expensive. I think that the key to unlocking the long-term sustainability of intellectual tool enhancement to develop a <html:strong><html:em>unified</html:em> and <html:em>responsive</html:em> theory/practice funding model</html:strong> that can exercise leadership on the scale of decades.</html:p></fr:mainmatter></fr:tree><fr:tree show-metadata="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2024</fr:year><fr:month>11</fr:month><fr:day>17</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-013O/</fr:uri><fr:display-uri>jms-013O</fr:display-uri><fr:route>/jms-013O/</fr:route><fr:title text="A call to action for a sustainable theory/practice spiral">A call to action for a sustainable theory/practice spiral</fr:title></fr:frontmatter><fr:mainmatter><html:p><html:strong>I am calling for the endowment and funding of independent research institutions on a permanent or decades-long basis</html:strong>, whose mission is not bound to a specific tool (e.g. Lean or Coq or <fr:link href="https://www.forester-notes.org/index/" title="Forester" uri="https://www.forester-notes.org/index/" display-uri="https://www.forester-notes.org/index/" type="local">Forester</fr:link>) but rather to a set of scientific principles and society-level goals to be achieved on a <html:strong>generational timescale</html:strong>.</html:p><html:p>It may seem as though open-ended endowments of this kind are a pipedream, but I would draw your attention to the example of the <fr:link href="https://www.cmu.edu/hoskinson/" type="external"><html:em>Hoskinson Center for Formal Mathematics</html:em></fr:link> at <fr:link href="/cmu/" title="Carnegie Mellon University" uri="https://www.jonmsterling.com/cmu/" display-uri="cmu" type="local">Carnegie Mellon University</fr:link> established in 2021 by a gift from billionaire Charles Hoskinson; although the Center is mainly focused on Lean, <html:strong>I see no reason why institutions of this nature could not be endowed on a permanent basis</html:strong> with a broader technical approach.</html:p><html:p><html:strong>For future endowments, it will be important to place an emphasis on the funding of permanent staff over the funding of research students and postdocs</html:strong>—whose near-term career needs are often in deep and irreconcilable conflict with the mission of an institution that aims to make generational social impact. If you have resources that could be brought to bear on such an ambitious project, or are connected with someone who does, please get in touch with me (<html:code>js2878@cl.cam.ac.uk</html:code>). <html:mark>It is time for us to build <html:em>and</html:em> sustain the scaffolding for the next three centuries of Science.</html:mark></html:p></fr:mainmatter></fr:tree><fr:tree show-metadata="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2024</fr:year><fr:month>11</fr:month><fr:day>17</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-013P/</fr:uri><fr:display-uri>jms-013P</fr:display-uri><fr:route>/jms-013P/</fr:route><fr:title text="Acknowledgments">Acknowledgments</fr:title></fr:frontmatter><fr:mainmatter><html:p>My sincere thanks to <fr:link href="/johancommelin/" title="Johan Commelin" uri="https://www.jonmsterling.com/johancommelin/" display-uri="johancommelin" type="local">Johan Commelin</fr:link> for his comments and encouragement.</html:p></fr:mainmatter></fr:tree></fr:mainmatter></fr:tree><fr:tree show-metadata="true" expanded="false" toc="false" numbered="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2024</fr:year><fr:month>3</fr:month><fr:day>10</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-00QB/</fr:uri><fr:display-uri>jms-00QB</fr:display-uri><fr:route>/jms-00QB/</fr:route><fr:title text="Tips for using plain text email on macOS">Tips for using plain text email on macOS</fr:title></fr:frontmatter><fr:mainmatter><html:p>I am a proponent of using plain text (or Markdown-formatted) emails rather than HTML-formatted emails. Although there are some legitimate uses for rich formatting in email, I find the well is poisoned: <fr:link href="/jms-00QC/" title="HTML-formatted email manipulates, surveils, and controls" uri="https://www.jonmsterling.com/jms-00QC/" display-uri="jms-00QC" type="local">HTML-formatted email manipulates, surveils, and controls</fr:link>.</html:p><fr:tree show-metadata="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2024</fr:year><fr:month>3</fr:month><fr:day>10</fr:day></fr:date><fr:title text="A renaissance for plain text email?">A renaissance for plain text email?</fr:title></fr:frontmatter><fr:mainmatter><html:p>Although plain text email has gone the way of the dinosaur in most parts of society, it remains used among many technical communities (such as the Linux kernel developers, etc.). Recently, <fr:link href="https://sr.ht/" type="external">SourceHut</fr:link> has emerged as a free and open source code forge whose workflow is entirely based on plain text email as described on the <fr:link href="https://useplaintext.email/" type="external">useplaintext.email</fr:link> website. Naturally, this has led to both curiosity and friction as users attempt to adapt to working technology of the 1990s that Capital has made increasingly difficult to interact with using present-day software. As a maintainer of several projects on <fr:link href="https://sr.ht/" type="external">SourceHut</fr:link>, I have seen many of my valued collaborators completely fall on the ground when it comes to following the <fr:link href="https://useplaintext.email/etiquette" type="external">etiquette recommendations for plaintext emails</fr:link> (especially text wrapping) and this is certainly not for lack of trying on their part. The available technological options are just that difficult to use.</html:p><html:p>The main viable tools for working with plain text email are terminal-based: for example, <fr:link href="https://aerc-mail.org/" type="external">aerc</fr:link> and <fr:link href="http://mutt.org/" type="external">mutt</fr:link> and its derivatives. These are, however, a non-starter for most users (even technical users): for example, they are difficult to configure, and integrating with address books from standard email providers is nearly impossible or requires a Nobel prize; a bigger problem is that for most of these tools, one must store passwords in plain text (or use some very complicated authentication scheme that a typical user will be unable to set up).</html:p></fr:mainmatter></fr:tree><html:p>The only viable modern GUI client recommended by <fr:link href="https://useplaintext.email/" type="external">useplaintext.email</fr:link> for macOS is <fr:link href="/jms-00QE/" title="MailMate" uri="https://www.jonmsterling.com/jms-00QE/" display-uri="jms-00QE" type="local">MailMate</fr:link>. Unfortunately, <fr:link href="/jms-00QE/" title="MailMate" uri="https://www.jonmsterling.com/jms-00QE/" display-uri="jms-00QE" type="local">MailMate</fr:link>’s visible settings do not have any option for wrapping text, which would contradict its viability for plaintext email users. Furthermore, the versions of <fr:link href="/jms-00QE/" title="MailMate" uri="https://www.jonmsterling.com/jms-00QE/" display-uri="jms-00QE" type="local">MailMate</fr:link> available for download from its website (both the released version and the prerelease) seem to be incompatible with macOS Sonoma. By doing a bit of spelunking, I have found that both these problems can be solved (at least for now).</html:p><fr:tree show-metadata="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2024</fr:year><fr:month>3</fr:month><fr:day>10</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-00QD/</fr:uri><fr:display-uri>jms-00QD</fr:display-uri><fr:route>/jms-00QD/</fr:route><fr:title text="Using MailMate for plain text email">Using <fr:link href="/jms-00QE/" title="MailMate" uri="https://www.jonmsterling.com/jms-00QE/" display-uri="jms-00QE" type="local">MailMate</fr:link> for plain text email</fr:title></fr:frontmatter><fr:mainmatter><fr:tree show-metadata="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2024</fr:year><fr:month>3</fr:month><fr:day>10</fr:day></fr:date><fr:title text="Download the prerelease of MailMate">Download the prerelease of <fr:link href="/jms-00QE/" title="MailMate" uri="https://www.jonmsterling.com/jms-00QE/" display-uri="jms-00QE" type="local">MailMate</fr:link></fr:title><fr:taxon>Step</fr:taxon></fr:frontmatter><fr:mainmatter><html:p>First, download the latest prerelease binary for <fr:link href="/jms-00QE/" title="MailMate" uri="https://www.jonmsterling.com/jms-00QE/" display-uri="jms-00QE" type="local">MailMate</fr:link> from this directory: <fr:link href="http://updates.mailmate-app.com/archives/" type="external">http://updates.mailmate-app.com/archives/?C=M;O=D</fr:link>. I found that the this program can take a very long time to open for the first time, but after this it is speedy.</html:p></fr:mainmatter></fr:tree><fr:tree show-metadata="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2024</fr:year><fr:month>3</fr:month><fr:day>10</fr:day></fr:date><fr:title text="Enable format=flowed">Enable <html:code>format=flowed</html:code></fr:title><fr:taxon>Step</fr:taxon></fr:frontmatter><fr:mainmatter><html:p>Second, enable <html:code>format=flowed</html:code> using the following completely undocumented command:</html:p><html:pre>defaults write com.freron.MailMate MmFormatFlowedEnabled -bool true</html:pre><html:p>Note that this option is so undocumented that it does not even appear in the list of <fr:link href="https://manual.mailmate-app.com/hidden_preferences.html" type="external">hidden preferences</fr:link>. There is some discussion of this on the <fr:link href="https://lists.freron.com/mailmate/2021-May/014194.html" type="external">mailing list</fr:link>.</html:p></fr:mainmatter></fr:tree><html:p>Although the <fr:link href="https://www.ietf.org/rfc/rfc3676.txt" type="external"><html:code>format=flowed</html:code> standard</fr:link> standard is very rarely implemented by clients, email sent using this flag will be formatted correctly by <fr:link href="https://lists.sr.ht/" type="external">SourceHut Lists</fr:link>.</html:p></fr:mainmatter></fr:tree></fr:mainmatter></fr:tree><fr:tree show-metadata="true" expanded="false" toc="false" numbered="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2023</fr:year><fr:month>9</fr:month><fr:day>20</fr:day></fr:date><fr:date><fr:year>2023</fr:year><fr:month>12</fr:month><fr:day>17</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-009F/</fr:uri><fr:display-uri>jms-009F</fr:display-uri><fr:route>/jms-009F/</fr:route><fr:title text="Day tensors of fibered categories">Day tensors of fibered categories</fr:title></fr:frontmatter><fr:mainmatter><html:p>I have been thinking about monoidal closed structures induced by <fr:link href="https://mathoverflow.net/questions/229358/non-cartesian-monoidal-model-structure-on-a-slice-category/229371229371" type="external">slicing over a monoid</fr:link>, which has been considered by <fr:link href="/combette-munch-2018/" title="A resource modality for RAII" uri="https://www.jonmsterling.com/combette-munch-2018/" display-uri="combette-munch-2018" type="local">Combette and Munch-Maccagnoni</fr:link> as a potential denotational semantics of destructors à la C++. It occurred to me that this construction is, in fact, <html:em>almost</html:em> a degenerate case of Day convolution on an internal monoidal category — and this made me realize that there might be a nice way to understand Day convolution in the language of <fr:link href="/frct-003I/" title="Foundations of relative category theory" uri="https://www.jonmsterling.com/frct-003I/" display-uri="frct-003I" type="local">fibered categories</fr:link>. In fact, many of these results (in particular the relativization to internal monoidal categories) are probably a special case of Theorem 11.22 of <fr:link href="/shulman-2013/" title="Enriched indexed categories" uri="https://www.jonmsterling.com/shulman-2013/" display-uri="shulman-2013" type="local">Shulman’s paper on enriched indexed categories</fr:link>.</html:p><fr:tree show-metadata="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2023</fr:year><fr:month>9</fr:month><fr:day>20</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-009A/</fr:uri><fr:display-uri>jms-009A</fr:display-uri><fr:route>/jms-009A/</fr:route><fr:title text="The “Day tensor” of fibered  categories">The “Day tensor” of <fr:link href="/frct-0002/" title="Cartesian fibration" uri="https://www.jonmsterling.com/frct-0002/" display-uri="frct-0002" type="local">fibered  categories</fr:link></fr:title><fr:taxon>Definition</fr:taxon></fr:frontmatter><fr:mainmatter><html:p>Let <fr:tex display="inline"><![CDATA[E]]></fr:tex> and <fr:tex display="inline"><![CDATA[F]]></fr:tex> be two <fr:link href="/frct-0002/" title="Cartesian fibration" uri="https://www.jonmsterling.com/frct-0002/" display-uri="frct-0002" type="local">fibered categories</fr:link> over a semimonoidal category <fr:tex display="inline"><![CDATA[{\mathopen {}\left (B,\otimes ,\alpha \right )\mathclose {}}]]></fr:tex>. We may define the “Day tensor” product <fr:tex display="inline"><![CDATA[E\otimes _B F]]></fr:tex> of <fr:tex display="inline"><![CDATA[E]]></fr:tex> and <fr:tex display="inline"><![CDATA[F]]></fr:tex> to be the following fibered category over <fr:tex display="inline"><![CDATA[B]]></fr:tex>:</html:p><fr:tex display="block"><![CDATA[
  E\otimes _BF :\equiv  \otimes _!{\mathopen {}\left (\pi _1^*E\times _{B\times B} \pi _2^*F\right )\mathclose {}}
]]></fr:tex><html:p>Note that <fr:tex display="inline"><![CDATA[f_!]]></fr:tex> refers to the left adjoint of base change <fr:tex display="inline"><![CDATA[f^*]]></fr:tex> for <fr:link href="/frct-0002/" title="Cartesian fibration" uri="https://www.jonmsterling.com/frct-0002/" display-uri="frct-0002" type="local">fibered categories</fr:link>, <fr:link href="/streicher-fcjb/" title="Fibred categories à la Jean Bénabou" uri="https://www.jonmsterling.com/streicher-fcjb/" display-uri="streicher-fcjb" type="local">which is <html:em>not</html:em> postcomposition</fr:link>.</html:p></fr:mainmatter></fr:tree><fr:tree show-metadata="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2023</fr:year><fr:month>9</fr:month><fr:day>20</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-009C/</fr:uri><fr:display-uri>jms-009C</fr:display-uri><fr:route>/jms-009C/</fr:route><fr:title text="Stepping through the Day tensor of fibered categories">Stepping through the <fr:link href="/jms-009A/" title="The “Day tensor” of fibered  categories" uri="https://www.jonmsterling.com/jms-009A/" display-uri="jms-009A" type="local">Day tensor of fibered categories</fr:link></fr:title><fr:taxon>Exegesis</fr:taxon></fr:frontmatter><fr:mainmatter><html:p>To understand the construction of the <fr:link href="/jms-009A/" title="The “Day tensor” of fibered  categories" uri="https://www.jonmsterling.com/jms-009A/" display-uri="jms-009A" type="local">Day tensor</fr:link>, we will go through it step-by-step. Let <fr:tex display="inline"><![CDATA[E]]></fr:tex> and <fr:tex display="inline"><![CDATA[F]]></fr:tex> be two <fr:link href="/frct-0002/" title="Cartesian fibration" uri="https://www.jonmsterling.com/frct-0002/" display-uri="frct-0002" type="local">fibered categories</fr:link> over a semimonoidal category <fr:tex display="inline"><![CDATA[{\mathopen {}\left (B,\otimes ,\alpha \right )\mathclose {}}]]></fr:tex>.</html:p><html:ol><html:li>Given that <fr:tex display="inline"><![CDATA[E]]></fr:tex> and <fr:tex display="inline"><![CDATA[F]]></fr:tex> are displayed over <fr:tex display="inline"><![CDATA[B]]></fr:tex>, we may restrict them to lie the two disjoint regions of <fr:tex display="inline"><![CDATA[B\times B]]></fr:tex> by <fr:link href="/frct-0007/" title="Change of base of displayed categories" uri="https://www.jonmsterling.com/frct-0007/" display-uri="frct-0007" type="local">base change</fr:link> along the two projections:
    
 
  
  <html:figure><fr:resource hash="df449435ed3b37209db1d6ef137fc486"><fr:resource-content><html:img src="/df449435ed3b37209db1d6ef137fc486.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
      \DiagramSquare {
        nw = \pi _1^*E,
        sw = B\times B,
        se = B,
        ne = E,
        east/style = {|->},
        west/style = {|->,exists},
        north/style = {->,exists},
        south = \pi _1,
        height = 1.5cm,
      }
      \qquad 
      \DiagramSquare {
        nw = \pi _2^*F,
        sw = B\times B,
        se = B,
        ne = F,
        east/style = {|->},
        west/style = {|->,exists},
        north/style = {->,exists},
        south = \pi _2,
        height = 1.5cm,
      }
    ]]></fr:resource-source></fr:resource></html:figure>
 

    The above can be seen as <html:em>cartesian lift</html:em> in the 2-bifibration of fibered categories over <fr:tex display="inline"><![CDATA[\mathbf {Cat}]]></fr:tex>.</html:li>

  <html:li>Next, we took the fiber product of fibered categories, giving a vertical span over <fr:tex display="inline"><![CDATA[B]]></fr:tex>:
    <fr:tex display="block"><![CDATA[
      \pi _1^*E \leftarrow  \pi _1^*E\times _{B\times B} \pi _2^*F \rightarrow  \pi _2^*F
    ]]></fr:tex>
    Of course, this corresponds to pullback in <fr:tex display="inline"><![CDATA[\mathbf {Cat}]]></fr:tex> or cartesian product in <fr:tex display="inline"><![CDATA[{\mathbf {Cat}}_{/B}]]></fr:tex>.</html:li>

  <html:li>Finally, we take a <html:em><fr:link href="/frct-0017/" title="Cocartesian fibration" uri="https://www.jonmsterling.com/frct-0017/" display-uri="frct-0017" type="local">cocartesian lift</fr:link></html:em> along the tensor functor <fr:tex display="inline"><![CDATA[{B\times B}\xrightarrow {{\otimes }}{B}]]></fr:tex> to obtain the <fr:link href="/jms-009A/" title="The “Day tensor” of fibered  categories" uri="https://www.jonmsterling.com/jms-009A/" display-uri="jms-009A" type="local">Day tensor</fr:link>:
    
 
  
  <html:figure><fr:resource hash="43f4442d917db759fe384a5852d00688"><fr:resource-content><html:img src="/43f4442d917db759fe384a5852d00688.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
      \DiagramSquare {
        nw = \pi _1^*E\times _{B\times B}\pi _2^*F,
        sw = B\times B,
        south = \otimes ,
        ne = E\otimes _{B}F,
        se = B,
        north/style = {->,exists},
        east/style = {|->,exists},
        west/style = {|->},
        height = 1.5cm,
        width = 3cm,
      }
    ]]></fr:resource-source></fr:resource></html:figure>
 

    Note: the <fr:link href="/frct-0017/" title="Cocartesian fibration" uri="https://www.jonmsterling.com/frct-0017/" display-uri="frct-0017" type="local">cocartesian lift</fr:link> above does not correspond to composition in <fr:tex display="inline"><![CDATA[\mathbf {Cat}]]></fr:tex> except in the discrete case.</html:li></html:ol></fr:mainmatter></fr:tree><html:p>Under appropriate assumptions, we may also compute a “<fr:link href="/jms-009G/" title="The “Day hom” of fibered categories" uri="https://www.jonmsterling.com/jms-009G/" display-uri="jms-009G" type="local">Day hom</fr:link>” by adjointness.</html:p><fr:tree show-metadata="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2023</fr:year><fr:month>9</fr:month><fr:day>20</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-009G/</fr:uri><fr:display-uri>jms-009G</fr:display-uri><fr:route>/jms-009G/</fr:route><fr:title text="The “Day hom” of fibered categories">The “Day hom” of fibered categories</fr:title><fr:taxon>Definition</fr:taxon></fr:frontmatter><fr:mainmatter><html:p>Let <fr:tex display="inline"><![CDATA[E]]></fr:tex> and <fr:tex display="inline"><![CDATA[F]]></fr:tex> be two <fr:link href="/frct-0002/" title="Cartesian fibration" uri="https://www.jonmsterling.com/frct-0002/" display-uri="frct-0002" type="local">fibered categories</fr:link> over a semimonoidal category <fr:tex display="inline"><![CDATA[{\mathopen {}\left (B,\otimes ,\alpha \right )\mathclose {}}]]></fr:tex>. We may define the “Day hom” <fr:tex display="inline"><![CDATA[E\multimap _B F]]></fr:tex> of <fr:tex display="inline"><![CDATA[E]]></fr:tex> and <fr:tex display="inline"><![CDATA[F]]></fr:tex> to be the following <fr:link href="/frct-0002/" title="Cartesian fibration" uri="https://www.jonmsterling.com/frct-0002/" display-uri="frct-0002" type="local">fibered category</fr:link> over <fr:tex display="inline"><![CDATA[B]]></fr:tex>:</html:p><fr:tex display="block"><![CDATA[
  E\multimap _BF :\equiv 
  {\mathopen {}\left (\pi _1\right )\mathclose {}}_*{\mathopen {}\left (
    \pi _2^*E\Rightarrow _{B\times B} \otimes ^*F
  \right )\mathclose {}}
]]></fr:tex>
 
   
   <fr:tree show-metadata="false" toc="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2023</fr:year><fr:month>9</fr:month><fr:day>20</fr:day></fr:date><fr:taxon>Proof</fr:taxon></fr:frontmatter><fr:mainmatter>
  <html:p>First of all, we note that the pullback functor <fr:tex display="inline"><![CDATA[{{\mathbf {Cat}}_{/B}}\xrightarrow {{\pi _1^*}}{{\mathbf {Cat}}_{/B\times B}}]]></fr:tex> has a right adjoint <fr:tex display="inline"><![CDATA[\pi _1^*\dashv  {\mathopen {}\left (\pi _1\right )\mathclose {}}_*]]></fr:tex>, as <fr:tex display="inline"><![CDATA[{B\times B}\xrightarrow {{\pi _1}}{B}]]></fr:tex> is (as any cartesian fibration) a Conduché functor, i.e. an <fr:link href="/jms-0031/" title="Exponentiable arrow" uri="https://www.jonmsterling.com/jms-0031/" display-uri="jms-0031" type="local">exponentiable arrow</fr:link> in <fr:tex display="inline"><![CDATA[\mathbf {Cat}]]></fr:tex>. We have already assumed that <fr:tex display="inline"><![CDATA[E]]></fr:tex> is a Cartesian fibration, and thus so is its <fr:link href="/frct-0007/" title="Change of base of displayed categories" uri="https://www.jonmsterling.com/frct-0007/" display-uri="frct-0007" type="local">restriction</fr:link> <fr:tex display="inline"><![CDATA[\pi _1^*E]]></fr:tex>; it therefore follows that <fr:tex display="inline"><![CDATA[\pi _1^*E]]></fr:tex> is <fr:link href="/jms-0031/" title="Exponentiable arrow" uri="https://www.jonmsterling.com/jms-0031/" display-uri="jms-0031" type="local">exponentiable</fr:link>. With that out of the way, we may compute the hom by adjoint calisthenics:</html:p>

  <fr:tex display="block"><![CDATA[
    \begin {aligned}
      &\mathbf {hom}_{{\mathbf {Cat}}_{/B}}{\mathopen {}\left (X\otimes _B E,F\right )\mathclose {}}
      \\
      &\quad \equiv 
      \mathbf {hom}_{{\mathbf {Cat}}_{/B}}{\mathopen {}\left (
        \otimes _!{\mathopen {}\left (
          \pi _1^*X\times _{B\times  B}\pi _2^*E
        \right )\mathclose {}}
      ,F\right )\mathclose {}}
      \\
      &\quad \simeq 
      \mathbf {hom}_{
        {\mathbf {Cat}}_{/B\times B}
      }{\mathopen {}\left (\pi _1^*X\times _{B\times  B}\pi _2^*E,\otimes ^*F\right )\mathclose {}}
      \\
      &\quad \simeq 
      \mathbf {hom}_{{\mathbf {Cat}}_{/B\times B}}{\mathopen {}\left (
        \pi _1^*X
      ,\pi _2^*E\Rightarrow  \otimes ^*F\right )\mathclose {}}
      \\
      &\quad \simeq 
      \mathbf {hom}_{{\mathbf {Cat}}_{/B}}{\mathopen {}\left (X,
        {\mathopen {}\left (\pi _1\right )\mathclose {}}_*{\mathopen {}\left (
          \pi _2^*E\Rightarrow  \otimes ^*F
        \right )\mathclose {}}
      \right )\mathclose {}}
    \end {aligned}
  ]]></fr:tex>
</fr:mainmatter></fr:tree>
 
</fr:mainmatter></fr:tree><fr:tree show-metadata="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2023</fr:year><fr:month>9</fr:month><fr:day>20</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-009B/</fr:uri><fr:display-uri>jms-009B</fr:display-uri><fr:route>/jms-009B/</fr:route><fr:title text="The “Day unit” of fibered categories">The “Day unit” of fibered categories</fr:title><fr:taxon>Definition</fr:taxon></fr:frontmatter><fr:mainmatter><html:p>Let <fr:tex display="inline"><![CDATA[{\mathopen {}\left (B,\otimes ,I,\alpha ,\lambda ,\rho \right )\mathclose {}}]]></fr:tex> be a monoidal category. We may define a “Day unit” for <fr:link href="/frct-0002/" title="Cartesian fibration" uri="https://www.jonmsterling.com/frct-0002/" display-uri="frct-0002" type="local">fibered categories</fr:link> over <fr:tex display="inline"><![CDATA[B]]></fr:tex> to be given by the discrete fibration <fr:tex display="inline"><![CDATA[{B}_{/I}\to  B]]></fr:tex>, which corresponds under the Grothendieck construction to the presheaf represented by <fr:tex display="inline"><![CDATA[I]]></fr:tex>.</html:p></fr:mainmatter></fr:tree><fr:tree show-metadata="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2023</fr:year><fr:month>9</fr:month><fr:day>20</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-009D/</fr:uri><fr:display-uri>jms-009D</fr:display-uri><fr:route>/jms-009D/</fr:route><fr:title text="The Day tensor preserves cartesian fibrations">The <fr:link href="/jms-009C/" title="Stepping through the Day tensor of fibered categories" uri="https://www.jonmsterling.com/jms-009C/" display-uri="jms-009C" type="local">Day tensor</fr:link> preserves cartesian fibrations</fr:title><fr:taxon>Conjecture</fr:taxon></fr:frontmatter><fr:mainmatter><html:p>If <fr:tex display="inline"><![CDATA[E]]></fr:tex> and <fr:tex display="inline"><![CDATA[F]]></fr:tex> are cartesian fibrations over a semimonoidal category <fr:tex display="inline"><![CDATA[{\mathopen {}\left (B,\otimes ,\alpha \right )\mathclose {}}]]></fr:tex>, then the <fr:link href="/jms-009C/" title="Stepping through the Day tensor of fibered categories" uri="https://www.jonmsterling.com/jms-009C/" display-uri="jms-009C" type="local">Day tensor</fr:link> <fr:tex display="inline"><![CDATA[E\otimes _BF]]></fr:tex> is also a cartesian fibration.</html:p></fr:mainmatter></fr:tree><html:p>I believe, but did not check carefully, that when <fr:tex display="inline"><![CDATA[E]]></fr:tex> and <fr:tex display="inline"><![CDATA[F]]></fr:tex> are <html:em>discrete</html:em> fibrations over a semimonoidal category <fr:tex display="inline"><![CDATA[{\mathopen {}\left (B,\otimes ,\alpha \right )\mathclose {}}]]></fr:tex> then the <fr:link href="/jms-009A/" title="The “Day tensor” of fibered  categories" uri="https://www.jonmsterling.com/jms-009A/" display-uri="jms-009A" type="local">Day tensor</fr:link> is precisely the discrete fibration corresponding to the (contravariant) Day convolution of the presheaves corresponding to <fr:tex display="inline"><![CDATA[E]]></fr:tex> and <fr:tex display="inline"><![CDATA[F]]></fr:tex>. Likewise when <fr:tex display="inline"><![CDATA[{\mathopen {}\left (B,\otimes ,I,\alpha ,\lambda ,\rho \right )\mathclose {}}]]></fr:tex> is monoidal, it appears that the <fr:link href="/jms-009B/" title="The “Day unit” of fibered categories" uri="https://www.jonmsterling.com/jms-009B/" display-uri="jms-009B" type="local">Day unit</fr:link> corresponds precisely to the traditional one.</html:p><html:p>There remain some interesting directions to explore. First of all, the claims above would obviously lead to a new construction of the Day convolution monoidal structure on the 1-category of discrete fibrations on <fr:tex display="inline"><![CDATA[B]]></fr:tex> that coincides with the traditional one up to the Grothendieck construction. <html:mark>But in general, we should expect to exhibit both <fr:tex display="inline"><![CDATA[{\mathbf {Cat}}_{/B}]]></fr:tex> and <fr:tex display="inline"><![CDATA[\mathbf {Fib}_{B}]]></fr:tex> as <html:strong>monoidal bicategories</html:strong>, a result that I have not seen before.</html:mark></html:p><fr:tree show-metadata="false"><fr:frontmatter><fr:authors /><fr:date><fr:year>2023</fr:year><fr:month>9</fr:month><fr:day>20</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-009E/</fr:uri><fr:display-uri>jms-009E</fr:display-uri><fr:route>/jms-009E/</fr:route><fr:title text="A monoidal bicategory of fibered categories">A monoidal bicategory of fibered categories</fr:title><fr:taxon>Conjecture</fr:taxon></fr:frontmatter><fr:mainmatter><html:p>Let <fr:tex display="inline"><![CDATA[{\mathopen {}\left (B,\otimes ,I,\alpha ,\lambda ,\rho \right )\mathclose {}}]]></fr:tex> be a fibered category. Then the <fr:link href="/jms-009B/" title="The “Day unit” of fibered categories" uri="https://www.jonmsterling.com/jms-009B/" display-uri="jms-009B" type="local">Day tensor</fr:link> and <fr:link href="/jms-009B/" title="The “Day unit” of fibered categories" uri="https://www.jonmsterling.com/jms-009B/" display-uri="jms-009B" type="local">unit</fr:link> extend to a monoidal structure on the <html:em>bicategory</html:em> of fibered categories over <fr:tex display="inline"><![CDATA[B]]></fr:tex>.</html:p></fr:mainmatter></fr:tree><html:p><fr:link href="/jms-009E/" title="A monoidal bicategory of fibered categories" uri="https://www.jonmsterling.com/jms-009E/" display-uri="jms-009E" type="local">Conjecture <fr:contextual-number uri="https://www.jonmsterling.com/jms-009E/" display-uri="jms-009E" /></fr:link> is highly non-trivial, as monoidal bicategories are extremely difficult to construct explicitly. I am hoping that <fr:link href="/mikeshulman/" title="Mike Shulman" uri="https://www.jonmsterling.com/mikeshulman/" display-uri="mikeshulman" type="local">Mike Shulman</fr:link>’s ideas involving <fr:link href="/shulman-2010/" title="Constructing symmetric monoidal bicategories" uri="https://www.jonmsterling.com/shulman-2010/" display-uri="shulman-2010" type="local">monoidal double categories</fr:link> could potentially help.</html:p></fr:mainmatter></fr:tree><fr:tree show-metadata="true" expanded="false" toc="false" numbered="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2023</fr:year><fr:month>9</fr:month><fr:day>17</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-0094/</fr:uri><fr:display-uri>jms-0094</fr:display-uri><fr:route>/jms-0094/</fr:route><fr:title text="On the relationship between QTT and STC">On the relationship between <fr:link href="/atkey-2018/" title="The syntax and semantics of Quantitative Type Theory" uri="https://www.jonmsterling.com/atkey-2018/" display-uri="atkey-2018" type="local">QTT</fr:link> and <fr:link href="/sterling-2021-thesis/" title="First steps in synthetic Tait computability: the objective metatheory of cubical type theory" uri="https://www.jonmsterling.com/sterling-2021-thesis/" display-uri="sterling-2021-thesis" type="local">STC</fr:link></fr:title></fr:frontmatter><fr:mainmatter><html:p>I have been thinking again about the relationship between <fr:link href="/atkey-2018/" title="The syntax and semantics of Quantitative Type Theory" uri="https://www.jonmsterling.com/atkey-2018/" display-uri="atkey-2018" type="local">quantitative type theory</fr:link> and <fr:link href="/sterling-2021-thesis/" title="First steps in synthetic Tait computability: the objective metatheory of cubical type theory" uri="https://www.jonmsterling.com/sterling-2021-thesis/" display-uri="sterling-2021-thesis" type="local">synthetic Tait computability</fr:link> and other approaches to type refinements. One of the defining characteristics of <fr:link href="/atkey-2018/" title="The syntax and semantics of Quantitative Type Theory" uri="https://www.jonmsterling.com/atkey-2018/" display-uri="atkey-2018" type="local">QTT</fr:link> that I thought distinguished it from <fr:link href="/sterling-2021-thesis/" title="First steps in synthetic Tait computability: the objective metatheory of cubical type theory" uri="https://www.jonmsterling.com/sterling-2021-thesis/" display-uri="sterling-2021-thesis" type="local">STC</fr:link> was the treatment of types: <html:strong>in <fr:link href="/atkey-2018/" title="The syntax and semantics of Quantitative Type Theory" uri="https://www.jonmsterling.com/atkey-2018/" display-uri="atkey-2018" type="local">QTT</fr:link>, types only depend on the “computational” / unrefined aspect of their context, whereas types in <fr:link href="/sterling-2021-thesis/" title="First steps in synthetic Tait computability: the objective metatheory of cubical type theory" uri="https://www.jonmsterling.com/sterling-2021-thesis/" display-uri="sterling-2021-thesis" type="local">STC</fr:link> are allowed to depend on everything</html:strong>. In the past, I mistakenly believed that this was due to the <html:em>realizability-style interpretation</html:em> of <fr:link href="/atkey-2018/" title="The syntax and semantics of Quantitative Type Theory" uri="https://www.jonmsterling.com/atkey-2018/" display-uri="atkey-2018" type="local">QTT</fr:link>, in contrast with <fr:link href="/sterling-2021-thesis/" title="First steps in synthetic Tait computability: the objective metatheory of cubical type theory" uri="https://www.jonmsterling.com/sterling-2021-thesis/" display-uri="sterling-2021-thesis" type="local">STC</fr:link>’s <html:em>gluing interpretation</html:em>. It is now clear to me that (1) <fr:link href="/atkey-2018/" title="The syntax and semantics of Quantitative Type Theory" uri="https://www.jonmsterling.com/atkey-2018/" display-uri="atkey-2018" type="local">QTT</fr:link> is actually glued (in the sense of <html:em>q-realizability</html:em>, no pun intended), and (2) <html:mark>the nonstandard interpretation of types in <fr:link href="/atkey-2018/" title="The syntax and semantics of Quantitative Type Theory" uri="https://www.jonmsterling.com/atkey-2018/" display-uri="atkey-2018" type="local">QTT</fr:link> corresponds to adding an <html:em>additional</html:em> axiom to <fr:link href="/sterling-2021-thesis/" title="First steps in synthetic Tait computability: the objective metatheory of cubical type theory" uri="https://www.jonmsterling.com/sterling-2021-thesis/" display-uri="sterling-2021-thesis" type="local">STC</fr:link>, namely the tininess of the generic proposition.</html:mark></html:p><html:p>It has been suggested to me by <fr:link href="/neelkrishnaswami/" title="Neel Krishnaswami" uri="https://www.jonmsterling.com/neelkrishnaswami/" display-uri="neelkrishnaswami" type="local">Neel Krishnaswami</fr:link> that this property of <fr:link href="/atkey-2018/" title="The syntax and semantics of Quantitative Type Theory" uri="https://www.jonmsterling.com/atkey-2018/" display-uri="atkey-2018" type="local">QTT</fr:link> may not be desirable in all cases (sometimes you want the types to depend on quantitative information), and that for this reason, <html:em>graded type theories</html:em> might be a better way forward in some applications. My results today show that <fr:link href="/sterling-2021-thesis/" title="First steps in synthetic Tait computability: the objective metatheory of cubical type theory" uri="https://www.jonmsterling.com/sterling-2021-thesis/" display-uri="sterling-2021-thesis" type="local">STC</fr:link> is, in essence, what you get when you relax the <fr:link href="/atkey-2018/" title="The syntax and semantics of Quantitative Type Theory" uri="https://www.jonmsterling.com/atkey-2018/" display-uri="atkey-2018" type="local">QTT</fr:link>’s assumption that types do not depend on quantitative information. This suggests that we should explore the idea of multiplicities within the context of <fr:link href="/sterling-2021-thesis/" title="First steps in synthetic Tait computability: the objective metatheory of cubical type theory" uri="https://www.jonmsterling.com/sterling-2021-thesis/" display-uri="sterling-2021-thesis" type="local">STC</fr:link> — as any monoidal product on the subuniverse spanned by closed-modal types induces quite directly a form of variable multiplicity in <fr:link href="/sterling-2021-thesis/" title="First steps in synthetic Tait computability: the objective metatheory of cubical type theory" uri="https://www.jonmsterling.com/sterling-2021-thesis/" display-uri="sterling-2021-thesis" type="local">STC</fr:link>, I expect this direction to be fruitful.</html:p><html:p>My thoughts on the precise relationship between the <fr:link href="/atkey-2018/" title="The syntax and semantics of Quantitative Type Theory" uri="https://www.jonmsterling.com/atkey-2018/" display-uri="atkey-2018" type="local">QTT</fr:link> models and Artin gluing will be elucidated at a different time. Today, I will restrict myself to sketching an interpretation of a QTT-style language in STC assuming the generic proposition is internally tiny.</html:p><html:p>Let <fr:tex display="inline"><![CDATA[\mathscr {Q}]]></fr:tex> be an elementary topos equipped with a subterminal object <fr:tex display="inline"><![CDATA[\P \hookrightarrow \mathbf {1}]]></fr:tex> inducing an open subtopos <fr:tex display="inline"><![CDATA[\mathscr {E}\simeq {\mathscr {Q}}_{/\P }\hookrightarrow \mathscr {Q}]]></fr:tex> and its complementary closed subtopos <fr:tex display="inline"><![CDATA[\mathscr {F}\hookrightarrow \mathscr {Q}]]></fr:tex>. This structure is the basis of the interpretation of <fr:link href="/sterling-2021-thesis/" title="First steps in synthetic Tait computability: the objective metatheory of cubical type theory" uri="https://www.jonmsterling.com/sterling-2021-thesis/" display-uri="sterling-2021-thesis" type="local">STC</fr:link>; if you think of <fr:link href="/sterling-2021-thesis/" title="First steps in synthetic Tait computability: the objective metatheory of cubical type theory" uri="https://www.jonmsterling.com/sterling-2021-thesis/" display-uri="sterling-2021-thesis" type="local">STC</fr:link> in terms of refinements, then stuff from <fr:tex display="inline"><![CDATA[\mathscr {E}]]></fr:tex> is “computational” and stuff from <fr:tex display="inline"><![CDATA[\mathscr {F}]]></fr:tex> is “logical”.</html:p><html:p>We now consider the interpretation of a language of (potentially quantitative) refinements into <fr:tex display="inline"><![CDATA[\mathscr {Q}]]></fr:tex>. A context <fr:tex display="inline"><![CDATA[\Gamma ]]></fr:tex> is interpreted by an object of <fr:tex display="inline"><![CDATA[\mathscr {Q}]]></fr:tex>; a type <fr:tex display="inline"><![CDATA[\Gamma \vdash  A]]></fr:tex> is interpreted by a family <fr:tex display="inline"><![CDATA[A\to  \bigcirc {\Gamma }]]></fr:tex>; a term <fr:tex display="inline"><![CDATA[\Gamma \vdash  a : A]]></fr:tex> is interpreted as a map <fr:tex display="inline"><![CDATA[\Gamma \to  A]]></fr:tex> such that <fr:tex display="inline"><![CDATA[\Gamma \to  A \to  \bigcirc \Gamma ]]></fr:tex> is the unit of the monad.</html:p><html:p>So far we have not needed anything beyond the base structure of <fr:link href="/sterling-2021-thesis/" title="First steps in synthetic Tait computability: the objective metatheory of cubical type theory" uri="https://www.jonmsterling.com/sterling-2021-thesis/" display-uri="sterling-2021-thesis" type="local">STC</fr:link> in order to give an interpretation of types in <fr:link href="/atkey-2018/" title="The syntax and semantics of Quantitative Type Theory" uri="https://www.jonmsterling.com/atkey-2018/" display-uri="atkey-2018" type="local">QTT</fr:link>’s style. But to extend this interpretation to a universe, we must additionally assume that <fr:tex display="inline"><![CDATA[\P ]]></fr:tex> is internally tiny, in the sense that the exponential functor <fr:tex display="inline"><![CDATA[{\mathopen {}\left (-\right )\mathclose {}}^\P ]]></fr:tex> is a left adjoint. Under these circumstances, the idempotent monad <fr:tex display="inline"><![CDATA[\bigcirc  \equiv  j_*j^* : \mathscr {Q}\to \mathscr {Q}]]></fr:tex> corresponding to the open immersion <fr:tex display="inline"><![CDATA[j : \mathscr {E}\hookrightarrow \mathscr {Q}]]></fr:tex> has a right adjoint <fr:tex display="inline"><![CDATA[\square  : \mathscr {Q}\to  \mathscr {Q}]]></fr:tex>, an idempotent comonad.</html:p>
 
   
   <fr:tree show-metadata="false" toc="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2023</fr:year><fr:month>9</fr:month><fr:day>17</fr:day></fr:date><fr:taxon>Proof</fr:taxon></fr:frontmatter><fr:mainmatter>
  <html:p>As <fr:tex display="inline"><![CDATA[\bigcirc  \equiv  j_*j^*]]></fr:tex> is the exponential functor <fr:tex display="inline"><![CDATA[{\mathopen {}\left (-\right )\mathclose {}}^\P ]]></fr:tex>, its right adjoint <fr:tex display="inline"><![CDATA[\square ]]></fr:tex> is therefore the “root functor” <fr:tex display="inline"><![CDATA[{\mathopen {}\left (-\right )\mathclose {}}_\P ]]></fr:tex> that exhibits <fr:tex display="inline"><![CDATA[\P ]]></fr:tex> as an internally tiny object.</html:p>
</fr:mainmatter></fr:tree>
 
<html:p>Although <fr:tex display="inline"><![CDATA[\square ]]></fr:tex> lifts to each slice of <fr:tex display="inline"><![CDATA[\mathscr {Q}]]></fr:tex>, these liftings do not commute with base change; this will, however, not be an obstacle for us.</html:p><html:p>We will now see how to use the adjunction <fr:tex display="inline"><![CDATA[\bigcirc \dashv \square ]]></fr:tex> to interpret a universe, either for the purpose of interpreting universes of refinement types, or for the purpose of strictifying the model that we have sketched. Let <fr:tex display="inline"><![CDATA[\mathcal {V}]]></fr:tex> be a (standard) universe in <fr:tex display="inline"><![CDATA[\mathscr {Q}]]></fr:tex>, e.g. a <fr:link href="/hofmann-streicher-1997/" title="Lifting Grothendieck universes" uri="https://www.jonmsterling.com/hofmann-streicher-1997/" display-uri="hofmann-streicher-1997" type="local">Hofmann–Streicher universe</fr:link>; we shall then interpret the corresponding universe of refinements as <fr:tex display="inline"><![CDATA[\mathcal {U}:\equiv  \square \mathcal {V}]]></fr:tex>. To see that <fr:tex display="inline"><![CDATA[\mathcal {U}]]></fr:tex> classifies <fr:tex display="inline"><![CDATA[\mathcal {V}]]></fr:tex>-small families of refinements, we compute as follows:</html:p><html:ol><html:li>A code <fr:tex display="inline"><![CDATA[\Gamma \vdash \hat {A} : \mathcal {U}]]></fr:tex> amounts to nothing more than a morphism <fr:tex display="inline"><![CDATA[\hat {A}:\Gamma \to \square {\mathcal {V}}]]></fr:tex>.</html:li>
  <html:li>By adjoint transpose, this is the same as a morphism <fr:tex display="inline"><![CDATA[\hat {A}^\sharp  : \bigcirc {\Gamma }\to \mathcal {V}]]></fr:tex>.</html:li></html:ol><html:p>Thus we see that if <fr:tex display="inline"><![CDATA[\mathcal {V}]]></fr:tex> is generic for <fr:tex display="inline"><![CDATA[\mathcal {V}]]></fr:tex>-small families of (arbitrary) types in <fr:tex display="inline"><![CDATA[\mathscr {Q}]]></fr:tex>, then <fr:tex display="inline"><![CDATA[\mathcal {U} \equiv  \square \mathcal {V}]]></fr:tex> is generic for <fr:tex display="inline"><![CDATA[\mathcal {V}]]></fr:tex>-small families of type refinements, i.e. types whose context is <fr:tex display="inline"><![CDATA[\bigcirc ]]></fr:tex>-modal.</html:p><html:p>Finally, we comment that the tininess of <fr:tex display="inline"><![CDATA[\P ]]></fr:tex> is satisfied in many standard examples, the simplest of which is the Sierpiński topos <fr:tex display="inline"><![CDATA[\mathbf {Set}^{\to }]]></fr:tex>.</html:p></fr:mainmatter></fr:tree><fr:tree show-metadata="true" expanded="false" toc="false" numbered="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2023</fr:year><fr:month>9</fr:month><fr:day>5</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-008J/</fr:uri><fr:display-uri>jms-008J</fr:display-uri><fr:route>/jms-008J/</fr:route><fr:title text="Classifying topoi and generalised abstract syntax">Classifying topoi and generalised abstract syntax</fr:title></fr:frontmatter><fr:mainmatter><html:p>For any small category <fr:tex display="inline"><![CDATA[\mathscr {C}]]></fr:tex>, <fr:link href="/fiore-2007-ct/" title="Towards a mathematical theory of substitution" uri="https://www.jonmsterling.com/fiore-2007-ct/" display-uri="fiore-2007-ct" type="local">Fiore</fr:link> <fr:link href="/fiore-2008/" title="Second-order and dependently-sorted abstract syntax" uri="https://www.jonmsterling.com/fiore-2008/" display-uri="fiore-2008" type="local">treats</fr:link> <fr:tex display="inline"><![CDATA[\mathscr {C}]]></fr:tex>-sorted abstract syntax in the functor category <fr:tex display="inline"><![CDATA[{\mathopen {}\left  [\mathscr {C},\operatorname {Pr}{\mathopen {}\left (\operatorname {\mathbb {L}}{\mathscr {C}}\right )\mathclose {}}\right  ]\mathclose {}}]]></fr:tex> where <fr:tex display="inline"><![CDATA[\operatorname {\mathbb {L}}]]></fr:tex> is some 2-monad on <fr:tex display="inline"><![CDATA[\mathbf {Cat}]]></fr:tex>; any such functor <fr:tex display="inline"><![CDATA[P]]></fr:tex> denotes a set that is indexed in sorts and contexts (where the 2-monad <fr:tex display="inline"><![CDATA[\operatorname {\mathbb {L}}]]></fr:tex> takes a category of sorts to the corresponding category of contexts). When <fr:tex display="inline"><![CDATA[\mathscr {C}]]></fr:tex> is a set and <fr:tex display="inline"><![CDATA[\operatorname {\mathbb {L}}]]></fr:tex> is either finite limit or finite product completion, we recover the standard notions of many-sorted abstract syntax; in general, we get a variety of forms of <html:em>dependently sorted</html:em> or <html:em>generalised</html:em> abstract syntax.</html:p><html:p>We will assume here that <fr:tex display="inline"><![CDATA[\operatorname {\mathbb {L}}]]></fr:tex> is the free finite limit completion 2-monad; our goal is to study <fr:link href="/fiore-2008/" title="Second-order and dependently-sorted abstract syntax" uri="https://www.jonmsterling.com/fiore-2008/" display-uri="fiore-2008" type="local">Fiore</fr:link>’s general <html:em>substitution monoidal structure</html:em> from the point of view of classifying topoi, building on <fr:link href="/peterjohnstone/" title="Peter T. Johnstone" uri="https://www.jonmsterling.com/peterjohnstone/" display-uri="peterjohnstone" type="local">Johnstone</fr:link>’s analogous observations (<fr:link href="/johnstone-2002/" title="Sketches of an elephant: a topos theory compendium" uri="https://www.jonmsterling.com/johnstone-2002/" display-uri="johnstone-2002" type="local">Elephant, D3.2</fr:link>) on the non-symmetric monoidal structure of the <html:em>object classifier</html:em>. The topos theoretic viewpoint that we will explore is nothing more than a rephrasing of <fr:link href="/fiore-2007-ct/" title="Towards a mathematical theory of substitution" uri="https://www.jonmsterling.com/fiore-2007-ct/" display-uri="fiore-2007-ct" type="local">Fiore</fr:link>’s account in terms of the Kleisli composition in a 2-monad; nonetheless the perspective of classifying topoi is enlightening, as it provides an explanation for <html:em>precisely</html:em> what internal geometrical structure one expects in a given topos for abstract syntax, potentially leading to improved internal languages.</html:p><html:p>For any small category <fr:tex display="inline"><![CDATA[\mathscr {C}]]></fr:tex>, the category of presheaves <fr:tex display="inline"><![CDATA[\operatorname {Pr}{\mathopen {}\left (\operatorname {\mathbb {L}}\mathscr {C}\right )\mathclose {}}]]></fr:tex> corresponds to the <html:em>classifying topos</html:em> of diagrams of shape <fr:tex display="inline"><![CDATA[\mathscr {C}]]></fr:tex>. Following <fr:link href="/anel-joyal-2021/" title="Topo-logie" uri="https://www.jonmsterling.com/anel-joyal-2021/" display-uri="anel-joyal-2021" type="local">Anel and Joyal</fr:link>, we shall write <fr:tex display="inline"><![CDATA[\mathbb {A}^{\mathscr {C}}]]></fr:tex> for this “affine” classifying topos; under the conventions of <html:em>op. cit.</html:em>, we may then identify the category of sheaves <fr:tex display="inline"><![CDATA[\operatorname {Sh}{\mathbb {A}^{\mathscr {C}}}]]></fr:tex> with the presheaf category <fr:tex display="inline"><![CDATA[\operatorname {Pr}{\mathopen {}\left (\operatorname {\mathbb {L}}{\mathscr {C}}\right )\mathclose {}}]]></fr:tex>.</html:p><html:p>The universal property of <fr:tex display="inline"><![CDATA[\mathbb {A}^{\mathscr {C}}]]></fr:tex> as the classifying topos of <fr:tex display="inline"><![CDATA[\mathscr {C}]]></fr:tex>-diagrams means that for any topos <fr:tex display="inline"><![CDATA[\mathcal {X}]]></fr:tex>, a diagram <fr:tex display="inline"><![CDATA[{\mathscr {C}}\xrightarrow {{P}}{\operatorname {Sh}{\mathcal {X}}}]]></fr:tex> corresponds essentially uniquely (by left Kan extension) to a morphism of topoi <fr:tex display="inline"><![CDATA[{\mathcal {X}}\xrightarrow {{\bar {P}}}{\mathbb {A}^{\mathscr {C}}}]]></fr:tex>. We have a <html:em>generic <fr:tex display="inline"><![CDATA[\mathscr {C}]]></fr:tex>-shaped diagram</html:em> <fr:tex display="inline"><![CDATA[{\mathscr {C}}\xrightarrow {{\mathrm {G}_{\mathscr {C}}}}{\operatorname {Sh}{\mathbb {A}^{\mathscr {C}}}}]]></fr:tex> corresponding under this identification to the identity map on <fr:tex display="inline"><![CDATA[\mathbb {A}^{\mathscr {C}}]]></fr:tex>. More explicitly, the diagram <fr:tex display="inline"><![CDATA[\mathrm {G}_{\mathscr {C}}]]></fr:tex> is the following composite:</html:p><fr:tex display="block"><![CDATA[
  \mathrm {G}_{\mathscr {C}} :\equiv  \mathscr {C}\xrightarrow {\eta _\mathscr {C}} \operatorname {\mathbb {L}}\mathscr {C}\xrightarrow {よ_{\mathscr {C}}} \operatorname {Pr}{\mathopen {}\left (\operatorname {\mathbb {L}}\mathscr {C}\right )\mathclose {}} = \operatorname {Sh}{\mathbb {A}^{\mathscr {C}}}
]]></fr:tex><html:p>Given a morphism of topoi <fr:tex display="inline"><![CDATA[{\mathcal {X}}\xrightarrow {{f}}{\mathbb {A}^{\mathscr {C}}}]]></fr:tex>, we may recover the diagram <fr:tex display="inline"><![CDATA[\mathscr {C}\to {\operatorname {Sh}{\mathcal {X}}}]]></fr:tex> that it classifies as the composite <fr:tex display="inline"><![CDATA[\mathscr {C}\xrightarrow {\mathrm {G}_{\mathscr {C}}}\operatorname {Sh}{\mathbb {A}^{\mathscr {C}}}\xrightarrow {f^{*}}\operatorname {Sh}{\mathcal {X}}]]></fr:tex>.</html:p><html:p>In case <fr:tex display="inline"><![CDATA[\mathcal {X}\equiv \mathbb {A}^{\mathscr {C}}]]></fr:tex>, then, we have a correspondence between <fr:tex display="inline"><![CDATA[\mathscr {C}]]></fr:tex>-shaped diagrams of sheaves on <fr:tex display="inline"><![CDATA[\mathbb {A}^{\mathscr {C}}]]></fr:tex> and endomorphisms of <fr:tex display="inline"><![CDATA[\mathbb {A}^{\mathscr {C}}]]></fr:tex>; <html:mark>we are interested in representing the compositions of such endomorphisms as a <html:em>tensor product</html:em> on the functor category <fr:tex display="inline"><![CDATA[{\mathopen {}\left  [\mathscr {C},\operatorname {Sh}{\mathbb {A}^{\mathscr {C}}}\right  ]\mathclose {}}]]></fr:tex></html:mark>.</html:p><html:p>In particular, let <fr:tex display="inline"><![CDATA[{\mathscr {C}}\xrightarrow {{P,Q}}{\operatorname {Sh}{\mathbb {A}^{\mathscr {C}}}}]]></fr:tex> be two diagrams; taking characteristic maps, we have endomorphisms of affine topoi <fr:tex display="inline"><![CDATA[{\mathbb {A}^{\mathscr {C}}}\xrightarrow {{\bar {P},\bar {Q}}}{\mathbb {A}^{\mathscr {C}}}]]></fr:tex>, which we may compose to obtain <fr:tex display="inline"><![CDATA[{\mathbb {A}^{\mathscr {C}}}\xrightarrow {{\bar {Q}\circ \bar {P}}}{\mathbb {A}^{\mathscr {C}}}]]></fr:tex>; then, we will define the tensor <fr:tex display="inline"><![CDATA[P\bullet  Q]]></fr:tex> to be the diagram whose characteristic morphism of affine topoi is <fr:tex display="inline"><![CDATA[\bar {P}\circ \bar {Q}]]></fr:tex>. In other words:</html:p><fr:tex display="block"><![CDATA[
  \begin {aligned}
    P\bullet  Q
    &:\equiv 
    \mathscr {C}\xrightarrow {\mathrm {G}_{\mathscr {C}}}
    \operatorname {Sh}{\mathbb {A}^{\mathscr {C}}}
    \xrightarrow {{\mathopen {}\left (\bar {P}\circ \bar {Q}\right )\mathclose {}}^{*}}
    \operatorname {Sh}{\mathbb {A}^{\mathscr {C}}}
    \\
    &=
    \mathscr {C}\xrightarrow {\mathrm {G}_{\mathscr {C}}}
    \operatorname {Sh}{\mathbb {A}^{\mathscr {C}}}
    \xrightarrow {\bar {P}^{*}}
    \operatorname {Sh}{\mathbb {A}^{\mathscr {C}}}
    \xrightarrow {\bar {Q}^{*}}
    \operatorname {Sh}{\mathbb {A}^{\mathscr {C}}}
  \end {aligned}
]]></fr:tex><html:p>To give an explicit computation of the tensor product, we first compute the inverse image of any <fr:tex display="inline"><![CDATA[{\mathbb {A}^{\mathscr {C}}}\xrightarrow {{f}}{\mathbb {A}^{\mathscr {C}}}]]></fr:tex> on representables <fr:tex display="inline"><![CDATA[よ_{\mathscr {C}}\Gamma ]]></fr:tex> for <fr:tex display="inline"><![CDATA[\Gamma \in \operatorname {\mathbb {L}}\mathscr {C}]]></fr:tex>. As any left exact functor <fr:tex display="inline"><![CDATA[{\operatorname {\mathbb {L}}\mathscr {C}}\xrightarrow {{H}}{\mathscr {E}}]]></fr:tex> is the right Kan extension of <fr:tex display="inline"><![CDATA[{\mathscr {C}}\xrightarrow {{H\circ \eta _\mathscr {C}}}{\mathscr {E}}]]></fr:tex> along <fr:tex display="inline"><![CDATA[{C}\xrightarrow {{\eta _\mathscr {C}}}{\operatorname {\mathbb {L}}\mathscr {C}}]]></fr:tex>, we can conclude that <fr:tex display="inline"><![CDATA[H\Gamma  \cong  \operatorname {lim}_{\Gamma \to \eta _\mathscr {C}{d}}H{\mathopen {}\left (\eta _\mathscr {C}{d}\right )\mathclose {}}]]></fr:tex>. We will use this in our calculation below, setting <fr:tex display="inline"><![CDATA[H:\equiv  f^{*}\circ よ_{\mathscr {C}}]]></fr:tex>.</html:p><fr:tex display="block"><![CDATA[
  \begin {aligned}
    f^{*}{よ_{\mathscr {C}}\Gamma }
    &\cong 
    \operatorname {lim}_{\Gamma \to \eta _\mathscr {C}{d}}
    f^{*}{
      よ_{\mathscr {C}}{\eta _\mathscr {C}{d}}
    }
    \\
    &\cong 
    \operatorname {lim}_{\Gamma \to \eta _\mathscr {C}{d}}
    f^{*}{\mathrm {G}_{\mathscr {C}}{d}}
  \end {aligned}
]]></fr:tex><html:p>We are now prepared to compute the tensor product of any <fr:tex display="inline"><![CDATA[{\mathscr {C}}\xrightarrow {{P,Q}}{\operatorname {Sh}{\mathbb {A}^{\mathscr {C}}}}]]></fr:tex>.</html:p><fr:tex display="block"><![CDATA[
  \begin {aligned}
    {\mathopen {}\left (P\bullet  Q\right )\mathclose {}}c
    &=
    \bar {Q}^{*}
    \bar {P}^{*}
    \mathrm {G}_{\mathscr {C}}{c}
    \\
    &\cong 
    \bar {Q}^{*}
    {\mathopen {}\left (Pc\right )\mathclose {}}
    \\
    &\cong 
    \bar {Q}^{*}
    \operatorname {colim}_{よ_{\mathscr {C}}\Delta \to  Pc}
    よ_{\mathscr {C}}\Delta 
    \\
    &\cong 
    \operatorname {colim}_{よ_{\mathscr {C}}\Delta \to  Pc}
    \bar {Q}^{*}よ_{\mathscr {C}}\Delta 
    \\
    &\cong 
    \operatorname {colim}_{よ_{\mathscr {C}}\Delta \to  Pc}
    \operatorname {lim}_{\Delta \to  \eta _\mathscr {C}{d}}
    \bar {Q}^{*}\mathrm {G}_{\mathscr {C}}d
    \\
    &\cong 
    \operatorname {colim}_{よ_{\mathscr {C}}\Delta \to  Pc}
    \operatorname {lim}_{\Delta \to  \eta _\mathscr {C}{d}}
    Qd
  \end {aligned}
]]></fr:tex><html:p>Finally, we can relate the computation above to that of <fr:link href="/fiore-2008/" title="Second-order and dependently-sorted abstract syntax" uri="https://www.jonmsterling.com/fiore-2008/" display-uri="fiore-2008" type="local">Fiore</fr:link> in terms of coends.</html:p><fr:tex display="block"><![CDATA[
  \begin {aligned}
    {\mathopen {}\left (P\bullet  Q\right )\mathclose {}}\,c
    &\cong 
    \operatorname {colim}_{よ_{\mathscr {C}}\Delta \to  Pc}
    \operatorname {lim}_{\Delta \to  \eta _\mathscr {C}{d}}
    Qd
    \\
    &\cong 
    \int ^{\Delta \in \operatorname {\mathbb {L}}\mathscr {C}}
    {\mathopen {}\left  [よ_{\mathscr {C}}\Delta ,Pc\right  ]\mathclose {}}
    \cdot 
    \operatorname {lim}_{\Delta \to \eta _\mathscr {C}{d}} Qd
    \\
    &\cong 
    \int ^{\Delta \in \operatorname {\mathbb {L}}\mathscr {C}}
    P\,c\,\Delta 
    \cdot 
    \operatorname {lim}_{\Delta \to \eta _\mathscr {C}{d}} Qd
    \\
    &\cong 
    \int ^{\Delta \in \operatorname {\mathbb {L}}\mathscr {C}}
    P\,c\,\Delta 
    \cdot 
    \int _{c\in \mathscr {C}}
    {\mathopen {}\left  [\Delta ,\eta _\mathscr {C}{d}\right  ]\mathclose {}}\pitchfork  Qd
  \end {aligned}
]]></fr:tex><html:p>Above, we have written <fr:tex display="inline"><![CDATA[{\mathopen {}\left (\cdot \right )\mathclose {}}]]></fr:tex> and <fr:tex display="inline"><![CDATA[{\mathopen {}\left (\pitchfork \right )\mathclose {}}]]></fr:tex> for the tensoring and cotensoring of <fr:tex display="inline"><![CDATA[\operatorname {Sh}{\mathbb {A}^{\mathscr {C}}}]]></fr:tex> over <fr:tex display="inline"><![CDATA[\mathbf {Set}]]></fr:tex> respectively. Thus, the fully pointwise computation is as follows:</html:p><fr:tex display="block"><![CDATA[
  {\mathopen {}\left (P\bullet  Q\right )\mathclose {}}\,c\,\Gamma  \cong 
    \int ^{\Delta \in \operatorname {\mathbb {L}}\mathscr {C}}
    P\,c\,\Delta 
    \times 
    \int _{c\in \mathscr {C}}
    {\mathopen {}\left  [\Delta ,\eta _\mathscr {C}{d}\right  ]\mathclose {}}\Rightarrow  Q\,d\,\Gamma 
]]></fr:tex><html:p><html:em>Thanks to <fr:link href="/marcelofiore/" title="Marcelo Fiore" uri="https://www.jonmsterling.com/marcelofiore/" display-uri="marcelofiore" type="local">Marcelo Fiore</fr:link> and <fr:link href="/danielgratzer/" title="Daniel Gratzer" uri="https://www.jonmsterling.com/danielgratzer/" display-uri="danielgratzer" type="local">Daniel Gratzer</fr:link> for helpful discussions.</html:em></html:p></fr:mainmatter></fr:tree><fr:tree show-metadata="true" expanded="false" toc="false" numbered="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2023</fr:year><fr:month>8</fr:month><fr:day>31</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-0084/</fr:uri><fr:display-uri>jms-0084</fr:display-uri><fr:route>/jms-0084/</fr:route><fr:title text="Scientific refereeing using Bike Outliner">Scientific refereeing using <fr:link href="/jms-0085/" title="Bike Outliner: Structured focused writing" uri="https://www.jonmsterling.com/jms-0085/" display-uri="jms-0085" type="local">Bike Outliner</fr:link></fr:title></fr:frontmatter><fr:mainmatter><html:p>I have long been an enthusiast for <fr:link href="http://outliners.com/default.html" type="external">outliners</fr:link>, a genre of computer software that deserves more than almost any other to be called an <html:em>“elegant weapon for a more civilized age”</html:em>. Recently I have been enjoying experimenting with <fr:link href="/jessegrosjean/" title="Jesse Grosjean" uri="https://www.jonmsterling.com/jessegrosjean/" display-uri="jessegrosjean" type="local">Jesse Grosjean</fr:link>’s highly <fr:link href="/jms-008B/" title="Rich text editing in Bike" uri="https://www.jonmsterling.com/jms-008B/" display-uri="jms-008B" type="local">innovative</fr:link> outliner for macOS called <fr:link href="/jms-0085/" title="Bike Outliner: Structured focused writing" uri="https://www.jonmsterling.com/jms-0085/" display-uri="jms-0085" type="local">Bike</fr:link>, which builds on a lot of his previous (highly impressive) work in the area with a level of fit and finish that is rare even in the world of macOS software. <html:strong><fr:link href="https://www.hogbaysoftware.com/bike/" type="external">Bike costs $29.99</fr:link> and is well-worth it; watch the <fr:link href="https://www.hogbaysoftware.com/bike/" type="external">introductory video</fr:link> or try the demo to see for yourself.</html:strong></html:p><html:p>The purpose of outliners is to provide room to actively think; <fr:link href="/alexandergrothendieck/" title="Alexander Grothendieck" uri="https://www.jonmsterling.com/alexandergrothendieck/" display-uri="alexandergrothendieck" type="local">Grothendieck</fr:link> is said to have been unable to think at all without a pen in his hand, and I think of outliners as one way to elevate the tactile aspect of active thinking using the unique capabilities of software. Tools for thinking must combat stress and mental weight, and the most immediate way that outliners achieve this is through the ability to <html:em>focus</html:em> on a subtree — narrowing into a portion of the hierarchy and treating it as if it were the entire document, putting its context aside. This feature, which some of my readers may recognize from Emacs <html:code>org-mode</html:code>, is well-represented in <fr:link href="/jms-0085/" title="Bike Outliner: Structured focused writing" uri="https://www.jonmsterling.com/jms-0085/" display-uri="jms-0085" type="local">Bike</fr:link> — without, of course, suffering the noticeable quirks that come from the Emacs environment, nor the <fr:link href="https://www.forester-notes.org/tfmt-000B/" title="Absolute vs. relative hierarchy in document markup languages" uri="https://www.forester-notes.org/tfmt-000B/" display-uri="https://www.forester-notes.org/tfmt-000B/" type="local">ill-advised <html:em>absolute/top-down</html:em> model of hierarchy</fr:link> sadly adopted by <html:code>org-mode</html:code>.</html:p><html:p>As a scientist in academia, one of the most frequent things I am doing when I am not writing my own papers or working with students is <html:strong>refereeing other scientists’ papers</html:strong>. For those who are unfamiliar, this means carefully studying a paper and then producing a detailed and well-structured report that includes a summary of the paper, my personal assessment of its scientific validity and value, and a long list of corrections, questions, comments, and suggestions. Referee reports of this kind are then used by journal editors and conference program committees to decide which papers deserve to be published.</html:p><html:p><html:mark>In this post, I will give an overview of my refereeing workflow with <fr:link href="/jms-0085/" title="Bike Outliner: Structured focused writing" uri="https://www.jonmsterling.com/jms-0085/" display-uri="jms-0085" type="local">Bike</fr:link></html:mark> and how I overcame the challenges transferring finished referee reports from <fr:link href="/jms-0085/" title="Bike Outliner: Structured focused writing" uri="https://www.jonmsterling.com/jms-0085/" display-uri="jms-0085" type="local">Bike</fr:link> into the text-based formats used by conference refereeing platforms like <fr:link href="https://hotcrp.com/" type="external">HotCRP</fr:link> and <fr:link href="https://hotcrp.com/" type="external">EasyChair</fr:link> using a combination of XSLT 2.0 and <fr:link href="/jms-008D/" title="Pandoc: a universal document convertor" uri="https://www.jonmsterling.com/jms-008D/" display-uri="jms-008D" type="local">Pandoc</fr:link>. This tutorial applies to <fr:link href="/jms-0085/" title="Bike Outliner: Structured focused writing" uri="https://www.jonmsterling.com/jms-0085/" display-uri="jms-0085" type="local">Bike</fr:link> 1.14; I hope the format will not change too much, but I cannot make promises about what I do not control.</html:p><fr:tree show-metadata="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2023</fr:year><fr:month>8</fr:month><fr:day>29</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-0089/</fr:uri><fr:display-uri>jms-0089</fr:display-uri><fr:route>/jms-0089/</fr:route><fr:title text="Refereeing in an outliner">Refereeing in an outliner</fr:title></fr:frontmatter><fr:mainmatter><html:p>Most scientific conferences solicit and organize reviews for papers using a web platform such as <fr:link href="https://hotcrp.com/" type="external">HotCRP</fr:link> and <fr:link href="https://hotcrp.com/" type="external">EasyChair</fr:link>; although these are not the same, the idea is similar. Once you have been assigned to referee a paper, you will receive a web form with several sections and large text areas in which to put the components of your review; not all conferences ask for the same components, but usually one is expected to include the following in addition to your (numerical) assessment of the paper’s merit and your expertise:</html:p><html:ol><html:li>A summmary of the paper</html:li>
  <html:li>Your assessment of the paper</html:li>
  <html:li>Detailed comments for the authors</html:li>
  <html:li>Questions to be addressed by author response</html:li>
  <html:li>Comments for the PC (program committee) and other reviewers</html:li></html:ol><html:p>Usually you will be asked to enter your comments under each section in a plain text format like Markdown. <html:strong>The first thing a new referee learns is not to type answers directly into the web interface</html:strong>, because this is an extremely reliable way to lose hours of your time when a browser or server glitch deletes all your work. Most of us instead write out our answers in a separate text editor, and paste them into the web interface when we are satisfied with them. In the past, I have done this with text files on my computer, but <html:mark>today I want to discuss how to draft referee reports as outlines in <fr:link href="/jms-0085/" title="Bike Outliner: Structured focused writing" uri="https://www.jonmsterling.com/jms-0085/" display-uri="jms-0085" type="local">Bike</fr:link></html:mark>; then I will show you how to convert them to the correct plain text format that can be pasted into your conference’s preferred web-based refereeing platform.</html:p><html:p>To start off, have a look at the <fr:link href="/jms-0086/" title="A Bike outline for conference refereeing" uri="https://www.jonmsterling.com/jms-0086/" display-uri="jms-0086" type="local">figure</fr:link> below, which shows my refereeing template outline in <fr:link href="/jms-0085/" title="Bike Outliner: Structured focused writing" uri="https://www.jonmsterling.com/jms-0085/" display-uri="jms-0085" type="local">Bike</fr:link>.</html:p><fr:tree show-metadata="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2023</fr:year><fr:month>8</fr:month><fr:day>28</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-0086/</fr:uri><fr:display-uri>jms-0086</fr:display-uri><fr:route>/jms-0086/</fr:route><fr:title text="A Bike outline for conference refereeing">A <fr:link href="/jms-0085/" title="Bike Outliner: Structured focused writing" uri="https://www.jonmsterling.com/jms-0085/" display-uri="jms-0085" type="local">Bike</fr:link> outline for conference refereeing</fr:title><fr:taxon>Figure</fr:taxon><fr:meta name="external">https://git.sr.ht/~jonsterling/bike-convertors/tree/main/item/example.bike</fr:meta></fr:frontmatter><fr:mainmatter><html:figure><html:img src="/bafkrmigmquqcipfrbxjs6e66eywjrnkbo7mntai2iyhjbu67a3qo5i6fsy.png" />
  <html:figcaption>This <fr:link href="/jms-0085/" title="Bike Outliner: Structured focused writing" uri="https://www.jonmsterling.com/jms-0085/" display-uri="jms-0085" type="local">Bike</fr:link> outline contains the skeleton of a referee report for a major computer science conference. <fr:link href="/jms-0085/" title="Bike Outliner: Structured focused writing" uri="https://www.jonmsterling.com/jms-0085/" display-uri="jms-0085" type="local">Bike</fr:link>’s <html:em>row types</html:em> are used extensively: for example, sections are formatted as <html:em>heading</html:em>s, and prompts are formatted as <html:em>note</html:em>s</html:figcaption></html:figure></fr:mainmatter></fr:tree><html:p>As you can see, there is a healthy combination of hierarchy and formatting in a <fr:link href="/jms-0085/" title="Bike Outliner: Structured focused writing" uri="https://www.jonmsterling.com/jms-0085/" display-uri="jms-0085" type="local">Bike</fr:link> outline.</html:p><fr:tree show-metadata="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2023</fr:year><fr:month>8</fr:month><fr:day>29</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-008B/</fr:uri><fr:display-uri>jms-008B</fr:display-uri><fr:route>/jms-008B/</fr:route><fr:title text="Rich text editing in Bike">Rich text editing in <fr:link href="/jms-0085/" title="Bike Outliner: Structured focused writing" uri="https://www.jonmsterling.com/jms-0085/" display-uri="jms-0085" type="local">Bike</fr:link></fr:title></fr:frontmatter><fr:mainmatter><html:p><fr:link href="/jms-0085/" title="Bike Outliner: Structured focused writing" uri="https://www.jonmsterling.com/jms-0085/" display-uri="jms-0085" type="local">Bike</fr:link> is a rich text editor, but one that (much like <fr:link href="/van-der-hoeven-2020/" title="The jolly writer: your guide to GNU TeXmacs" uri="https://www.jonmsterling.com/van-der-hoeven-2020/" display-uri="van-der-hoeven-2020" type="local">GNU TeXmacs</fr:link>) avoids the classic pitfalls of nearly all rich text editors, such as the ubiquitous and dreaded <html:em>“Is the space italic?!”</html:em> user-experience failure; I will not outline <fr:link href="/jms-0085/" title="Bike Outliner: Structured focused writing" uri="https://www.jonmsterling.com/jms-0085/" display-uri="jms-0085" type="local">Bike</fr:link> <fr:link href="https://www.hogbaysoftware.com/posts/bike-rich-text/" type="external">innovative approach to rich text editing</fr:link> here, but I suggest you check it out for yourself.</html:p></fr:mainmatter></fr:tree><fr:tree show-metadata="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2023</fr:year><fr:month>8</fr:month><fr:day>29</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-008A/</fr:uri><fr:display-uri>jms-008A</fr:display-uri><fr:route>/jms-008A/</fr:route><fr:title text="Row types in Bike">Row types in <fr:link href="/jms-0085/" title="Bike Outliner: Structured focused writing" uri="https://www.jonmsterling.com/jms-0085/" display-uri="jms-0085" type="local">Bike</fr:link></fr:title></fr:frontmatter><fr:mainmatter><html:p>One of the most useful features of <fr:link href="/jms-0085/" title="Bike Outliner: Structured focused writing" uri="https://www.jonmsterling.com/jms-0085/" display-uri="jms-0085" type="local">Bike</fr:link>’s approach to formatting is the concept of a <html:strong>row type</html:strong>, which is a semantic property of a row that has consequences for its visual presentation. <fr:link href="/jms-0085/" title="Bike Outliner: Structured focused writing" uri="https://www.jonmsterling.com/jms-0085/" display-uri="jms-0085" type="local">Bike</fr:link> currently supports the following row types:</html:p><html:ul><html:li><html:strong>Plain rows</html:strong></html:li>
  <html:li><html:strong>Heading rows</html:strong>, formatted in boldface</html:li>
  <html:li><html:strong>Note rows</html:strong>, formatted in gray italics</html:li>
  <html:li><html:strong>Quote rows</html:strong>, formatted with a vertical bar to their left</html:li>
  <html:li><html:strong>Ordered rows</html:strong>, formatted with an (automatically chosen) numeral to their left</html:li>
  <html:li><html:strong>Unordered rows</html:strong>, formatted with a bullet to their left</html:li>
  <html:li><html:strong>Task rows</html:strong>, formatted with a checkbox to their left</html:li></html:ul></fr:mainmatter></fr:tree><html:p>My <fr:link href="/jms-0086/" title="A Bike outline for conference refereeing" uri="https://www.jonmsterling.com/jms-0086/" display-uri="jms-0086" type="local">refereeing template</fr:link> uses several of these <fr:link href="/jms-008A/" title="Row types in Bike" uri="https://www.jonmsterling.com/jms-008A/" display-uri="jms-008A" type="local">row types</fr:link> (headings, notes, tasks) as well as some of the <fr:link href="/jms-008B/" title="Rich text editing in Bike" uri="https://www.jonmsterling.com/jms-008B/" display-uri="jms-008B" type="local">rich text formatting</fr:link> (highlighting). When I fill out the refereeing outline, I will use other <fr:link href="/jms-008A/" title="Row types in Bike" uri="https://www.jonmsterling.com/jms-008A/" display-uri="jms-008A" type="local">row types</fr:link> as well — including quotes, ordered, and unordered rows. I will create a subheading under <html:em>Detailed comments for the author</html:em> to contain my questions and comments, which I enter in as ordered rows; then I make a separate subheading at the same level for <html:em>Typographical errors</html:em>, which I populate with unordered rows. Unordered rows are best for typos, because they are always accompanied already by line numbers. If I need to quote an extended portion of the paper, I will use a <html:em>quote row</html:em>.</html:p><html:p>When working on the report outline, I will constantly be <html:em>focusing</html:em> on individual sections to avoid not only distractions but also the intense mental weight of unfinished sections. Focusing means that the entire outline is narrowed to a subtree that can be edited away from its context; this is achieved in <fr:link href="/jms-0085/" title="Bike Outliner: Structured focused writing" uri="https://www.jonmsterling.com/jms-0085/" display-uri="jms-0085" type="local">Bike</fr:link> by pressing the gray south-easterly arrows to the right of each heading, as seen in <fr:link href="/jms-0086/" title="A Bike outline for conference refereeing" uri="https://www.jonmsterling.com/jms-0086/" display-uri="jms-0086" type="local">the figure</fr:link>.</html:p></fr:mainmatter></fr:tree><fr:tree show-metadata="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2023</fr:year><fr:month>8</fr:month><fr:day>31</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-008C/</fr:uri><fr:display-uri>jms-008C</fr:display-uri><fr:route>/jms-008C/</fr:route><fr:title text="From an outline to a plain text referee report">From an outline to a plain text referee report</fr:title></fr:frontmatter><fr:mainmatter><html:p>Although we have seen how pleasant it is to use an outliner like <fr:link href="/jms-0085/" title="Bike Outliner: Structured focused writing" uri="https://www.jonmsterling.com/jms-0085/" display-uri="jms-0085" type="local">Bike</fr:link> to draft a referee report, but we obviously cannot submit a <html:code>.bike</html:code> file to a conference reviewing website or a journal editor. Most conference reviewing systems accept plain text or Markdown responses, and so our goal will be to convert a <fr:link href="/jms-0085/" title="Bike Outliner: Structured focused writing" uri="https://www.jonmsterling.com/jms-0085/" display-uri="jms-0085" type="local">Bike</fr:link> outline into reasonably formatted Markdown.</html:p><html:p>It happens that <fr:link href="/jms-0085/" title="Bike Outliner: Structured focused writing" uri="https://www.jonmsterling.com/jms-0085/" display-uri="jms-0085" type="local">Bike</fr:link>’s underlying format is HTML, so one idea would be to use <fr:link href="/jms-008D/" title="Pandoc: a universal document convertor" uri="https://www.jonmsterling.com/jms-008D/" display-uri="jms-008D" type="local">Pandoc</fr:link> to process this HTML into Markdown. This would work, except that <fr:link href="/jms-0085/" title="Bike Outliner: Structured focused writing" uri="https://www.jonmsterling.com/jms-0085/" display-uri="jms-0085" type="local">Bike</fr:link>’s model is sufficiently structured that it must make deeply idiosyncratic use of HTML tags, as can be seen from the <fr:link href="/jms-008G/" title="The source code to a typical Bike outline" uri="https://www.jonmsterling.com/jms-008G/" display-uri="jms-008G" type="local">listing</fr:link> below.</html:p><fr:tree show-metadata="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2023</fr:year><fr:month>8</fr:month><fr:day>31</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-008G/</fr:uri><fr:display-uri>jms-008G</fr:display-uri><fr:route>/jms-008G/</fr:route><fr:title text="The source code to a typical Bike outline">The source code to a typical <fr:link href="/jms-0085/" title="Bike Outliner: Structured focused writing" uri="https://www.jonmsterling.com/jms-0085/" display-uri="jms-0085" type="local">Bike</fr:link> outline</fr:title><fr:taxon>Listing</fr:taxon></fr:frontmatter><fr:mainmatter><html:pre><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8"/>
  </head>
  <body>
    <ul id="2sbcmmms">
      <li id="3C" data-type="heading">
        <p>Tasks</p>
        <ul>
          <li id="cs" data-type="task">
            <p>read through paper on iPad and highlight</p>
          </li>
        </ul>
      </li>
      <li id="XZ" data-type="heading">
        <p>Syntax and semantics of foo bar baz</p>
        <ul>
          <li id="Kp">
            <p><mark>Overall merit:</mark><span> </span></p>
          </li>
          <li id="d9">
            <p><mark>Reviewer Expertise:</mark></p>
          </li>
          <li id="uM" data-type="heading">
            <p>Summary of the paper</p>
            <ul>
              <li id="oB" data-type="note">
                <p>Please give a brief summary of the paper</p>
              </li>
              <li id="TWZ">
                <p>This paper describes the syntax and semantics of foo, bar, and baz.</p>
              </li>
            </ul>
          </li>
          <li id="V8" data-type="heading">
            <p>Assessment of the paper</p>
            <ul>
              <li id="vD" data-type="note">
                <p>Please give a balanced assessment of the paper's strengths and weaknesses and a clear justification for your review score.</p>
              </li>
            </ul>
          </li>
          <li id="zo" data-type="heading">
            <p>Detailed comments for authors</p>
            <ul>
              <li id="o0" data-type="note">
                <p>Please give here any additional detailed comments or questions that you would like the authors to address in revising the paper.</p>
              </li>
              <li id="bgy" data-type="heading">
                <p>Minor comments</p>
                <ul>
                  <li id="tMq" data-type="unordered">
                    <p>line 23: "teh" =&gt; "the"</p>
                  </li>
                  <li id="EmX" data-type="unordered">
                    <p>line 99: "fou" =&gt; "foo"</p>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
          <li id="aN" data-type="heading">
            <p>Questions to be addressed by author response</p>
            <ul>
              <li id="7s" data-type="note">
                <p>Please list here any specific questions you would like the authors to address in their author response. Since authors have limited time in which to prepare their response, please only ask questions here that are likely to affect your accept/reject decision.</p>
              </li>
            </ul>
          </li>
          <li id="4S" data-type="heading">
            <p>Comments for PC and other reviewers</p>
            <ul>
              <li id="bN" data-type="note">
                <p>Please list here any additional comments you have which you want the PC and other reviewers to see, but not the authors.</p>
              </li>
              <li id="i2b">
                <p>In case any one is wondering, I am an expert in foo, but not in bar nor baz.</p>
              </li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </body>
</html>]]></html:pre></fr:mainmatter></fr:tree><html:p>The Markdown that would result from postprocessing a <fr:link href="/jms-0085/" title="Bike Outliner: Structured focused writing" uri="https://www.jonmsterling.com/jms-0085/" display-uri="jms-0085" type="local">Bike</fr:link> outline directly with <fr:link href="/jms-008D/" title="Pandoc: a universal document convertor" uri="https://www.jonmsterling.com/jms-008D/" display-uri="jms-008D" type="local">Pandoc</fr:link> would be deeply unsuitable for submission. We will, however, use a version of this idea: first we will preprocess the <fr:link href="/jms-0085/" title="Bike Outliner: Structured focused writing" uri="https://www.jonmsterling.com/jms-0085/" display-uri="jms-0085" type="local">Bike</fr:link> format into more conventional (unstructured) HTML using XSLT 2.0, and then we will use <fr:link href="/jms-008D/" title="Pandoc: a universal document convertor" uri="https://www.jonmsterling.com/jms-008D/" display-uri="jms-008D" type="local">Pandoc</fr:link> to convert this into Markdown.</html:p><fr:tree show-metadata="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2023</fr:year><fr:month>8</fr:month><fr:day>31</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-008E/</fr:uri><fr:display-uri>jms-008E</fr:display-uri><fr:route>/jms-008E/</fr:route><fr:title text="System requirements to convert Bike outlines to Markdown">System requirements to convert <fr:link href="/jms-0085/" title="Bike Outliner: Structured focused writing" uri="https://www.jonmsterling.com/jms-0085/" display-uri="jms-0085" type="local">Bike</fr:link> outlines to Markdown</fr:title></fr:frontmatter><fr:mainmatter><html:p>XSLT 2.0 is unfortunately only implemented by proprietary tools like <fr:link href="https://saxonica.com/welcome/welcome.xml" type="external">Saxon</fr:link>, developed by Saxonica. Nonetheless, it is possible to freely install Saxon on macOS using Homebrew:</html:p><html:pre>brew install saxon</html:pre><html:p>You must also install <fr:link href="/jms-008D/" title="Pandoc: a universal document convertor" uri="https://www.jonmsterling.com/jms-008D/" display-uri="jms-008D" type="local">Pandoc</fr:link>, which is also conveniently available as a binary on Homebrew:</html:p><html:pre>brew install pandoc</html:pre></fr:mainmatter></fr:tree><html:p>With the <fr:link href="/jms-008E/" title="System requirements to convert Bike outlines to Markdown" uri="https://www.jonmsterling.com/jms-008E/" display-uri="jms-008E" type="local">system requirements</fr:link> out of the way, we can proceed to prepare an XSLT stylesheet that will convert <fr:link href="/jms-0085/" title="Bike Outliner: Structured focused writing" uri="https://www.jonmsterling.com/jms-0085/" display-uri="jms-0085" type="local">Bike</fr:link>’s idiosyncratic use of HTML tags to more conventional HTML that can be processed into Markdown by <fr:link href="/jms-008D/" title="Pandoc: a universal document convertor" uri="https://www.jonmsterling.com/jms-008D/" display-uri="jms-008D" type="local">Pandoc</fr:link>. The stylesheet <html:code>bike-to-html.xsl</html:code> is described and explained in the <fr:link href="/jms-0087/" title="An XSLT 2.0 transformer to convert Bike outlines to HTML" uri="https://www.jonmsterling.com/jms-0087/" display-uri="jms-0087" type="local">listing</fr:link> below.</html:p>
  
  <fr:tree show-metadata="true"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2023</fr:year><fr:month>8</fr:month><fr:day>29</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-0087/</fr:uri><fr:display-uri>jms-0087</fr:display-uri><fr:route>/jms-0087/</fr:route><fr:title text="An XSLT 2.0 transformer to convert Bike outlines to HTML">An XSLT 2.0 transformer to convert <fr:link href="/jms-0085/" title="Bike Outliner: Structured focused writing" uri="https://www.jonmsterling.com/jms-0085/" display-uri="jms-0085" type="local">Bike</fr:link> outlines to HTML</fr:title><fr:taxon>Listing</fr:taxon><fr:meta name="external">https://git.sr.ht/~jonsterling/bike-convertors/tree/main/item/bike-to-html.xsl</fr:meta></fr:frontmatter><fr:mainmatter><html:p>We can write convert <fr:link href="/jms-0085/" title="Bike Outliner: Structured focused writing" uri="https://www.jonmsterling.com/jms-0085/" display-uri="jms-0085" type="local">Bike</fr:link> outlines to reasonable HTML using an XSLT 2.0 stylesheet, <html:code>bike-to-html.xsl</html:code> detailed below.</html:p><html:pre><![CDATA[<?xml version="1.0"?>

<xsl:stylesheet version="2.0"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
  xmlns:html="http://www.w3.org/1999/xhtml"
  exclude-result-prefixes="xhtml">

  <xsl:output method="xml" version="1.0" encoding="UTF-8" indent="yes" />
  <xsl:strip-space elements="*" />]]></html:pre><html:p>We will allow several tags to be copied verbatim into the output, as <fr:link href="/jms-0085/" title="Bike Outliner: Structured focused writing" uri="https://www.jonmsterling.com/jms-0085/" display-uri="jms-0085" type="local">Bike</fr:link> uses these in the same way that idiomatic HTML does.</html:p><html:pre><![CDATA[  <xsl:template match="html:html | html:body | html:code | html:strong | html:em | html:mark">
    <xsl:copy>
      <xsl:apply-templates select="node()|@*" />
    </xsl:copy>
  </xsl:template>]]></html:pre><html:p><fr:link href="/jms-0085/" title="Bike Outliner: Structured focused writing" uri="https://www.jonmsterling.com/jms-0085/" display-uri="jms-0085" type="local">Bike</fr:link> leaves behind a lot of empty <html:code>span</html:code> elements; we drop these.</html:p><html:pre><![CDATA[  <xsl:template match="html:span">
    <xsl:apply-templates />
  </xsl:template>]]></html:pre><html:p><fr:link href="/jms-0085/" title="Bike Outliner: Structured focused writing" uri="https://www.jonmsterling.com/jms-0085/" display-uri="jms-0085" type="local">Bike</fr:link> uses <html:code>ul</html:code> for all lists; the list type is determined not at this level, but rather by each individual item’s <html:code>@data-type</html:code> attribute. To get this data into the HTML list model, we must group items that have the same <html:code>@data-type</html:code> and wrap them in an appropriate list-forming element.</html:p><html:p>To do this, we use XSLT 2.0’s <html:code>xsl:for-each-group</html:code> instruction to group adjacent <html:code>li</html:code> elements by their <html:code>@data-type</html:code> attribute.  (It is extremely difficult and error-prone to write equivalent code in the more widely available XSLT 1.0.) We must convert <html:code>@data-type</html:code> to a string: otherwise, the transformer will crash when it encounters an item without a <html:code>@data-type</html:code> attribute.</html:p><html:pre><![CDATA[  <xsl:template match="html:ul">
    <xsl:for-each-group select="html:li" group-adjacent="string(@data-type)">
      <xsl:choose>
        <xsl:when test="@data-type='ordered' or @data-type='task'">
          <ol>
            <xsl:apply-templates select="current-group()" />
          </ol>
        </xsl:when>
        <xsl:when test="@data-type='unordered'">
          <ul>
            <xsl:apply-templates select="current-group()" />
          </ul>
        </xsl:when>
        <xsl:otherwise>
          <xsl:apply-templates select="current-group()" />
        </xsl:otherwise>
      </xsl:choose>
    </xsl:for-each-group>
  </xsl:template>]]></html:pre><html:p>Next, we match each individual <html:code>li</html:code> element; the content of a list item is stored in a <html:code>p</html:code> element directly under <html:code>li</html:code>, so we let the transformer fall thorugh the parent and then format the content underneath according to the <html:code>@data-type</html:code> of the item.</html:p><html:pre><![CDATA[  <xsl:template match="html:li">
    <xsl:apply-templates />
  </xsl:template>

  <xsl:template
    match="html:li[@data-type='ordered' or @data-type='unordered' or @data-type='task']/html:p">
    <li>
      <xsl:apply-templates />
    </li>
  </xsl:template>]]></html:pre><html:p><fr:link href="/jms-0085/" title="Bike Outliner: Structured focused writing" uri="https://www.jonmsterling.com/jms-0085/" display-uri="jms-0085" type="local">Bike</fr:link> has correctly adopted the optimal <fr:link href="https://www.forester-notes.org/tfmt-000D/" title="Implicit vs. explicit hierarchy in document markup languages" uri="https://www.forester-notes.org/tfmt-000D/" display-uri="https://www.forester-notes.org/tfmt-000D/" type="local">explicit</fr:link> and <fr:link href="https://www.forester-notes.org/tfmt-000B/" title="Absolute vs. relative hierarchy in document markup languages" uri="https://www.forester-notes.org/tfmt-000B/" display-uri="https://www.forester-notes.org/tfmt-000B/" type="local">relative</fr:link> model of hierarchy, in contrast to HTML; this means that the depth of a heading is not reflected in the element that introduces it, but is instead inferred from its actual position in the outline hierarchy. To convert <fr:link href="/jms-0085/" title="Bike Outliner: Structured focused writing" uri="https://www.jonmsterling.com/jms-0085/" display-uri="jms-0085" type="local">Bike</fr:link> outlines to idiomatic HTML, we must flatten the hierarchy and introduce explicit heading levels; luckily, this is easy to accomplish in XSLT by counting the ancestors of <html:code>heading</html:code> type.</html:p><html:pre><![CDATA[  <xsl:template match="html:li[@data-type='heading']/html:p">
    <xsl:element
      name="h{count(ancestor::html:li[@data-type='heading'])}">
      <xsl:apply-templates />
    </xsl:element>
  </xsl:template>]]></html:pre><html:p>The remainder of the row types are not difficult to render; you may prefer alternative formatting depending on your goals.</html:p><html:pre><![CDATA[  <xsl:template match="html:li[@data-type='quote']/html:p">
    <blockquote>
      <xsl:apply-templates />
    </blockquote>
  </xsl:template>

  <xsl:template match="html:li[@data-type='note']/html:p">
    <p>
      <em>
        <xsl:apply-templates />
      </em>
    </p>
  </xsl:template>

  <xsl:template match="html:li[not(@data-type)]/html:p">
    <p>
      <xsl:apply-templates />
    </p>
  </xsl:template>
</xsl:stylesheet>]]></html:pre></fr:mainmatter></fr:tree>
<html:p>Next, we can use Saxon to convert a <fr:link href="/jms-0087/" title="An XSLT 2.0 transformer to convert Bike outlines to HTML" uri="https://www.jonmsterling.com/jms-0087/" display-uri="jms-0087" type="local">Bike</fr:link> outline to idiomatic HTML using the <fr:link href="/jms-0087/" title="An XSLT 2.0 transformer to convert Bike outlines to HTML" uri="https://www.jonmsterling.com/jms-0087/" display-uri="jms-0087" type="local">stylesheet above</fr:link>.</html:p><html:pre>cat review.bike | saxon -xsl:bike-to-html.xsl - &gt; review.html</html:pre><html:p>Go ahead and open the resulting HTML file in a text editor and a browser to see the results.</html:p><fr:tree show-metadata="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2023</fr:year><fr:month>8</fr:month><fr:day>31</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-008F/</fr:uri><fr:display-uri>jms-008F</fr:display-uri><fr:route>/jms-008F/</fr:route><fr:title text="A Bike outline transformed to idiomatic HTML">A <fr:link href="/jms-0085/" title="Bike Outliner: Structured focused writing" uri="https://www.jonmsterling.com/jms-0085/" display-uri="jms-0085" type="local">Bike</fr:link> <fr:link href="/jms-008G/" title="The source code to a typical Bike outline" uri="https://www.jonmsterling.com/jms-008G/" display-uri="jms-008G" type="local">outline</fr:link> transformed to idiomatic HTML</fr:title><fr:taxon>Listing</fr:taxon></fr:frontmatter><fr:mainmatter><html:p>The following is the result of transforming an <fr:link href="/jms-008G/" title="The source code to a typical Bike outline" uri="https://www.jonmsterling.com/jms-008G/" display-uri="jms-008G" type="local">example <fr:link href="/jms-0085/" title="Bike Outliner: Structured focused writing" uri="https://www.jonmsterling.com/jms-0085/" display-uri="jms-0085" type="local">Bike</fr:link> outline</fr:link> to idiomatic HTML using an <fr:link href="/jms-0087/" title="An XSLT 2.0 transformer to convert Bike outlines to HTML" uri="https://www.jonmsterling.com/jms-0087/" display-uri="jms-0087" type="local">XSLT stylesheet</fr:link>.</html:p><html:pre><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml">
   <body>
      <h1>Tasks</h1>
      <ol>
         <li>read through paper on iPad and highlight</li>
      </ol>
      <h1>Syntax and semantics of foo bar baz</h1>
      <p>
         <mark>Overall merit:</mark>
      </p>
      <p>
         <mark>Reviewer Expertise:</mark>
      </p>
      <h2>Summary of the paper</h2>
      <p>
         <em>Please give a brief summary of the paper</em>
      </p>
      <p>This paper describes the syntax and semantics of foo, bar, and baz.</p>
      <h2>Assessment of the paper</h2>
      <p>
         <em>Please give a balanced assessment of the paper's strengths and weaknesses and a clear justification for your review score.</em>
      </p>
      <h2>Detailed comments for authors</h2>
      <p>
         <em>Please give here any additional detailed comments or questions that you would like the authors to address in revising the paper.</em>
      </p>
      <h3>Minor comments</h3>
      <ul>
         <li>line 23: "teh" =&gt; "the"</li>
         <li>line 99: "fou" =&gt; "foo"</li>
      </ul>
      <h2>Questions to be addressed by author response</h2>
      <p>
         <em>Please list here any specific questions you would like the authors to address in their author response. Since authors have limited time in which to prepare their response, please only ask questions here that are likely to affect your accept/reject decision.</em>
      </p>
      <h2>Comments for PC and other reviewers</h2>
      <p>
         <em>Please list here any additional comments you have which you want the PC and other reviewers to see, but not the authors.</em>
      </p>
      <p>In case any one is wondering, I am an expert in foo, but not in bar nor baz.</p>
   </body>
</html>]]></html:pre></fr:mainmatter></fr:tree><html:p>Next, we will process this HTML file using <fr:link href="/jms-008D/" title="Pandoc: a universal document convertor" uri="https://www.jonmsterling.com/jms-008D/" display-uri="jms-008D" type="local">Pandoc</fr:link>; unfortunately, <fr:link href="/jms-008D/" title="Pandoc: a universal document convertor" uri="https://www.jonmsterling.com/jms-008D/" display-uri="jms-008D" type="local">Pandoc</fr:link> leaves behind a lot of garbage character escapes that are <html:em>not</html:em> suitable for submission anywhere, so we must filter those out using <html:code>sed</html:code>.</html:p><html:pre><![CDATA[cat review.html | pandoc -f html -t markdown-raw_html-native_divs-native_spans-fenced_divs-bracketed_spans-smart | sed 's/\\//g']]></html:pre><fr:tree show-metadata="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2023</fr:year><fr:month>8</fr:month><fr:day>31</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-008H/</fr:uri><fr:display-uri>jms-008H</fr:display-uri><fr:route>/jms-008H/</fr:route><fr:title text="A Bike outline transformed to Markdown">A <fr:link href="/jms-0085/" title="Bike Outliner: Structured focused writing" uri="https://www.jonmsterling.com/jms-0085/" display-uri="jms-0085" type="local">Bike</fr:link> <fr:link href="/jms-008G/" title="The source code to a typical Bike outline" uri="https://www.jonmsterling.com/jms-008G/" display-uri="jms-008G" type="local">outline</fr:link> transformed to Markdown</fr:title><fr:taxon>Listing</fr:taxon></fr:frontmatter><fr:mainmatter><html:p>The following is the result of converting the <fr:link href="/jms-008F/" title="A Bike outline transformed to idiomatic HTML" uri="https://www.jonmsterling.com/jms-008F/" display-uri="jms-008F" type="local">idiomatic HTML representation</fr:link> of a <fr:link href="/jms-0085/" title="Bike Outliner: Structured focused writing" uri="https://www.jonmsterling.com/jms-0085/" display-uri="jms-0085" type="local">Bike</fr:link> <fr:link href="/jms-008G/" title="The source code to a typical Bike outline" uri="https://www.jonmsterling.com/jms-008G/" display-uri="jms-008G" type="local">outline</fr:link> to Markdown using <fr:link href="/jms-008D/" title="Pandoc: a universal document convertor" uri="https://www.jonmsterling.com/jms-008D/" display-uri="jms-008D" type="local">Pandoc</fr:link>, with some light postprocessing by <html:code>sed</html:code>.</html:p><html:pre><![CDATA[# Tasks

1.  read through paper on iPad and highlight

# Syntax and semantics of foo bar baz

Overall merit:

Reviewer Expertise:

## Summary of the paper

*Please give a brief summary of the paper*

This paper describes the syntax and semantics of foo, bar, and baz.

## Assessment of the paper

*Please give a balanced assessment of the paper's strengths and
weaknesses and a clear justification for your review score.*

## Detailed comments for authors

*Please give here any additional detailed comments or questions that you
would like the authors to address in revising the paper.*

### Minor comments

-   line 23: "teh" => "the"
-   line 99: "fou" => "foo"

## Questions to be addressed by author response

*Please list here any specific questions you would like the authors to
address in their author response. Since authors have limited time in
which to prepare their response, please only ask questions here that are
likely to affect your accept/reject decision.*

## Comments for PC and other reviewers

*Please list here any additional comments you have which you want the PC
and other reviewers to see, but not the authors.*

In case any one is wondering, I am an expert in foo, but not in bar nor
baz.]]></html:pre></fr:mainmatter></fr:tree><html:p>We can compose all these tasks into a one-liner as follows:</html:p><html:pre><![CDATA[cat review.bike | saxon -xsl:bike-to-html.xsl - | pandoc -f html -t markdown-raw_html-native_divs-native_spans-fenced_divs-bracketed_spans-smart | sed 's/\\//g']]></html:pre></fr:mainmatter></fr:tree><fr:tree show-metadata="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2023</fr:year><fr:month>8</fr:month><fr:day>31</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-008I/</fr:uri><fr:display-uri>jms-008I</fr:display-uri><fr:route>/jms-008I/</fr:route><fr:title text="A convenient Bike-to-Markdown script">A convenient <fr:link href="/jms-0085/" title="Bike Outliner: Structured focused writing" uri="https://www.jonmsterling.com/jms-0085/" display-uri="jms-0085" type="local">Bike</fr:link>-to-Markdown script</fr:title><fr:meta name="external">https://git.sr.ht/~jonsterling/bike-convertors</fr:meta></fr:frontmatter><fr:mainmatter><html:p>I have gathered the scripts to convert <fr:link href="/jms-0085/" title="Bike Outliner: Structured focused writing" uri="https://www.jonmsterling.com/jms-0085/" display-uri="jms-0085" type="local">Bike</fr:link> outlines into Markdown via idiomatic HTML in a <fr:link href="https://git.sr.ht/~jonsterling/bike-convertors" type="external">Git repository</fr:link> where they can be easily downloaded. If you have any improvements to these scripts, please <fr:link href="https://git-send-email.io/" type="external">submit them as a patch</fr:link> to my <fr:link href="https://lists.sr.ht/~jonsterling/public-inbox" type="external">public inbox</fr:link>! I am also interested in whether it is possible to write the <fr:link href="/jms-0087/" title="An XSLT 2.0 transformer to convert Bike outlines to HTML" uri="https://www.jonmsterling.com/jms-0087/" display-uri="jms-0087" type="local">XSLT 2.0 stylesheet</fr:link> as equivalent XSLT 1.0, to avoid <fr:link href="/jms-008E/" title="System requirements to convert Bike outlines to Markdown" uri="https://www.jonmsterling.com/jms-008E/" display-uri="jms-008E" type="local">requiring</fr:link> the proprietary <fr:link href="https://saxonica.com/welcome/welcome.xml" type="external">Saxon</fr:link> tool. Feel free also to send comments on this post to my public inbox, or discuss with me on <fr:link href="https://mathstodon.xyz/@jonmsterling" type="external">Mastodon</fr:link>.</html:p></fr:mainmatter></fr:tree>
  
  <html:hr />

  
  
    
    <fr:tree show-metadata="false" numbered="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:uri>https://www.jonmsterling.com/jms-0088/</fr:uri><fr:display-uri>jms-0088</fr:display-uri><fr:route>/jms-0088/</fr:route><fr:title text="Crowdfunding and sponsorship">Crowdfunding and sponsorship</fr:title><fr:taxon>☕</fr:taxon></fr:frontmatter><fr:mainmatter><html:p>Apart from my day-job at the <fr:link href="/ucam/" title="University of Cambridge" uri="https://www.jonmsterling.com/ucam/" display-uri="ucam" type="local">University of Cambridge</fr:link>, I am independently researching <fr:link href="https://www.forester-notes.org/tfmt-0001/" title="Designing tools for scientific thought" uri="https://www.forester-notes.org/tfmt-0001/" display-uri="https://www.forester-notes.org/tfmt-0001/" type="local">tools for scientific thought</fr:link> and developing software like <fr:link href="https://www.forester-notes.org/index/" title="Forester" uri="https://www.forester-notes.org/index/" display-uri="https://www.forester-notes.org/index/" type="local">Forester</fr:link> that you can use to unlock your brain. <html:mark>If you have benefited from this work or the writings on my <fr:link href="/jms-007W/" title="Jon Sterling › Blog" uri="https://www.jonmsterling.com/jms-007W/" display-uri="jms-007W" type="local">blog</fr:link>, please considering supporting me with a <fr:link href="https://ko-fi.com/jonmsterling" type="external">sponsorship on Ko-fi</fr:link>.</html:mark></html:p></fr:mainmatter></fr:tree>
  

</fr:mainmatter></fr:tree><fr:tree show-metadata="true" expanded="false" toc="false" numbered="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2023</fr:year><fr:month>8</fr:month><fr:day>18</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-007T/</fr:uri><fr:display-uri>jms-007T</fr:display-uri><fr:route>/jms-007T/</fr:route><fr:title text="A synthetic proof of HTT 7.2.1.14">A synthetic proof of HTT 7.2.1.14</fr:title></fr:frontmatter><fr:mainmatter><html:p><fr:link href="/lurie-htt/" title="Higher topos theory" uri="https://www.jonmsterling.com/lurie-htt/" display-uri="lurie-htt" type="local">Lurie</fr:link> states the following result as Proposition 7.2.1.14 of <fr:link href="/lurie-htt/" title="Higher topos theory" uri="https://www.jonmsterling.com/lurie-htt/" display-uri="lurie-htt" type="local">Higher Topos Theory</fr:link>:</html:p><html:blockquote>Let <fr:tex display="inline"><![CDATA[\mathcal {X}]]></fr:tex> be an ∞-topos and let <fr:tex display="inline"><![CDATA[{\mathcal {X}}\xrightarrow {{\tau _{\leq  0}}}{\tau _{\leq  0}\mathcal {X}}]]></fr:tex> be the left adjoint to the inclusion. A morphism <fr:tex display="inline"><![CDATA[{U}\xrightarrow {{\phi }}{X}]]></fr:tex> in <fr:tex display="inline"><![CDATA[\mathcal {X}]]></fr:tex> is an effective epimorphism if and only if in <fr:tex display="inline"><![CDATA[\tau _{\leq  0}{\mathopen {}\left (\phi \right )\mathclose {}}]]></fr:tex> is an effective epimorphism in the ordinary topos <fr:tex display="inline"><![CDATA[\mathrm {h}{\mathopen {}\left (\tau _{\leq 0}\mathcal {X}\right )\mathclose {}}]]></fr:tex>.</html:blockquote><html:p><fr:link href="https://mathoverflow.net/questions/452920/effective-epimorphisms-and-0-truncations-htt-7-2-1-14" type="external">Several users of MathOverflow have noticed</fr:link> that the proof of this result given by <fr:link href="/lurie-htt/" title="Higher topos theory" uri="https://www.jonmsterling.com/lurie-htt/" display-uri="lurie-htt" type="local">Lurie</fr:link> is circular. The result is true and can be recovered in a variety of ways, as pointed out in the <fr:link href="https://mathoverflow.net/questions/452920/effective-epimorphisms-and-0-truncations-htt-7-2-1-14" type="external">MathOverflow discussion</fr:link>. For expository purposes, I would like to show how to prove this result directly in univalent foundations using standard results about <fr:tex display="inline"><![CDATA[n]]></fr:tex>-truncations from the <fr:link href="/hottbook/" title="Homotopy Type Theory: univalent foundations of mathematics" uri="https://www.jonmsterling.com/hottbook/" display-uri="hottbook" type="local">HoTT Book</fr:link>.</html:p><html:p>First we observe a trivial lemma about truncations.</html:p><fr:tree show-metadata="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2023</fr:year><fr:month>8</fr:month><fr:day>18</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-007U/</fr:uri><fr:display-uri>jms-007U</fr:display-uri><fr:route>/jms-007U/</fr:route><fr:title text="Propositions do not notice set truncation of indices">Propositions do not notice set truncation of indices</fr:title><fr:taxon>Lemma</fr:taxon></fr:frontmatter><fr:mainmatter><html:p>Any proposition is orthogonal to the map <fr:tex display="inline"><![CDATA[\mathchoice {\textstyle \sum _{{\mathopen {}\left (x:A\right )\mathclose {}}}}{\textstyle \sum _{{\mathopen {}\left (x:A\right )\mathclose {}}}}{\scriptstyle \sum _{{\mathopen {}\left (x:A\right )\mathclose {}}}}{\scriptscriptstyle \sum _{{\mathopen {}\left (x:A\right )\mathclose {}}}}B\left \lvert x\right \rvert _{0}\to  \mathchoice {\textstyle \sum _{{\mathopen {}\left (x:\left \lVert A\right \rVert _{0}\right )\mathclose {}}}}{\textstyle \sum _{{\mathopen {}\left (x:\left \lVert A\right \rVert _{0}\right )\mathclose {}}}}{\scriptstyle \sum _{{\mathopen {}\left (x:\left \lVert A\right \rVert _{0}\right )\mathclose {}}}}{\scriptscriptstyle \sum _{{\mathopen {}\left (x:\left \lVert A\right \rVert _{0}\right )\mathclose {}}}}Bx]]></fr:tex> sending <fr:tex display="inline"><![CDATA[{\mathopen {}\left (x,y\right )\mathclose {}}]]></fr:tex> to <fr:tex display="inline"><![CDATA[{\mathopen {}\left (\left \lvert x\right \rvert _{0},y\right )\mathclose {}}]]></fr:tex>.</html:p>
 
   
   <fr:tree show-metadata="false" toc="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2023</fr:year><fr:month>8</fr:month><fr:day>18</fr:day></fr:date><fr:taxon>Proof</fr:taxon></fr:frontmatter><fr:mainmatter>
  <html:p>This follows from the dependent induction principle of set-truncation, as any proposition is a set.</html:p>
</fr:mainmatter></fr:tree>
 
</fr:mainmatter></fr:tree><html:p>It follows from <fr:link href="/jms-007U/" title="Propositions do not notice set truncation of indices" uri="https://www.jonmsterling.com/jms-007U/" display-uri="jms-007U" type="local">Lemma <fr:contextual-number uri="https://www.jonmsterling.com/jms-007U/" display-uri="jms-007U" /></fr:link> that <fr:tex display="inline"><![CDATA[\left \lVert \mathchoice {\textstyle \sum _{{\mathopen {}\left (x:A\right )\mathclose {}}}}{\textstyle \sum _{{\mathopen {}\left (x:A\right )\mathclose {}}}}{\scriptstyle \sum _{{\mathopen {}\left (x:A\right )\mathclose {}}}}{\scriptscriptstyle \sum _{{\mathopen {}\left (x:A\right )\mathclose {}}}}B\left \lvert x\right \rvert _{0}\right \rVert _{-1}]]></fr:tex> is equivalent to <fr:tex display="inline"><![CDATA[\left \lVert \mathchoice {\textstyle \sum _{{\mathopen {}\left (x:\left \lVert A\right \rVert _{0}\right )\mathclose {}}}}{\textstyle \sum _{{\mathopen {}\left (x:\left \lVert A\right \rVert _{0}\right )\mathclose {}}}}{\scriptstyle \sum _{{\mathopen {}\left (x:\left \lVert A\right \rVert _{0}\right )\mathclose {}}}}{\scriptscriptstyle \sum _{{\mathopen {}\left (x:\left \lVert A\right \rVert _{0}\right )\mathclose {}}}}Bx\right \rVert _{-1}]]></fr:tex>. This is enough to deduce the main result.</html:p><fr:tree show-metadata="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2023</fr:year><fr:month>8</fr:month><fr:day>18</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-007V/</fr:uri><fr:display-uri>jms-007V</fr:display-uri><fr:route>/jms-007V/</fr:route><fr:title text="Set-truncation preserves and reflects surjections">Set-truncation preserves and reflects surjections</fr:title><fr:taxon>Theorem</fr:taxon></fr:frontmatter><fr:mainmatter><html:p>A function <fr:tex display="inline"><![CDATA[f:A\to  B]]></fr:tex> is surjective (i.e. an effective epimorphism) if and only if its set-truncation <fr:tex display="inline"><![CDATA[\left \lVert f\right \rVert _{0}:\left \lVert A\right \rVert _{0}\to \left \lVert B\right \rVert _{0}]]></fr:tex> is surjective.</html:p>
 
   
   <fr:tree show-metadata="false" toc="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2023</fr:year><fr:month>8</fr:month><fr:day>18</fr:day></fr:date><fr:taxon>Proof</fr:taxon></fr:frontmatter><fr:mainmatter>
  <html:p>We deduce that <fr:tex display="inline"><![CDATA[\mathsf {isSurjective}\,\left \lvert f\right \rvert _{0}]]></fr:tex> is equivalent to <fr:tex display="inline"><![CDATA[\mathsf {isSurjective}\,f]]></fr:tex> as follows:</html:p>

  

  
  <html:table>
    
  <html:tr>
      
  <html:td><fr:tex display="inline"><![CDATA[\mathsf {isSurjective}\,\left \lvert f\right \rvert _{0}]]></fr:tex></html:td>

      
  <html:td />

    </html:tr>

    
    
  <html:tr>
      
  <html:td><fr:tex display="inline"><![CDATA[
      \equiv  \mathchoice {\textstyle \prod _{{\mathopen {}\left (b:\left \lVert B\right \rVert _{0}\right )\mathclose {}}}}{\textstyle \prod _{{\mathopen {}\left (b:\left \lVert B\right \rVert _{0}\right )\mathclose {}}}}{\scriptstyle \prod _{{\mathopen {}\left (b:\left \lVert B\right \rVert _{0}\right )\mathclose {}}}}{\scriptscriptstyle \prod _{{\mathopen {}\left (b:\left \lVert B\right \rVert _{0}\right )\mathclose {}}}}\left \lVert \mathchoice {\textstyle \sum _{{\mathopen {}\left (a:\left \lVert A\right \rVert _{0}\right )\mathclose {}}}}{\textstyle \sum _{{\mathopen {}\left (a:\left \lVert A\right \rVert _{0}\right )\mathclose {}}}}{\scriptstyle \sum _{{\mathopen {}\left (a:\left \lVert A\right \rVert _{0}\right )\mathclose {}}}}{\scriptscriptstyle \sum _{{\mathopen {}\left (a:\left \lVert A\right \rVert _{0}\right )\mathclose {}}}}\left \lVert f\right \rVert _{0}a=b\right \rVert _{-1}
    ]]></fr:tex></html:td>

      
  <html:td>by definition</html:td>

    </html:tr>

  

    
    
  <html:tr>
      
  <html:td><fr:tex display="inline"><![CDATA[
      \simeq 
      \mathchoice {\textstyle \prod _{{\mathopen {}\left (b:B\right )\mathclose {}}}}{\textstyle \prod _{{\mathopen {}\left (b:B\right )\mathclose {}}}}{\scriptstyle \prod _{{\mathopen {}\left (b:B\right )\mathclose {}}}}{\scriptscriptstyle \prod _{{\mathopen {}\left (b:B\right )\mathclose {}}}}
      \left \lVert \mathchoice {\textstyle \sum _{{\mathopen {}\left (a:\left \lVert A\right \rVert _{0}\right )\mathclose {}}}}{\textstyle \sum _{{\mathopen {}\left (a:\left \lVert A\right \rVert _{0}\right )\mathclose {}}}}{\scriptstyle \sum _{{\mathopen {}\left (a:\left \lVert A\right \rVert _{0}\right )\mathclose {}}}}{\scriptscriptstyle \sum _{{\mathopen {}\left (a:\left \lVert A\right \rVert _{0}\right )\mathclose {}}}}\left \lVert f\right \rVert _{0}a=\left \lvert b\right \rvert _{0}\right \rVert _{-1}
    ]]></fr:tex></html:td>

      
  <html:td>by induction</html:td>

    </html:tr>

  

    
    
  <html:tr>
      
  <html:td><fr:tex display="inline"><![CDATA[
      \simeq 
      \mathchoice {\textstyle \prod _{{\mathopen {}\left (b:B\right )\mathclose {}}}}{\textstyle \prod _{{\mathopen {}\left (b:B\right )\mathclose {}}}}{\scriptstyle \prod _{{\mathopen {}\left (b:B\right )\mathclose {}}}}{\scriptscriptstyle \prod _{{\mathopen {}\left (b:B\right )\mathclose {}}}}
      \left \lVert \mathchoice {\textstyle \sum _{{\mathopen {}\left (a:A\right )\mathclose {}}}}{\textstyle \sum _{{\mathopen {}\left (a:A\right )\mathclose {}}}}{\scriptstyle \sum _{{\mathopen {}\left (a:A\right )\mathclose {}}}}{\scriptscriptstyle \sum _{{\mathopen {}\left (a:A\right )\mathclose {}}}}\left \lvert fa\right \rvert _{0}=\left \lvert b\right \rvert _{0}\right \rVert _{-1}
    ]]></fr:tex></html:td>

      
  <html:td>by <fr:link href="/jms-007U/" title="Propositions do not notice set truncation of indices" uri="https://www.jonmsterling.com/jms-007U/" display-uri="jms-007U" type="local">Lemma</fr:link></html:td>

    </html:tr>

  

    
    
  <html:tr>
      
  <html:td><fr:tex display="inline"><![CDATA[
      \simeq 
      \mathchoice {\textstyle \prod _{{\mathopen {}\left (b:B\right )\mathclose {}}}}{\textstyle \prod _{{\mathopen {}\left (b:B\right )\mathclose {}}}}{\scriptstyle \prod _{{\mathopen {}\left (b:B\right )\mathclose {}}}}{\scriptscriptstyle \prod _{{\mathopen {}\left (b:B\right )\mathclose {}}}}
      \left \lVert \mathchoice {\textstyle \sum _{{\mathopen {}\left (a:A\right )\mathclose {}}}}{\textstyle \sum _{{\mathopen {}\left (a:A\right )\mathclose {}}}}{\scriptstyle \sum _{{\mathopen {}\left (a:A\right )\mathclose {}}}}{\scriptscriptstyle \sum _{{\mathopen {}\left (a:A\right )\mathclose {}}}}\left \lVert fa=b\right \rVert _{-1}\right \rVert _{-1}
    ]]></fr:tex></html:td>

      
  <html:td>
      by <fr:link href="/hottbook/" title="Homotopy Type Theory: univalent foundations of mathematics" uri="https://www.jonmsterling.com/hottbook/" display-uri="hottbook" type="local">HoTT Book, Theorem 7.3.12</fr:link>
    </html:td>

    </html:tr>

  

    
    
  <html:tr>
      
  <html:td><fr:tex display="inline"><![CDATA[
      \simeq 
      \mathchoice {\textstyle \prod _{{\mathopen {}\left (b:B\right )\mathclose {}}}}{\textstyle \prod _{{\mathopen {}\left (b:B\right )\mathclose {}}}}{\scriptstyle \prod _{{\mathopen {}\left (b:B\right )\mathclose {}}}}{\scriptscriptstyle \prod _{{\mathopen {}\left (b:B\right )\mathclose {}}}}
      \left \lVert \mathchoice {\textstyle \sum _{{\mathopen {}\left (a:A\right )\mathclose {}}}}{\textstyle \sum _{{\mathopen {}\left (a:A\right )\mathclose {}}}}{\scriptstyle \sum _{{\mathopen {}\left (a:A\right )\mathclose {}}}}{\scriptscriptstyle \sum _{{\mathopen {}\left (a:A\right )\mathclose {}}}}fa=b\right \rVert _{-1}
    ]]></fr:tex></html:td>

      
  <html:td>by <fr:link href="/hottbook/" title="Homotopy Type Theory: univalent foundations of mathematics" uri="https://www.jonmsterling.com/hottbook/" display-uri="hottbook" type="local">HoTT Book, Theorem 7.3.9</fr:link></html:td>

    </html:tr>

  

    
    
  <html:tr>
      
  <html:td><fr:tex display="inline"><![CDATA[
      \equiv 
      \mathsf {isSurjective}\,f
    ]]></fr:tex></html:td>

      
  <html:td>by definition</html:td>

    </html:tr>

  
  </html:table>


  <html:p>Incidentally, the appeal to <fr:link href="/hottbook/" title="Homotopy Type Theory: univalent foundations of mathematics" uri="https://www.jonmsterling.com/hottbook/" display-uri="hottbook" type="local">Theorem 7.3.12 of the HoTT Book</fr:link> can be replaced by the more general <fr:link href="/christensen-opie-rijke-scoccola-2020/" title="Localization in homotopy type theory" uri="https://www.jonmsterling.com/christensen-opie-rijke-scoccola-2020/" display-uri="christensen-opie-rijke-scoccola-2020" type="local">Proposition 2.26 of Christensen et al.</fr:link>, which applies to an arbitrary reflective subuniverse and the corresponding subuniverse of separated types.</html:p>

</fr:mainmatter></fr:tree>
 
</fr:mainmatter></fr:tree></fr:mainmatter></fr:tree></fr:mainmatter></fr:tree><fr:tree show-metadata="false" expanded="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:uri>https://www.jonmsterling.com/jms-007Z/</fr:uri><fr:display-uri>jms-007Z</fr:display-uri><fr:route>/jms-007Z/</fr:route><fr:title text="Teaching">Teaching</fr:title></fr:frontmatter><fr:mainmatter><html:ol><html:li><fr:link href="/jms-00XY/" title="IA Discrete Mathematics" uri="https://www.jonmsterling.com/jms-00XY/" display-uri="jms-00XY" type="local">IA Discrete Mathematics</fr:link></html:li>
 <html:li><fr:link href="/jms-0080/" title="Category Theory (Fall 2022)" uri="https://www.jonmsterling.com/jms-0080/" display-uri="jms-0080" type="local">Category Theory (Fall 2022)</fr:link></html:li></html:ol></fr:mainmatter></fr:tree><fr:tree show-metadata="false" expanded="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2024</fr:year><fr:month>1</fr:month><fr:day>29</fr:day></fr:date><fr:uri>https://www.jonmsterling.com/jms-00M4/</fr:uri><fr:display-uri>jms-00M4</fr:display-uri><fr:route>/jms-00M4/</fr:route><fr:title text="Consulting">Consulting</fr:title></fr:frontmatter><fr:mainmatter><html:p>I offer a variety of paid consulting services, ranging from language design to proof+software engineering to private tutoring; please <fr:link href="mailto:js2878@cl.cam.ac.uk" type="external">contact me</fr:link> for a consultation.</html:p></fr:mainmatter></fr:tree></fr:mainmatter>
        </fr:tree>
      </fr:mainmatter>
    </fr:tree>
    <fr:tree show-metadata="false" hidden-when-empty="true">
      <fr:frontmatter>
        <fr:authors />
        <fr:title text="Backlinks">Backlinks</fr:title>
      </fr:frontmatter>
      <fr:mainmatter />
    </fr:tree>
    <fr:tree show-metadata="false" hidden-when-empty="true">
      <fr:frontmatter>
        <fr:authors />
        <fr:title text="Related">Related</fr:title>
      </fr:frontmatter>
      <fr:mainmatter>
        <fr:tree show-metadata="true" expanded="false" toc="false" numbered="false">
          <fr:frontmatter>
            <fr:authors>
              <fr:author>
                <fr:link href="https://www.forester-notes.org/jonmsterling/" title="Jon Sterling" uri="https://www.forester-notes.org/jonmsterling/" display-uri="https://www.forester-notes.org/jonmsterling/" type="local">Jon Sterling</fr:link>
              </fr:author>
            </fr:authors>
            <fr:date>
              <fr:year>2023</fr:year>
              <fr:month>3</fr:month>
              <fr:day>4</fr:day>
            </fr:date>
            <fr:uri>https://www.forester-notes.org/tfmt-000V/</fr:uri>
            <fr:display-uri>https://www.forester-notes.org/tfmt-000V/</fr:display-uri>
            <fr:route>https://www.forester-notes.org/tfmt-000V/</fr:route>
            <fr:title text="Forests of evergreen notes">Forests of evergreen notes</fr:title>
          </fr:frontmatter>
          <fr:mainmatter>
            <fr:tree show-metadata="false">
              <fr:frontmatter>
                <fr:authors>
                  <fr:author>
                    <fr:link href="https://www.forester-notes.org/jonmsterling/" title="Jon Sterling" uri="https://www.forester-notes.org/jonmsterling/" display-uri="https://www.forester-notes.org/jonmsterling/" type="local">Jon Sterling</fr:link>
                  </fr:author>
                </fr:authors>
                <fr:date>
                  <fr:year>2023</fr:year>
                  <fr:month>3</fr:month>
                  <fr:day>4</fr:day>
                </fr:date>
                <fr:uri>https://www.forester-notes.org/tfmt-000R/</fr:uri>
                <fr:display-uri>https://www.forester-notes.org/tfmt-000R/</fr:display-uri>
                <fr:route>https://www.forester-notes.org/tfmt-000R/</fr:route>
                <fr:title text="Forests and trees of evergreen notes">Forests and trees of evergreen notes</fr:title>
                <fr:taxon>Definition</fr:taxon>
              </fr:frontmatter>
              <fr:mainmatter>
                <html:p>A <html:em>forest of <fr:link href="https://www.forester-notes.org/tfmt-0003/" title="Evergreen notes" uri="https://www.forester-notes.org/tfmt-0003/" display-uri="https://www.forester-notes.org/tfmt-0003/" type="local">evergreen notes</fr:link></html:em> (or a <html:em>forest</html:em> for short) is loosely defined to be a collection of <fr:link href="https://www.forester-notes.org/tfmt-0003/" title="Evergreen notes" uri="https://www.forester-notes.org/tfmt-0003/" display-uri="https://www.forester-notes.org/tfmt-0003/" type="local">evergreen notes</fr:link> in which multiple <fr:link href="https://www.forester-notes.org/tfmt-0005/" title="Hierarchy in evergreen notes" uri="https://www.forester-notes.org/tfmt-0005/" display-uri="https://www.forester-notes.org/tfmt-0005/" type="local">hierarchical structures</fr:link> are allowed to emerge and evolve over time. Concretely, one note may contextualize several other notes via transclusion within its textual structure; in the context of a forest, we refer to an individual note as a <html:em>tree</html:em>. Of course, a tree can be viewed as a forest that has a root node.</html:p>
              </fr:mainmatter>
            </fr:tree>
            <fr:tree show-metadata="false">
              <fr:frontmatter>
                <fr:authors>
                  <fr:author>
                    <fr:link href="https://www.forester-notes.org/jonmsterling/" title="Jon Sterling" uri="https://www.forester-notes.org/jonmsterling/" display-uri="https://www.forester-notes.org/jonmsterling/" type="local">Jon Sterling</fr:link>
                  </fr:author>
                </fr:authors>
                <fr:date>
                  <fr:year>2023</fr:year>
                  <fr:month>3</fr:month>
                  <fr:day>4</fr:day>
                </fr:date>
                <fr:uri>https://www.forester-notes.org/tfmt-000U/</fr:uri>
                <fr:display-uri>https://www.forester-notes.org/tfmt-000U/</fr:display-uri>
                <fr:route>https://www.forester-notes.org/tfmt-000U/</fr:route>
                <fr:title text="The extent of a tree in a forest">The extent of a tree in a forest</fr:title>
                <fr:taxon>Definition</fr:taxon>
              </fr:frontmatter>
              <fr:mainmatter>
                <html:p>The <html:em>extent</html:em> of a <fr:link href="https://www.forester-notes.org/tfmt-000R/" title="Forests and trees of evergreen notes" uri="https://www.forester-notes.org/tfmt-000R/" display-uri="https://www.forester-notes.org/tfmt-000R/" type="local">tree within a forest</fr:link> is the smallest set of trees closed under the following rules:</html:p>
                <html:ol><html:li><fr:tex display="inline"><![CDATA[T]]></fr:tex> lies within the extent of <fr:tex display="inline"><![CDATA[T]]></fr:tex>.</html:li>
  <html:li>If <fr:tex display="inline"><![CDATA[S]]></fr:tex> is transcluded by <fr:tex display="inline"><![CDATA[T]]></fr:tex>, then any tree in the extent of <fr:tex display="inline"><![CDATA[S]]></fr:tex> lies also in the extent of <fr:tex display="inline"><![CDATA[T]]></fr:tex>.</html:li></html:ol>
              </fr:mainmatter>
            </fr:tree>
            <fr:tree show-metadata="false">
              <fr:frontmatter>
                <fr:authors>
                  <fr:author>
                    <fr:link href="https://www.forester-notes.org/jonmsterling/" title="Jon Sterling" uri="https://www.forester-notes.org/jonmsterling/" display-uri="https://www.forester-notes.org/jonmsterling/" type="local">Jon Sterling</fr:link>
                  </fr:author>
                </fr:authors>
                <fr:date>
                  <fr:year>2023</fr:year>
                  <fr:month>3</fr:month>
                  <fr:day>4</fr:day>
                </fr:date>
                <fr:uri>https://www.forester-notes.org/tfmt-000Q/</fr:uri>
                <fr:display-uri>https://www.forester-notes.org/tfmt-000Q/</fr:display-uri>
                <fr:route>https://www.forester-notes.org/tfmt-000Q/</fr:route>
                <fr:title text="Authorship and responsibility in forests">Authorship and responsibility in forests</fr:title>
              </fr:frontmatter>
              <fr:mainmatter>
                <html:p>A <fr:link href="https://www.forester-notes.org/tfmt-000R/" title="Forests and trees of evergreen notes" uri="https://www.forester-notes.org/tfmt-000R/" display-uri="https://www.forester-notes.org/tfmt-000R/" type="local">forest of evergreen notes</fr:link> may in general contain the work of many authors who have contributed in different ways. However, the correct attribution of authorship to a given tree is more subtle than one might at first think.</html:p>
                <html:p>To understand this subtlety, we first consider that each individual tree may contain <html:em>both</html:em> textual content and transcluded subtrees. Thinking inductively, a simple model of tree authorship would be to take the union of the authors of the immediate textual content and the authors of all trees within its <fr:link href="https://www.forester-notes.org/tfmt-000U/" title="The extent of a tree in a forest" uri="https://www.forester-notes.org/tfmt-000U/" display-uri="https://www.forester-notes.org/tfmt-000U/" type="local">extent</fr:link>. This model is incorrect, however, as authorship is usually taken to imply responsibility and endorsement, as can be seen by way of example from the <fr:link href="https://www.acm.org/publications/policies/roles-and-responsibilities" type="external">ACM Policy on Authorship, Peer Review, Readership, and Conference Publication</fr:link>:</html:p>
                <html:blockquote>
                  <html:p>They agree to be held accountable for any issues relating to the correctness or integrity of the work with the understanding that depending on the circumstances not all authors are necessarily held “equally” accountable. In the case of publications-related misconduct, it may be the case that penalties may vary for co-authors listed on a single publication.</html:p>
                </html:blockquote>
                <html:p>In particular, although one person may be aware of and responsible for the content of a given tree, it would be unreasonable to require them to be responsible for any subsequent (and potentially erroneous!) re-contextualization of that tree in the forest. For this reason, <html:strong><fr:link href="https://www.forester-notes.org/tfmt-000S/" title="Author of a tree" uri="https://www.forester-notes.org/tfmt-000S/" display-uri="https://www.forester-notes.org/tfmt-000S/" type="local">authors</fr:link> must be distinguished from <fr:link href="https://www.forester-notes.org/tfmt-000T/" title="Contributor to a tree" uri="https://www.forester-notes.org/tfmt-000T/" display-uri="https://www.forester-notes.org/tfmt-000T/" type="local">contributors</fr:link></html:strong> in <fr:link href="https://www.forester-notes.org/tfmt-000R/" title="Forests and trees of evergreen notes" uri="https://www.forester-notes.org/tfmt-000R/" display-uri="https://www.forester-notes.org/tfmt-000R/" type="local">forests of evergreen notes</fr:link>.</html:p>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors>
                      <fr:author>
                        <fr:link href="https://www.forester-notes.org/jonmsterling/" title="Jon Sterling" uri="https://www.forester-notes.org/jonmsterling/" display-uri="https://www.forester-notes.org/jonmsterling/" type="local">Jon Sterling</fr:link>
                      </fr:author>
                    </fr:authors>
                    <fr:date>
                      <fr:year>2023</fr:year>
                      <fr:month>3</fr:month>
                      <fr:day>4</fr:day>
                    </fr:date>
                    <fr:uri>https://www.forester-notes.org/tfmt-000S/</fr:uri>
                    <fr:display-uri>https://www.forester-notes.org/tfmt-000S/</fr:display-uri>
                    <fr:route>https://www.forester-notes.org/tfmt-000S/</fr:route>
                    <fr:title text="Author of a tree">Author of a tree</fr:title>
                    <fr:taxon>Definition</fr:taxon>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>An <html:em>author</html:em> of a <fr:link href="https://www.forester-notes.org/tfmt-000R/" title="Forests and trees of evergreen notes" uri="https://www.forester-notes.org/tfmt-000R/" display-uri="https://www.forester-notes.org/tfmt-000R/" type="local">tree within a forest</fr:link> is someone who satisfies the following conditions:</html:p>
                    <html:ol><html:li>They contributed intellectually to the immediate textual content of the tree, i.e. the non-transcluded content.</html:li>
  <html:li>They can be held responsible for all the content within the tree, i.e. both the immediate textual content as well as the content of all the subtrees.</html:li></html:ol>
                  </fr:mainmatter>
                </fr:tree>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors>
                      <fr:author>
                        <fr:link href="https://www.forester-notes.org/jonmsterling/" title="Jon Sterling" uri="https://www.forester-notes.org/jonmsterling/" display-uri="https://www.forester-notes.org/jonmsterling/" type="local">Jon Sterling</fr:link>
                      </fr:author>
                    </fr:authors>
                    <fr:date>
                      <fr:year>2023</fr:year>
                      <fr:month>3</fr:month>
                      <fr:day>4</fr:day>
                    </fr:date>
                    <fr:uri>https://www.forester-notes.org/tfmt-000T/</fr:uri>
                    <fr:display-uri>https://www.forester-notes.org/tfmt-000T/</fr:display-uri>
                    <fr:route>https://www.forester-notes.org/tfmt-000T/</fr:route>
                    <fr:title text="Contributor to a tree">Contributor to a tree</fr:title>
                    <fr:taxon>Definition</fr:taxon>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>A <html:em>direct contributor</html:em> to a <fr:link href="https://www.forester-notes.org/tfmt-000R/" title="Forests and trees of evergreen notes" uri="https://www.forester-notes.org/tfmt-000R/" display-uri="https://www.forester-notes.org/tfmt-000R/" type="local">tree within a forest</fr:link> is either an <fr:link href="https://www.forester-notes.org/tfmt-000S/" title="Author of a tree" uri="https://www.forester-notes.org/tfmt-000S/" display-uri="https://www.forester-notes.org/tfmt-000S/" type="local">author</fr:link> of the tree, or has contributed intellectually to the immediate content of the tree but cannot be held responsible for it.</html:p>
                    <html:p>A <html:em>contributor</html:em> to a tree is someone who is a direct contributor to at least one tree lying within its <fr:link href="https://www.forester-notes.org/tfmt-000U/" title="The extent of a tree in a forest" uri="https://www.forester-notes.org/tfmt-000U/" display-uri="https://www.forester-notes.org/tfmt-000U/" type="local">extent</fr:link>.</html:p>
                  </fr:mainmatter>
                </fr:tree>
              </fr:mainmatter>
            </fr:tree>
          </fr:mainmatter>
        </fr:tree>
        <fr:tree show-metadata="true" expanded="false" toc="false" numbered="false">
          <fr:frontmatter>
            <fr:authors>
              <fr:author>
                <fr:link href="https://www.forester-notes.org/jonmsterling/" title="Jon Sterling" uri="https://www.forester-notes.org/jonmsterling/" display-uri="https://www.forester-notes.org/jonmsterling/" type="local">Jon Sterling</fr:link>
              </fr:author>
            </fr:authors>
            <fr:date>
              <fr:year>2022</fr:year>
              <fr:month>12</fr:month>
              <fr:day>27</fr:day>
            </fr:date>
            <fr:uri>https://www.forester-notes.org/tfmt-0007/</fr:uri>
            <fr:display-uri>https://www.forester-notes.org/tfmt-0007/</fr:display-uri>
            <fr:route>https://www.forester-notes.org/tfmt-0007/</fr:route>
            <fr:title text="Atomicity of scientific notes">Atomicity of scientific notes</fr:title>
          </fr:frontmatter>
          <fr:mainmatter>
            <html:p>One of the design principles for <fr:link href="https://www.forester-notes.org/tfmt-0003/" title="Evergreen notes" uri="https://www.forester-notes.org/tfmt-0003/" display-uri="https://www.forester-notes.org/tfmt-0003/" type="local">evergreen notes</fr:link> described by <fr:link href="https://www.forester-notes.org/andymatuschak/" title="Andy Matuschak" uri="https://www.forester-notes.org/andymatuschak/" display-uri="https://www.forester-notes.org/andymatuschak/" type="local">Matuschak</fr:link> is atomicity (<fr:link href="https://notes.andymatuschak.org/Evergreen_notes" type="external">Evergreen notes should be atomic</fr:link>): a note should capture just one thing, and if possible, <html:em>all</html:em> of that thing. A related point is that it should be possible to understand a note by (1) reading it, and (2) traversing the notes that it links to and recursively understanding those notes.</html:p>
            <html:p>Traditional mathematical writing does <html:em>not</html:em> achieve this kind of atomicity: understanding the meaning of a particular node (e.g. a theorem or definition) usually requires understanding everything that came (textually) before it. In the context of the <fr:link href="https://www.forester-notes.org/tfmt-0005/" title="Hierarchy in evergreen notes" uri="https://www.forester-notes.org/tfmt-0005/" display-uri="https://www.forester-notes.org/tfmt-0005/" type="local">hierarchical organization of evergreen notes</fr:link>, this would translate to needing to go <html:em>upward</html:em> in the hierarchy in order to understand the meaning of a leaf node. I regard this property of traditional notes as a defect: <html:strong>we should prefer explicit context over implicit context</html:strong>.</html:p>
            <html:p>High-quality scientific notes should make sense with minimal context; hierarchical context is imposed in order to tell a story, but consumers of scientific notes should not be forced into a particular narrative. Indeed, as many different hierarchical structures can be imposed, many different narratives can be explored.</html:p>
            <html:p>My first exploration of hypertext science was the <fr:link href="https://www.jonmsterling.com/frct-003I.xml" type="external">lecture notes on relative category theory</fr:link>; in hindsight, these lecture notes are very much traditional lecture notes, not written with the atomicity principle in mind. As a result, it is often difficult to understand a given node without ascending upward in the hierarchy.</html:p>
          </fr:mainmatter>
        </fr:tree>
        <fr:tree show-metadata="true" expanded="false" toc="false" numbered="false">
          <fr:frontmatter>
            <fr:authors>
              <fr:author>
                <fr:link href="https://www.forester-notes.org/jonmsterling/" title="Jon Sterling" uri="https://www.forester-notes.org/jonmsterling/" display-uri="https://www.forester-notes.org/jonmsterling/" type="local">Jon Sterling</fr:link>
              </fr:author>
            </fr:authors>
            <fr:date>
              <fr:year>2022</fr:year>
              <fr:month>12</fr:month>
              <fr:day>26</fr:day>
            </fr:date>
            <fr:uri>https://www.forester-notes.org/tfmt-0002/</fr:uri>
            <fr:display-uri>https://www.forester-notes.org/tfmt-0002/</fr:display-uri>
            <fr:route>https://www.forester-notes.org/tfmt-0002/</fr:route>
            <fr:title text="Tool for scientific thought">Tool for scientific thought</fr:title>
            <fr:taxon>Definition</fr:taxon>
          </fr:frontmatter>
          <fr:mainmatter>
            <html:p>A “tool for scientific thought” could be many things, but it must be a tool for the <html:strong>development</html:strong> and <html:strong>interlinking</html:strong> of scientific ideas in a way that facilitates <html:strong>authoring</html:strong>, <html:strong>publishing</html:strong>, <html:strong>teaching</html:strong>, <html:strong>learning</html:strong>, and the maintenance of <html:strong><fr:link href="https://www.forester-notes.org/tfmt-0003/" title="Evergreen notes" uri="https://www.forester-notes.org/tfmt-0003/" display-uri="https://www.forester-notes.org/tfmt-0003/" type="local">evergreen notes</fr:link></html:strong>.</html:p>
            <html:p>A tool for scientific thought could be a piece of software, or it could be an organizing principle for physical notes on paper. In these notes, we will primarily explore the design of computerized tools for scientific thought.</html:p>
          </fr:mainmatter>
        </fr:tree>
        <fr:tree show-metadata="true" expanded="false" toc="false" numbered="false">
          <fr:frontmatter>
            <fr:authors>
              <fr:author>
                <fr:link href="https://www.forester-notes.org/jonmsterling/" title="Jon Sterling" uri="https://www.forester-notes.org/jonmsterling/" display-uri="https://www.forester-notes.org/jonmsterling/" type="local">Jon Sterling</fr:link>
              </fr:author>
            </fr:authors>
            <fr:date>
              <fr:year>2022</fr:year>
              <fr:month>12</fr:month>
              <fr:day>26</fr:day>
            </fr:date>
            <fr:uri>https://www.forester-notes.org/tfmt-0001/</fr:uri>
            <fr:display-uri>https://www.forester-notes.org/tfmt-0001/</fr:display-uri>
            <fr:route>https://www.forester-notes.org/tfmt-0001/</fr:route>
            <fr:title text="Designing tools for scientific thought">Designing tools for scientific thought</fr:title>
          </fr:frontmatter>
          <fr:mainmatter>
            <html:p>This document records what I have learned about the design of “tools for scientific thought” over the past couple years, with an emphasis on the mathematical sciences. One of my goals in writing this is to set out both the unique requirements of an information data model that is needed to record and facilitate scientific thought, as well as the technical requirements for tools that can be used for mathematics.</html:p>
            <fr:tree show-metadata="false">
              <fr:frontmatter>
                <fr:authors>
                  <fr:author>
                    <fr:link href="https://www.forester-notes.org/jonmsterling/" title="Jon Sterling" uri="https://www.forester-notes.org/jonmsterling/" display-uri="https://www.forester-notes.org/jonmsterling/" type="local">Jon Sterling</fr:link>
                  </fr:author>
                </fr:authors>
                <fr:date>
                  <fr:year>2022</fr:year>
                  <fr:month>12</fr:month>
                  <fr:day>26</fr:day>
                </fr:date>
                <fr:uri>https://www.forester-notes.org/tfmt-0002/</fr:uri>
                <fr:display-uri>https://www.forester-notes.org/tfmt-0002/</fr:display-uri>
                <fr:route>https://www.forester-notes.org/tfmt-0002/</fr:route>
                <fr:title text="Tool for scientific thought">Tool for scientific thought</fr:title>
                <fr:taxon>Definition</fr:taxon>
              </fr:frontmatter>
              <fr:mainmatter>
                <html:p>A “tool for scientific thought” could be many things, but it must be a tool for the <html:strong>development</html:strong> and <html:strong>interlinking</html:strong> of scientific ideas in a way that facilitates <html:strong>authoring</html:strong>, <html:strong>publishing</html:strong>, <html:strong>teaching</html:strong>, <html:strong>learning</html:strong>, and the maintenance of <html:strong><fr:link href="https://www.forester-notes.org/tfmt-0003/" title="Evergreen notes" uri="https://www.forester-notes.org/tfmt-0003/" display-uri="https://www.forester-notes.org/tfmt-0003/" type="local">evergreen notes</fr:link></html:strong>.</html:p>
                <html:p>A tool for scientific thought could be a piece of software, or it could be an organizing principle for physical notes on paper. In these notes, we will primarily explore the design of computerized tools for scientific thought.</html:p>
              </fr:mainmatter>
            </fr:tree>
            <fr:tree show-metadata="false">
              <fr:frontmatter>
                <fr:authors>
                  <fr:author>
                    <fr:link href="https://www.forester-notes.org/jonmsterling/" title="Jon Sterling" uri="https://www.forester-notes.org/jonmsterling/" display-uri="https://www.forester-notes.org/jonmsterling/" type="local">Jon Sterling</fr:link>
                  </fr:author>
                </fr:authors>
                <fr:date>
                  <fr:year>2022</fr:year>
                  <fr:month>12</fr:month>
                  <fr:day>26</fr:day>
                </fr:date>
                <fr:uri>https://www.forester-notes.org/tfmt-0004/</fr:uri>
                <fr:display-uri>https://www.forester-notes.org/tfmt-0004/</fr:display-uri>
                <fr:route>https://www.forester-notes.org/tfmt-0004/</fr:route>
                <fr:title text="Existing tools for scientific thought">Existing tools for scientific thought</fr:title>
              </fr:frontmatter>
              <fr:mainmatter>
                <html:p>The existing <fr:link href="https://www.forester-notes.org/tfmt-0002/" title="Tool for scientific thought" uri="https://www.forester-notes.org/tfmt-0002/" display-uri="https://www.forester-notes.org/tfmt-0002/" type="local">tools for scientific thought</fr:link> can be divided into two main categories: interactive proof assistants and textual authoring and publishing tools (including LaTeX, as well as the <fr:link href="https://www.forester-notes.org/gerby/" title="Gerby" uri="https://www.forester-notes.org/gerby/" display-uri="https://www.forester-notes.org/gerby/" type="local">Gerby</fr:link> software that runs the <fr:link href="https://www.forester-notes.org/stacks-project/" title="The Stacks project" uri="https://www.forester-notes.org/stacks-project/" display-uri="https://www.forester-notes.org/stacks-project/" type="local">Stacks Project</fr:link>).</html:p>
              </fr:mainmatter>
            </fr:tree>
            <fr:tree show-metadata="false">
              <fr:frontmatter>
                <fr:authors>
                  <fr:author>
                    <fr:link href="https://www.forester-notes.org/jonmsterling/" title="Jon Sterling" uri="https://www.forester-notes.org/jonmsterling/" display-uri="https://www.forester-notes.org/jonmsterling/" type="local">Jon Sterling</fr:link>
                  </fr:author>
                </fr:authors>
                <fr:date>
                  <fr:year>2023</fr:year>
                  <fr:month>3</fr:month>
                  <fr:day>5</fr:day>
                </fr:date>
                <fr:uri>https://www.forester-notes.org/tfmt-000W/</fr:uri>
                <fr:display-uri>https://www.forester-notes.org/tfmt-000W/</fr:display-uri>
                <fr:route>https://www.forester-notes.org/tfmt-000W/</fr:route>
                <fr:title text="Evergreen notes in the sciences">Evergreen notes in the sciences</fr:title>
              </fr:frontmatter>
              <fr:mainmatter>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors>
                      <fr:author>
                        <fr:link href="https://www.forester-notes.org/jonmsterling/" title="Jon Sterling" uri="https://www.forester-notes.org/jonmsterling/" display-uri="https://www.forester-notes.org/jonmsterling/" type="local">Jon Sterling</fr:link>
                      </fr:author>
                    </fr:authors>
                    <fr:date>
                      <fr:year>2022</fr:year>
                      <fr:month>12</fr:month>
                      <fr:day>26</fr:day>
                    </fr:date>
                    <fr:uri>https://www.forester-notes.org/tfmt-0003/</fr:uri>
                    <fr:display-uri>https://www.forester-notes.org/tfmt-0003/</fr:display-uri>
                    <fr:route>https://www.forester-notes.org/tfmt-0003/</fr:route>
                    <fr:title text="Evergreen notes">Evergreen notes</fr:title>
                    <fr:taxon>Definition</fr:taxon>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>The phrase <html:em>evergreen note</html:em> is due to <fr:link href="https://www.forester-notes.org/andymatuschak/" title="Andy Matuschak" uri="https://www.forester-notes.org/andymatuschak/" display-uri="https://www.forester-notes.org/andymatuschak/" type="local">Andy Matuschak</fr:link>, who has <fr:link href="https://notes.andymatuschak.org/Evergreen_notes" type="external">written extensively</fr:link> about it in his <fr:link href="https://notes.andymatuschak.org/About_these_notes" type="external">public Zettelkasten</fr:link>. Evergreen notes are permanent notes that evolve and accumulate over time, cutting across different projects.</html:p>
                  </fr:mainmatter>
                </fr:tree>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors>
                      <fr:author>
                        <fr:link href="https://www.forester-notes.org/jonmsterling/" title="Jon Sterling" uri="https://www.forester-notes.org/jonmsterling/" display-uri="https://www.forester-notes.org/jonmsterling/" type="local">Jon Sterling</fr:link>
                      </fr:author>
                    </fr:authors>
                    <fr:date>
                      <fr:year>2022</fr:year>
                      <fr:month>12</fr:month>
                      <fr:day>27</fr:day>
                    </fr:date>
                    <fr:uri>https://www.forester-notes.org/tfmt-0007/</fr:uri>
                    <fr:display-uri>https://www.forester-notes.org/tfmt-0007/</fr:display-uri>
                    <fr:route>https://www.forester-notes.org/tfmt-0007/</fr:route>
                    <fr:title text="Atomicity of scientific notes">Atomicity of scientific notes</fr:title>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>One of the design principles for <fr:link href="https://www.forester-notes.org/tfmt-0003/" title="Evergreen notes" uri="https://www.forester-notes.org/tfmt-0003/" display-uri="https://www.forester-notes.org/tfmt-0003/" type="local">evergreen notes</fr:link> described by <fr:link href="https://www.forester-notes.org/andymatuschak/" title="Andy Matuschak" uri="https://www.forester-notes.org/andymatuschak/" display-uri="https://www.forester-notes.org/andymatuschak/" type="local">Matuschak</fr:link> is atomicity (<fr:link href="https://notes.andymatuschak.org/Evergreen_notes" type="external">Evergreen notes should be atomic</fr:link>): a note should capture just one thing, and if possible, <html:em>all</html:em> of that thing. A related point is that it should be possible to understand a note by (1) reading it, and (2) traversing the notes that it links to and recursively understanding those notes.</html:p>
                    <html:p>Traditional mathematical writing does <html:em>not</html:em> achieve this kind of atomicity: understanding the meaning of a particular node (e.g. a theorem or definition) usually requires understanding everything that came (textually) before it. In the context of the <fr:link href="https://www.forester-notes.org/tfmt-0005/" title="Hierarchy in evergreen notes" uri="https://www.forester-notes.org/tfmt-0005/" display-uri="https://www.forester-notes.org/tfmt-0005/" type="local">hierarchical organization of evergreen notes</fr:link>, this would translate to needing to go <html:em>upward</html:em> in the hierarchy in order to understand the meaning of a leaf node. I regard this property of traditional notes as a defect: <html:strong>we should prefer explicit context over implicit context</html:strong>.</html:p>
                    <html:p>High-quality scientific notes should make sense with minimal context; hierarchical context is imposed in order to tell a story, but consumers of scientific notes should not be forced into a particular narrative. Indeed, as many different hierarchical structures can be imposed, many different narratives can be explored.</html:p>
                    <html:p>My first exploration of hypertext science was the <fr:link href="https://www.jonmsterling.com/frct-003I.xml" type="external">lecture notes on relative category theory</fr:link>; in hindsight, these lecture notes are very much traditional lecture notes, not written with the atomicity principle in mind. As a result, it is often difficult to understand a given node without ascending upward in the hierarchy.</html:p>
                  </fr:mainmatter>
                </fr:tree>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors>
                      <fr:author>
                        <fr:link href="https://www.forester-notes.org/jonmsterling/" title="Jon Sterling" uri="https://www.forester-notes.org/jonmsterling/" display-uri="https://www.forester-notes.org/jonmsterling/" type="local">Jon Sterling</fr:link>
                      </fr:author>
                    </fr:authors>
                    <fr:date>
                      <fr:year>2022</fr:year>
                      <fr:month>12</fr:month>
                      <fr:day>27</fr:day>
                    </fr:date>
                    <fr:uri>https://www.forester-notes.org/tfmt-0008/</fr:uri>
                    <fr:display-uri>https://www.forester-notes.org/tfmt-0008/</fr:display-uri>
                    <fr:route>https://www.forester-notes.org/tfmt-0008/</fr:route>
                    <fr:title text="Achieving atomicity">Achieving atomicity</fr:title>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p><fr:link href="https://www.forester-notes.org/tfmt-0007/" title="Atomicity of scientific notes" uri="https://www.forester-notes.org/tfmt-0007/" display-uri="https://www.forester-notes.org/tfmt-0007/" type="local">Atomicity</fr:link> in <fr:link href="https://www.forester-notes.org/tfmt-0003/" title="Evergreen notes" uri="https://www.forester-notes.org/tfmt-0003/" display-uri="https://www.forester-notes.org/tfmt-0003/" type="local">evergreen notes</fr:link> is enhanced by adhering to the following principles:</html:p>
                    <html:ol><html:li><html:strong>no free variables:</html:strong> do not rely on one-off objects that are defined incidentally upwards in the hierarchy; turn them into atomic nodes that can be linked;</html:li>
  <html:li><html:strong>favor explicit dependency:</html:strong> whenever using a terminology or construction that has been defined elsewhere, link it;</html:li>
  <html:li><html:strong>notation should be decodable:</html:strong> all notations (except the most very basic) should be recalled via a link.</html:li></html:ol>
                    <html:p>It can be a bit excessive to link every word: but the pertinent links could be added to a “related pages” section.</html:p>
                  </fr:mainmatter>
                </fr:tree>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors>
                      <fr:author>
                        <fr:link href="https://www.forester-notes.org/jonmsterling/" title="Jon Sterling" uri="https://www.forester-notes.org/jonmsterling/" display-uri="https://www.forester-notes.org/jonmsterling/" type="local">Jon Sterling</fr:link>
                      </fr:author>
                    </fr:authors>
                    <fr:date>
                      <fr:year>2022</fr:year>
                      <fr:month>12</fr:month>
                      <fr:day>26</fr:day>
                    </fr:date>
                    <fr:uri>https://www.forester-notes.org/tfmt-0005/</fr:uri>
                    <fr:display-uri>https://www.forester-notes.org/tfmt-0005/</fr:display-uri>
                    <fr:route>https://www.forester-notes.org/tfmt-0005/</fr:route>
                    <fr:title text="Hierarchy in evergreen notes">Hierarchy in evergreen notes</fr:title>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p><fr:link href="https://www.forester-notes.org/andymatuschak/" title="Andy Matuschak" uri="https://www.forester-notes.org/andymatuschak/" display-uri="https://www.forester-notes.org/andymatuschak/" type="local">Matuschak</fr:link> describes a number of organizing principles for <fr:link href="https://www.forester-notes.org/tfmt-0003/" title="Evergreen notes" uri="https://www.forester-notes.org/tfmt-0003/" display-uri="https://www.forester-notes.org/tfmt-0003/" type="local">evergreen notes</fr:link>, which are quite compelling; one design principle (<fr:link href="https://notes.andymatuschak.org/Evergreen_notes" type="external">Prefer associative ontologies to hierarchical taxonomies</fr:link>) deserves additional discussion in the context of <html:em>mathematical</html:em> thought. In particular, the problem of circular reference must be grappled with immediately rather than incidentally: in ordinary knowledge management, circularity represents the completion of a train of thought, whereas in mathematical thinking it remains very important to distinguish assumptions from consequences.</html:p>
                    <html:p>Hence a purely associative organization of mathematical knowledge is not viable (although it often happens by accident), and so the hierarchical organization of mathematics must be taken seriously from the start. We find that <fr:link href="https://www.forester-notes.org/andymatuschak/" title="Andy Matuschak" uri="https://www.forester-notes.org/andymatuschak/" display-uri="https://www.forester-notes.org/andymatuschak/" type="local">Matuschak</fr:link> has in fact already grappled with the need for hierarchy in his note <fr:link href="https://notes.andymatuschak.org/Evergreen_notes" type="external">It’s hard to navigate to unlinked “neighbors” in associative note systems</fr:link>, where he discusses the difficulty of traversing the “neighbor”-relationship between notes that are related by another note’s context, but are not related on their own. <fr:link href="https://www.forester-notes.org/andymatuschak/" title="Andy Matuschak" uri="https://www.forester-notes.org/andymatuschak/" display-uri="https://www.forester-notes.org/andymatuschak/" type="local">Matuschak</fr:link> proposes to solve the problem by grafting hierarchy onto the associative ontology after the fact through “outline notes”:</html:p>
                    <html:blockquote>
                      <html:p>“Outline notes” can create pseudo-hierarchies with order and structure by linking to many child notes. Then we need the UI to support navigating between neighbors “through” these outline notes.</html:p>
                    </html:blockquote>
                    <html:p>The viewpoint of outline hierarchy as a structure imposed on the existing associative ontology is a convenient organizing principle for evergreen notes in the sense of <fr:link href="https://www.forester-notes.org/andymatuschak/" title="Andy Matuschak" uri="https://www.forester-notes.org/andymatuschak/" display-uri="https://www.forester-notes.org/andymatuschak/" type="local">Matuschak</fr:link>, but it is a <html:strong>necessary principle</html:strong> for the design of tools for scientific thought.</html:p>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:author>
                            <fr:link href="https://www.forester-notes.org/jonmsterling/" title="Jon Sterling" uri="https://www.forester-notes.org/jonmsterling/" display-uri="https://www.forester-notes.org/jonmsterling/" type="local">Jon Sterling</fr:link>
                          </fr:author>
                        </fr:authors>
                        <fr:date>
                          <fr:year>2022</fr:year>
                          <fr:month>12</fr:month>
                          <fr:day>26</fr:day>
                        </fr:date>
                        <fr:uri>https://www.forester-notes.org/tfmt-0006/</fr:uri>
                        <fr:display-uri>https://www.forester-notes.org/tfmt-0006/</fr:display-uri>
                        <fr:route>https://www.forester-notes.org/tfmt-0006/</fr:route>
                        <fr:title text="Hierarchical structure as non-unique narrative">Hierarchical structure as non-unique narrative</fr:title>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>Multiple hierarchical structures can be imposed on the same associative network of nodes; a hierarchical structure amounts to a “narrative” that contextualizes a given subgraph of the network. One example could be the construction of lecture notes; another example could be a homework sheet; a further example could be a book chapter or scientific article. Although these may draw from the same body of definitions, theorems, examples, and exercises, these objects are contextualized within a different narrative, often toward fundamentally different ends.</html:p>
                        <html:p>As a result, any interface for navigating the neighbor-relation in hierarchically organized notes would need to take account of the multiplicity of parent nodes. Most hypertext tools assume that the position of a node in the hierarchy is unique, and therefore have a single “next/previous” navigation interface; we must investigate the design of interfaces that surface all parent/neighbor relations.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:author>
                            <fr:link href="https://www.forester-notes.org/jonmsterling/" title="Jon Sterling" uri="https://www.forester-notes.org/jonmsterling/" display-uri="https://www.forester-notes.org/jonmsterling/" type="local">Jon Sterling</fr:link>
                          </fr:author>
                        </fr:authors>
                        <fr:date>
                          <fr:year>2022</fr:year>
                          <fr:month>12</fr:month>
                          <fr:day>27</fr:day>
                        </fr:date>
                        <fr:uri>https://www.forester-notes.org/tfmt-0009/</fr:uri>
                        <fr:display-uri>https://www.forester-notes.org/tfmt-0009/</fr:display-uri>
                        <fr:route>https://www.forester-notes.org/tfmt-0009/</fr:route>
                        <fr:title text="The best structure to impose is relatively flat">The best structure to impose is relatively flat</fr:title>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>It is easy to make the mistake of prematurely imposing a complex hierarchical structure on a network of notes, which leads to excessive refactoring. Hierarchy should be used sparingly, and its strength is for the large-scale organization of ideas. The best structure to impose on a network of many small related ideas is a relatively flat one. I believe that this is one of the mistakes made in the writing of the <html:em>foundations of relative category theory</html:em>, whose hierarchical nesting was too complex and quite beholden to my experience with pre-hypertext media.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                    <html:p>There are many ways to model hierarchy, but there are two salient orthogonal distinctions in the different designs.</html:p>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:author>
                            <fr:link href="https://www.forester-notes.org/jonmsterling/" title="Jon Sterling" uri="https://www.forester-notes.org/jonmsterling/" display-uri="https://www.forester-notes.org/jonmsterling/" type="local">Jon Sterling</fr:link>
                          </fr:author>
                        </fr:authors>
                        <fr:date>
                          <fr:year>2022</fr:year>
                          <fr:month>12</fr:month>
                          <fr:day>29</fr:day>
                        </fr:date>
                        <fr:uri>https://www.forester-notes.org/tfmt-000B/</fr:uri>
                        <fr:display-uri>https://www.forester-notes.org/tfmt-000B/</fr:display-uri>
                        <fr:route>https://www.forester-notes.org/tfmt-000B/</fr:route>
                        <fr:title text="Absolute vs. relative hierarchy in document markup languages">Absolute vs. relative hierarchy in document markup languages</fr:title>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>Both HTML and LaTeX support a form of hierarchical organization with “absolute” heading levels, i.e. levels that count upward from a single root. In HTML, there is <html:code><![CDATA[<h1>]]></html:code>, <html:code><![CDATA[<h2>]]></html:code>, <html:code><![CDATA[<h3>]]></html:code>..., and in LaTeX there is <html:code><![CDATA[\part]]></html:code>, <html:code><![CDATA[\chapter]]></html:code>, <html:code><![CDATA[\section]]></html:code>, <html:code><![CDATA[\subsection]]></html:code>,<html:code><![CDATA[\subsubsection]]></html:code>, ..., <html:code><![CDATA[\paragraph]]></html:code> depending on the document class. This is in contrast to a <html:em>relative</html:em> model of hierarchy, in which there is a single command to introduce a section heading at the “current” level, and there are other commands to introduce hierarchical nesting.</html:p>
                        <html:p>The absolute sectioning model is completely inadequate for the hierarchical organization of ideas, for the simple reason that it is the <html:em>context</html:em> of a node that determines what its level in the hierarchy is, not the node itself. When this is mixed up, it makes re-contextualization an extremely painful and time-consuming process: you must recursively increment or decrement all section levels that occur underneath a given node, as anyone who has used LaTeX for any significant writing project can attest.</html:p>
                        <html:p>In traditional texts, re-contextualization occurs when you want to move a section from one place in the hierarchy to another; in the more fluid media I am pursuing, there may be  <fr:link href="https://www.forester-notes.org/tfmt-0006/" title="Hierarchical structure as non-unique narrative" uri="https://www.forester-notes.org/tfmt-0006/" display-uri="https://www.forester-notes.org/tfmt-0006/" type="local">many orthogonal hierarchical structures</fr:link> imposed on the network, so re-contextualization ceases to be a <html:em>refactoring task</html:em> and is elevated as a <fr:link href="https://www.forester-notes.org/tfmt-0006/" title="Hierarchical structure as non-unique narrative" uri="https://www.forester-notes.org/tfmt-0006/" display-uri="https://www.forester-notes.org/tfmt-0006/" type="local">basic unit of scientific activity</fr:link>. In either case, we are drawn to prefer <html:strong>relative hierarchy</html:strong> over <html:strong>absolute</html:strong> hierarchy. See <fr:link href="https://www.forester-notes.org/tfmt-000C/" title="Relative hierarchy in existing tools" uri="https://www.forester-notes.org/tfmt-000C/" display-uri="https://www.forester-notes.org/tfmt-000C/" type="local">existing implementations of this idea</fr:link>.</html:p>
                        <html:p>This is similar to the relationship between De Bruijn levels (global levels) and De Bruijn indices (local levels) in type theory: conventional section headings are like De Bruijn indices in that they count from the <html:strong>root</html:strong> node, whereas what we would want are section headings that count from the <html:strong>present</html:strong> node.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:author>
                            <fr:link href="https://www.forester-notes.org/jonmsterling/" title="Jon Sterling" uri="https://www.forester-notes.org/jonmsterling/" display-uri="https://www.forester-notes.org/jonmsterling/" type="local">Jon Sterling</fr:link>
                          </fr:author>
                        </fr:authors>
                        <fr:date>
                          <fr:year>2022</fr:year>
                          <fr:month>12</fr:month>
                          <fr:day>29</fr:day>
                        </fr:date>
                        <fr:uri>https://www.forester-notes.org/tfmt-000D/</fr:uri>
                        <fr:display-uri>https://www.forester-notes.org/tfmt-000D/</fr:display-uri>
                        <fr:route>https://www.forester-notes.org/tfmt-000D/</fr:route>
                        <fr:title text="Implicit vs. explicit hierarchy in document markup languages">Implicit vs. explicit hierarchy in document markup languages</fr:title>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>Many document markup languages, including LaTeX and HTML, use sectioning commands that evince an <html:em>implicit</html:em> hierarchical structure: for instance, consider the following HTML code:</html:p>
                        <html:pre><![CDATA[<h1>Foo</h1>
<h2>Bar</h2>
<h3>Baz</h3>
<h3>Qux</h4>
<h1>Boo</h1>]]></html:pre>
                        <html:p>The above corresponds to the tree <html:code><![CDATA[[Foo > [Bar > [Baz, Qux]], Boo]]]></html:code>. On the other hand, it is also possible to consider a model in which the hierarchy is made explicit through the syntactical tree structure of the markup language. This style is also supported (but not forced) in HTML:</html:p>
                        <html:pre><![CDATA[<section>
  <h1>Foo</h1>
  <section>
    <h2>Bar</h2>
    <section>
      <h3>Baz</h3>
    </section>
    <section>
      <h3>Qux</h3>
    </section>
  </section>
</section>

<section>
  <h1>Boo</h1>
</section>]]></html:pre>
                      </fr:mainmatter>
                    </fr:tree>
                    <html:p>We greatly prefer the combination of (relative, explicit) hierarchy.</html:p>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:author>
                            <fr:link href="https://www.forester-notes.org/jonmsterling/" title="Jon Sterling" uri="https://www.forester-notes.org/jonmsterling/" display-uri="https://www.forester-notes.org/jonmsterling/" type="local">Jon Sterling</fr:link>
                          </fr:author>
                        </fr:authors>
                        <fr:date>
                          <fr:year>2022</fr:year>
                          <fr:month>12</fr:month>
                          <fr:day>29</fr:day>
                        </fr:date>
                        <fr:uri>https://www.forester-notes.org/tfmt-000C/</fr:uri>
                        <fr:display-uri>https://www.forester-notes.org/tfmt-000C/</fr:display-uri>
                        <fr:route>https://www.forester-notes.org/tfmt-000C/</fr:route>
                        <fr:title text="Relative hierarchy in existing tools">Relative hierarchy in existing tools</fr:title>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>There are a few LaTeX packages that implement relative hierarchy for sectioning as an alternative to the <fr:link href="https://www.forester-notes.org/tfmt-000B/" title="Absolute vs. relative hierarchy in document markup languages" uri="https://www.forester-notes.org/tfmt-000B/" display-uri="https://www.forester-notes.org/tfmt-000B/" type="local">backward model of absolute hierarchy</fr:link>.</html:p>
                        <html:ul><html:li>The <fr:link href="https://www.ctan.org/pkg/coseoul" type="external">coseoul</fr:link> package implements relative sectioning commands; similar to the existing sectioning commands, an <fr:link href="https://www.forester-notes.org/tfmt-000D/" title="Implicit vs. explicit hierarchy in document markup languages" uri="https://www.forester-notes.org/tfmt-000D/" display-uri="https://www.forester-notes.org/tfmt-000D/" type="local">implicit hierarchy</fr:link> model is employed, leading to an imperative feel with commands like <html:code><![CDATA[\levelup{<title>}]]></html:code> and <html:code><![CDATA[\leveldown{<title>}]]></html:code>.</html:li>
  
  <html:li>The <fr:link href="https://ctan.org/pkg/modular" type="external">modular</fr:link> package builds on <fr:link href="https://www.ctan.org/pkg/coseoul" type="external">coseoul</fr:link> to behave better under the <html:em>transclusion</html:em> of LaTeX documents, introducing a <html:code><![CDATA[\subimport]]></html:code> command that is to be used instead of <html:code><![CDATA[\input]]></html:code> or <html:code><![CDATA[\include]]></html:code>.</html:li>
  
  <html:li>On the other hand, the <fr:link href="https://github.com/jonsterling/latex-dieudonne" type="external">dieudonne</fr:link> package implements a form of relative sectioning with an <fr:link href="https://www.forester-notes.org/tfmt-000D/" title="Implicit vs. explicit hierarchy in document markup languages" uri="https://www.forester-notes.org/tfmt-000D/" display-uri="https://www.forester-notes.org/tfmt-000D/" type="local">explicit hierarchical model</fr:link>, i.e. one in which the syntactical nesting of LaTeX environments induces the hierarchy.</html:li></html:ul>
                        <html:p>There are some attempts to impose a (<fr:link href="https://www.forester-notes.org/tfmt-000B/" title="Absolute vs. relative hierarchy in document markup languages" uri="https://www.forester-notes.org/tfmt-000B/" display-uri="https://www.forester-notes.org/tfmt-000B/" type="local">relative</fr:link>, <fr:link href="https://www.forester-notes.org/tfmt-000D/" title="Implicit vs. explicit hierarchy in document markup languages" uri="https://www.forester-notes.org/tfmt-000D/" display-uri="https://www.forester-notes.org/tfmt-000D/" type="local">explicit</fr:link>) hierarchical model in HTML by using <html:code><![CDATA[<section>]]></html:code> and <html:strong>only</html:strong> the <html:code><![CDATA[<h1>]]></html:code> heading command. In the HTML5 spec, this behavior was initially endorsed as part of the “outline” algorithm, but unfortunately <fr:link href="https://github.com/whatwg/html/issues/83/" type="external">almost no vendors of browsers nor assistive technology have correctly implemented this behavior</fr:link>.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                  </fr:mainmatter>
                </fr:tree>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors>
                      <fr:author>
                        <fr:link href="https://www.forester-notes.org/jonmsterling/" title="Jon Sterling" uri="https://www.forester-notes.org/jonmsterling/" display-uri="https://www.forester-notes.org/jonmsterling/" type="local">Jon Sterling</fr:link>
                      </fr:author>
                    </fr:authors>
                    <fr:date>
                      <fr:year>2023</fr:year>
                      <fr:month>3</fr:month>
                      <fr:day>4</fr:day>
                    </fr:date>
                    <fr:uri>https://www.forester-notes.org/tfmt-000V/</fr:uri>
                    <fr:display-uri>https://www.forester-notes.org/tfmt-000V/</fr:display-uri>
                    <fr:route>https://www.forester-notes.org/tfmt-000V/</fr:route>
                    <fr:title text="Forests of evergreen notes">Forests of evergreen notes</fr:title>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:author>
                            <fr:link href="https://www.forester-notes.org/jonmsterling/" title="Jon Sterling" uri="https://www.forester-notes.org/jonmsterling/" display-uri="https://www.forester-notes.org/jonmsterling/" type="local">Jon Sterling</fr:link>
                          </fr:author>
                        </fr:authors>
                        <fr:date>
                          <fr:year>2023</fr:year>
                          <fr:month>3</fr:month>
                          <fr:day>4</fr:day>
                        </fr:date>
                        <fr:uri>https://www.forester-notes.org/tfmt-000R/</fr:uri>
                        <fr:display-uri>https://www.forester-notes.org/tfmt-000R/</fr:display-uri>
                        <fr:route>https://www.forester-notes.org/tfmt-000R/</fr:route>
                        <fr:title text="Forests and trees of evergreen notes">Forests and trees of evergreen notes</fr:title>
                        <fr:taxon>Definition</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>A <html:em>forest of <fr:link href="https://www.forester-notes.org/tfmt-0003/" title="Evergreen notes" uri="https://www.forester-notes.org/tfmt-0003/" display-uri="https://www.forester-notes.org/tfmt-0003/" type="local">evergreen notes</fr:link></html:em> (or a <html:em>forest</html:em> for short) is loosely defined to be a collection of <fr:link href="https://www.forester-notes.org/tfmt-0003/" title="Evergreen notes" uri="https://www.forester-notes.org/tfmt-0003/" display-uri="https://www.forester-notes.org/tfmt-0003/" type="local">evergreen notes</fr:link> in which multiple <fr:link href="https://www.forester-notes.org/tfmt-0005/" title="Hierarchy in evergreen notes" uri="https://www.forester-notes.org/tfmt-0005/" display-uri="https://www.forester-notes.org/tfmt-0005/" type="local">hierarchical structures</fr:link> are allowed to emerge and evolve over time. Concretely, one note may contextualize several other notes via transclusion within its textual structure; in the context of a forest, we refer to an individual note as a <html:em>tree</html:em>. Of course, a tree can be viewed as a forest that has a root node.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:author>
                            <fr:link href="https://www.forester-notes.org/jonmsterling/" title="Jon Sterling" uri="https://www.forester-notes.org/jonmsterling/" display-uri="https://www.forester-notes.org/jonmsterling/" type="local">Jon Sterling</fr:link>
                          </fr:author>
                        </fr:authors>
                        <fr:date>
                          <fr:year>2023</fr:year>
                          <fr:month>3</fr:month>
                          <fr:day>4</fr:day>
                        </fr:date>
                        <fr:uri>https://www.forester-notes.org/tfmt-000U/</fr:uri>
                        <fr:display-uri>https://www.forester-notes.org/tfmt-000U/</fr:display-uri>
                        <fr:route>https://www.forester-notes.org/tfmt-000U/</fr:route>
                        <fr:title text="The extent of a tree in a forest">The extent of a tree in a forest</fr:title>
                        <fr:taxon>Definition</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>The <html:em>extent</html:em> of a <fr:link href="https://www.forester-notes.org/tfmt-000R/" title="Forests and trees of evergreen notes" uri="https://www.forester-notes.org/tfmt-000R/" display-uri="https://www.forester-notes.org/tfmt-000R/" type="local">tree within a forest</fr:link> is the smallest set of trees closed under the following rules:</html:p>
                        <html:ol><html:li><fr:tex display="inline"><![CDATA[T]]></fr:tex> lies within the extent of <fr:tex display="inline"><![CDATA[T]]></fr:tex>.</html:li>
  <html:li>If <fr:tex display="inline"><![CDATA[S]]></fr:tex> is transcluded by <fr:tex display="inline"><![CDATA[T]]></fr:tex>, then any tree in the extent of <fr:tex display="inline"><![CDATA[S]]></fr:tex> lies also in the extent of <fr:tex display="inline"><![CDATA[T]]></fr:tex>.</html:li></html:ol>
                      </fr:mainmatter>
                    </fr:tree>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:author>
                            <fr:link href="https://www.forester-notes.org/jonmsterling/" title="Jon Sterling" uri="https://www.forester-notes.org/jonmsterling/" display-uri="https://www.forester-notes.org/jonmsterling/" type="local">Jon Sterling</fr:link>
                          </fr:author>
                        </fr:authors>
                        <fr:date>
                          <fr:year>2023</fr:year>
                          <fr:month>3</fr:month>
                          <fr:day>4</fr:day>
                        </fr:date>
                        <fr:uri>https://www.forester-notes.org/tfmt-000Q/</fr:uri>
                        <fr:display-uri>https://www.forester-notes.org/tfmt-000Q/</fr:display-uri>
                        <fr:route>https://www.forester-notes.org/tfmt-000Q/</fr:route>
                        <fr:title text="Authorship and responsibility in forests">Authorship and responsibility in forests</fr:title>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>A <fr:link href="https://www.forester-notes.org/tfmt-000R/" title="Forests and trees of evergreen notes" uri="https://www.forester-notes.org/tfmt-000R/" display-uri="https://www.forester-notes.org/tfmt-000R/" type="local">forest of evergreen notes</fr:link> may in general contain the work of many authors who have contributed in different ways. However, the correct attribution of authorship to a given tree is more subtle than one might at first think.</html:p>
                        <html:p>To understand this subtlety, we first consider that each individual tree may contain <html:em>both</html:em> textual content and transcluded subtrees. Thinking inductively, a simple model of tree authorship would be to take the union of the authors of the immediate textual content and the authors of all trees within its <fr:link href="https://www.forester-notes.org/tfmt-000U/" title="The extent of a tree in a forest" uri="https://www.forester-notes.org/tfmt-000U/" display-uri="https://www.forester-notes.org/tfmt-000U/" type="local">extent</fr:link>. This model is incorrect, however, as authorship is usually taken to imply responsibility and endorsement, as can be seen by way of example from the <fr:link href="https://www.acm.org/publications/policies/roles-and-responsibilities" type="external">ACM Policy on Authorship, Peer Review, Readership, and Conference Publication</fr:link>:</html:p>
                        <html:blockquote>
                          <html:p>They agree to be held accountable for any issues relating to the correctness or integrity of the work with the understanding that depending on the circumstances not all authors are necessarily held “equally” accountable. In the case of publications-related misconduct, it may be the case that penalties may vary for co-authors listed on a single publication.</html:p>
                        </html:blockquote>
                        <html:p>In particular, although one person may be aware of and responsible for the content of a given tree, it would be unreasonable to require them to be responsible for any subsequent (and potentially erroneous!) re-contextualization of that tree in the forest. For this reason, <html:strong><fr:link href="https://www.forester-notes.org/tfmt-000S/" title="Author of a tree" uri="https://www.forester-notes.org/tfmt-000S/" display-uri="https://www.forester-notes.org/tfmt-000S/" type="local">authors</fr:link> must be distinguished from <fr:link href="https://www.forester-notes.org/tfmt-000T/" title="Contributor to a tree" uri="https://www.forester-notes.org/tfmt-000T/" display-uri="https://www.forester-notes.org/tfmt-000T/" type="local">contributors</fr:link></html:strong> in <fr:link href="https://www.forester-notes.org/tfmt-000R/" title="Forests and trees of evergreen notes" uri="https://www.forester-notes.org/tfmt-000R/" display-uri="https://www.forester-notes.org/tfmt-000R/" type="local">forests of evergreen notes</fr:link>.</html:p>
                        <fr:tree show-metadata="false">
                          <fr:frontmatter>
                            <fr:authors>
                              <fr:author>
                                <fr:link href="https://www.forester-notes.org/jonmsterling/" title="Jon Sterling" uri="https://www.forester-notes.org/jonmsterling/" display-uri="https://www.forester-notes.org/jonmsterling/" type="local">Jon Sterling</fr:link>
                              </fr:author>
                            </fr:authors>
                            <fr:date>
                              <fr:year>2023</fr:year>
                              <fr:month>3</fr:month>
                              <fr:day>4</fr:day>
                            </fr:date>
                            <fr:uri>https://www.forester-notes.org/tfmt-000S/</fr:uri>
                            <fr:display-uri>https://www.forester-notes.org/tfmt-000S/</fr:display-uri>
                            <fr:route>https://www.forester-notes.org/tfmt-000S/</fr:route>
                            <fr:title text="Author of a tree">Author of a tree</fr:title>
                            <fr:taxon>Definition</fr:taxon>
                          </fr:frontmatter>
                          <fr:mainmatter>
                            <html:p>An <html:em>author</html:em> of a <fr:link href="https://www.forester-notes.org/tfmt-000R/" title="Forests and trees of evergreen notes" uri="https://www.forester-notes.org/tfmt-000R/" display-uri="https://www.forester-notes.org/tfmt-000R/" type="local">tree within a forest</fr:link> is someone who satisfies the following conditions:</html:p>
                            <html:ol><html:li>They contributed intellectually to the immediate textual content of the tree, i.e. the non-transcluded content.</html:li>
  <html:li>They can be held responsible for all the content within the tree, i.e. both the immediate textual content as well as the content of all the subtrees.</html:li></html:ol>
                          </fr:mainmatter>
                        </fr:tree>
                        <fr:tree show-metadata="false">
                          <fr:frontmatter>
                            <fr:authors>
                              <fr:author>
                                <fr:link href="https://www.forester-notes.org/jonmsterling/" title="Jon Sterling" uri="https://www.forester-notes.org/jonmsterling/" display-uri="https://www.forester-notes.org/jonmsterling/" type="local">Jon Sterling</fr:link>
                              </fr:author>
                            </fr:authors>
                            <fr:date>
                              <fr:year>2023</fr:year>
                              <fr:month>3</fr:month>
                              <fr:day>4</fr:day>
                            </fr:date>
                            <fr:uri>https://www.forester-notes.org/tfmt-000T/</fr:uri>
                            <fr:display-uri>https://www.forester-notes.org/tfmt-000T/</fr:display-uri>
                            <fr:route>https://www.forester-notes.org/tfmt-000T/</fr:route>
                            <fr:title text="Contributor to a tree">Contributor to a tree</fr:title>
                            <fr:taxon>Definition</fr:taxon>
                          </fr:frontmatter>
                          <fr:mainmatter>
                            <html:p>A <html:em>direct contributor</html:em> to a <fr:link href="https://www.forester-notes.org/tfmt-000R/" title="Forests and trees of evergreen notes" uri="https://www.forester-notes.org/tfmt-000R/" display-uri="https://www.forester-notes.org/tfmt-000R/" type="local">tree within a forest</fr:link> is either an <fr:link href="https://www.forester-notes.org/tfmt-000S/" title="Author of a tree" uri="https://www.forester-notes.org/tfmt-000S/" display-uri="https://www.forester-notes.org/tfmt-000S/" type="local">author</fr:link> of the tree, or has contributed intellectually to the immediate content of the tree but cannot be held responsible for it.</html:p>
                            <html:p>A <html:em>contributor</html:em> to a tree is someone who is a direct contributor to at least one tree lying within its <fr:link href="https://www.forester-notes.org/tfmt-000U/" title="The extent of a tree in a forest" uri="https://www.forester-notes.org/tfmt-000U/" display-uri="https://www.forester-notes.org/tfmt-000U/" type="local">extent</fr:link>.</html:p>
                          </fr:mainmatter>
                        </fr:tree>
                      </fr:mainmatter>
                    </fr:tree>
                  </fr:mainmatter>
                </fr:tree>
              </fr:mainmatter>
            </fr:tree>
            <fr:tree show-metadata="false">
              <fr:frontmatter>
                <fr:authors>
                  <fr:author>
                    <fr:link href="https://www.forester-notes.org/jonmsterling/" title="Jon Sterling" uri="https://www.forester-notes.org/jonmsterling/" display-uri="https://www.forester-notes.org/jonmsterling/" type="local">Jon Sterling</fr:link>
                  </fr:author>
                </fr:authors>
                <fr:date>
                  <fr:year>2023</fr:year>
                  <fr:month>1</fr:month>
                  <fr:day>7</fr:day>
                </fr:date>
                <fr:uri>https://www.forester-notes.org/tfmt-000E/</fr:uri>
                <fr:display-uri>https://www.forester-notes.org/tfmt-000E/</fr:display-uri>
                <fr:route>https://www.forester-notes.org/tfmt-000E/</fr:route>
                <fr:title text="Requirements for typesetting mathematics">Requirements for typesetting mathematics</fr:title>
              </fr:frontmatter>
              <fr:mainmatter>
                <html:p>Many non-LaTeX hypertext tools boast some compatibility with mathematical typesetting: for instance, in any HTML-based tool it is possible to use MathML or, for better cross-browser support and easier authoring, import <fr:link href="https://katex.org/" type="external"><fr:tex display="inline"><![CDATA[\KaTeX ]]></fr:tex></fr:link> or <fr:link href="https://www.mathjax.org/" type="external">MathJax</fr:link>. For instance: <fr:link href="https://logseq.com/" type="external">Logseq</fr:link>, <fr:link href="https://obsidian.md/" type="external">Obsidian</fr:link>, and <fr:link href="https://www.notion.so/" type="external">Notion</fr:link> all support rendering of LaTeX math code using either <fr:tex display="inline"><![CDATA[\KaTeX ]]></fr:tex> or MathJax. <html:strong>Unfortunately, the “support” provided is so limited that it is not usable for a working mathematician — so it is somewhat puzzling why the support is present in the first place.</html:strong> Here we will discuss some fundamental requirements for any tool that aims to support mathematical notes, without which it is not applicable for use by professionals.</html:p>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors>
                      <fr:author>
                        <fr:link href="https://www.forester-notes.org/jonmsterling/" title="Jon Sterling" uri="https://www.forester-notes.org/jonmsterling/" display-uri="https://www.forester-notes.org/jonmsterling/" type="local">Jon Sterling</fr:link>
                      </fr:author>
                    </fr:authors>
                    <fr:date>
                      <fr:year>2023</fr:year>
                      <fr:month>1</fr:month>
                      <fr:day>7</fr:day>
                    </fr:date>
                    <fr:uri>https://www.forester-notes.org/tfmt-000F/</fr:uri>
                    <fr:display-uri>https://www.forester-notes.org/tfmt-000F/</fr:display-uri>
                    <fr:route>https://www.forester-notes.org/tfmt-000F/</fr:route>
                    <fr:title text="Notational macros in mathematical authoring">Notational macros in mathematical authoring</fr:title>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>Mathematical writing tends to involve a variety of notations which (1) can be difficult to typeset by hand, and (2) will likely change over time. The difficulty of hand-typesetting is somewhat less important than the propensity of notation to change over time: when we change notations within a given mathematical work, we must update every occurrence of the notation: but when the representation of the notation is unstructured, it is not in fact possible for a tool (e.g. find-and-replace) to detect every instance that needs to be updated. <html:strong>Therefore, it is mandatory that the representation of mathematical notations be structured.</html:strong></html:p>
                    <html:p>LaTeX allows authors to structure their notations very simply using <html:em>macros</html:em>, which can be introduced using <html:code><![CDATA[\newcommand]]></html:code> or <html:code><![CDATA[\NewDocumentCommand]]></html:code>. It is trivial to update all occurences of a notation by simply changing the definition of the corresponding macro.</html:p>
                    <html:p>Unfortunately, most tools that purport to support the inclusion of mathematical expressions do not have adequate support for macros. Both <fr:link href="https://katex.org/" type="external"><fr:tex display="inline"><![CDATA[\KaTeX ]]></fr:tex></fr:link> and <fr:link href="https://www.mathjax.org/" type="external">MathJax</fr:link> have excellent support for configuring macros, but these configuration options are not available in most of the tools that build on <fr:tex display="inline"><![CDATA[\KaTeX ]]></fr:tex> and MathJax: for instance, <fr:link href="https://logseq.com/" type="external">Logseq</fr:link> and <fr:link href="https://obsidian.md/" type="external">Obsidian</fr:link> and <fr:link href="https://www.notion.so/" type="external">Notion</fr:link> all support embedding mathematics, but they do not support configuring macros. In fact there is a community plugin for Obsidian that adds this functionality, but it only supports imposing a global macro library on the entire “vault”, which is <fr:link href="https://www.forester-notes.org/tfmt-000H/" title="Notational macros are local, not global" uri="https://www.forester-notes.org/tfmt-000H/" display-uri="https://www.forester-notes.org/tfmt-000H/" type="local">inadequate</fr:link>.</html:p>
                  </fr:mainmatter>
                </fr:tree>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors>
                      <fr:author>
                        <fr:link href="https://www.forester-notes.org/jonmsterling/" title="Jon Sterling" uri="https://www.forester-notes.org/jonmsterling/" display-uri="https://www.forester-notes.org/jonmsterling/" type="local">Jon Sterling</fr:link>
                      </fr:author>
                    </fr:authors>
                    <fr:date>
                      <fr:year>2023</fr:year>
                      <fr:month>1</fr:month>
                      <fr:day>7</fr:day>
                    </fr:date>
                    <fr:uri>https://www.forester-notes.org/tfmt-000H/</fr:uri>
                    <fr:display-uri>https://www.forester-notes.org/tfmt-000H/</fr:display-uri>
                    <fr:route>https://www.forester-notes.org/tfmt-000H/</fr:route>
                    <fr:title text="Notational macros are local, not global">Notational macros are local, not global</fr:title>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>In LaTeX, macros are organized into packages that are then globally imported into a single document. Because a LaTeX document comprises just one project and thus any transclusions (via <html:code><![CDATA[\input]]></html:code> or <html:code><![CDATA[\include]]></html:code>) are of components local to that one project, this model is adequate — although experienced users of LaTeX are nonetheless all too aware of the difficulties of namespacing macro commands when interacting with multiple packages or document classes.</html:p>
                    <html:p><html:strong>The requirements for a <fr:link href="https://www.forester-notes.org/tfmt-0002/" title="Tool for scientific thought" uri="https://www.forester-notes.org/tfmt-0002/" display-uri="https://www.forester-notes.org/tfmt-0002/" type="local">tool</fr:link> that aims to bring together multiple projects over a very long period of time are somewhat different:</html:strong> many distinct packages of notation will be used across the body of work, and it is not possible to fix a single global notation package.</html:p>
                    <html:p>Indeed, it is not reasonable to expect that all notes within a person’s mathematical life shall share the same notations, and in many cases, it would moreover be necessary for the names of the macros associated to these notations to clash. This can happen because two projects are orthogonal, or it can happen as the author’s tastes change over time — and it is not reasonable for such a tool to force enormous and weighty refactorings (touching thousands or tens of thousands of notes) every time the author’s taste changes. The need for arduous refactorings of this kind is one of the main ways that large mathematical projects tend to collapse under their own weight.</html:p>
                    <html:p><html:strong>It follows that any <fr:link href="https://www.forester-notes.org/tfmt-0002/" title="Tool for scientific thought" uri="https://www.forester-notes.org/tfmt-0002/" display-uri="https://www.forester-notes.org/tfmt-0002/" type="local">tool for thought</fr:link> whose support for mathematical notations involves a globally-defined macro package is inadequate for mathematical uses.</html:strong> On the other hand, it is also not reasonable to require the author to define all their macros in each note: notes tend to be small, and there will always be large clusters of notes that share the same notations — and for which the small refactoring tasks involved when notations change are a positive feature rather than a negative one, as one of the goals of a cluster is to accumulate cohesion.</html:p>
                    <html:p>
                      <html:strong>Therefore, the precise requirement for macro library support is as follows:</html:strong>
                    </html:p>
                    <html:ol><html:li>The author must be able to define (in their own files) multiple notational macro libraries.</html:li>
  <html:li>A given note must be able to specify which macro libraries (if any) it employs.</html:li></html:ol>
                    <html:p>Finally, careful attention must be paid to the interaction between the above requirements and the <html:em>transclusion</html:em> of mathematical notes: a transcluded note must be rendered with respect to its <html:em>own</html:em> macro library, and not that of the parent note.</html:p>
                  </fr:mainmatter>
                </fr:tree>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors>
                      <fr:author>
                        <fr:link href="https://www.forester-notes.org/jonmsterling/" title="Jon Sterling" uri="https://www.forester-notes.org/jonmsterling/" display-uri="https://www.forester-notes.org/jonmsterling/" type="local">Jon Sterling</fr:link>
                      </fr:author>
                    </fr:authors>
                    <fr:date>
                      <fr:year>2023</fr:year>
                      <fr:month>1</fr:month>
                      <fr:day>7</fr:day>
                    </fr:date>
                    <fr:uri>https://www.forester-notes.org/tfmt-000G/</fr:uri>
                    <fr:display-uri>https://www.forester-notes.org/tfmt-000G/</fr:display-uri>
                    <fr:route>https://www.forester-notes.org/tfmt-000G/</fr:route>
                    <fr:title text="Mathematical diagrams and macro support">Mathematical diagrams and macro support</fr:title>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>A basic requirement of <fr:link href="https://www.forester-notes.org/tfmt-0002/" title="Tool for scientific thought" uri="https://www.forester-notes.org/tfmt-0002/" display-uri="https://www.forester-notes.org/tfmt-0002/" type="local">tools for scientific thought</fr:link> is to support the rendering of mathematical diagrams. What kinds of diagrams are needed depends, of course, on the problem domain: for my own work, the main diagram-forms needed are <html:em>commutative diagrams</html:em> and <html:em>string diagrams</html:em>.</html:p>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:author>
                            <fr:link href="https://www.forester-notes.org/jonmsterling/" title="Jon Sterling" uri="https://www.forester-notes.org/jonmsterling/" display-uri="https://www.forester-notes.org/jonmsterling/" type="local">Jon Sterling</fr:link>
                          </fr:author>
                        </fr:authors>
                        <fr:date>
                          <fr:year>2023</fr:year>
                          <fr:month>1</fr:month>
                          <fr:day>7</fr:day>
                        </fr:date>
                        <fr:uri>https://www.forester-notes.org/tfmt-000P/</fr:uri>
                        <fr:display-uri>https://www.forester-notes.org/tfmt-000P/</fr:display-uri>
                        <fr:route>https://www.forester-notes.org/tfmt-000P/</fr:route>
                        <fr:title text="Mathematical expressions and diagrams are tightly coupled">Mathematical expressions and diagrams are tightly coupled</fr:title>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>Although diagramming may seem to non-mathematicians to be somewhat orthogonal to notational macro support, in <html:strong>reality any solution to the diagramming problem must be tightly and natively integrated with the rendering of mathematical expressions</html:strong> — simply because most diagrams involve mathematical expressions, and these invariably involve notational macros. The reason PGF/TikZ has been so successful is that it respects this tight coupling.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                    <html:p>The situation for <html:em>hypertext</html:em> mathematical tools is somewhat less advanced than that of LaTeX and PFG/TikZ, but there are several options which we discuss below.</html:p>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:author>
                            <fr:link href="https://www.forester-notes.org/jonmsterling/" title="Jon Sterling" uri="https://www.forester-notes.org/jonmsterling/" display-uri="https://www.forester-notes.org/jonmsterling/" type="local">Jon Sterling</fr:link>
                          </fr:author>
                        </fr:authors>
                        <fr:date>
                          <fr:year>2023</fr:year>
                          <fr:month>1</fr:month>
                          <fr:day>7</fr:day>
                        </fr:date>
                        <fr:uri>https://www.forester-notes.org/tfmt-000J/</fr:uri>
                        <fr:display-uri>https://www.forester-notes.org/tfmt-000J/</fr:display-uri>
                        <fr:route>https://www.forester-notes.org/tfmt-000J/</fr:route>
                        <fr:title text="Commutative diagrams in KaTeX">Commutative diagrams in KaTeX</fr:title>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p><fr:link href="https://katex.org/" type="external"><fr:tex display="inline"><![CDATA[\KaTeX ]]></fr:tex></fr:link> has a very rudimentary support for commutative diagrams built-in, by emulating the <html:code><![CDATA[ amscd]]></html:code> package. Unfortunately, this support is completely inadequate for usage by mathematicians today:</html:p>
                        <html:ol><html:li><html:strong>Only square diagram shapes are supported:</html:strong> commutative diagrams in general have diagonal and curved lines, but these are not supported.</html:li>
  <html:li><html:strong>The rendering of the limited gamut of supported commutative diagrams is broken</html:strong> in most browsers (at least Safari and Firefox). In particular, lines are jagged as they are pieced together from pipes and arrows that are subtly misaligned.</html:li></html:ol>
                      </fr:mainmatter>
                    </fr:tree>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:author>
                            <fr:link href="https://www.forester-notes.org/jonmsterling/" title="Jon Sterling" uri="https://www.forester-notes.org/jonmsterling/" display-uri="https://www.forester-notes.org/jonmsterling/" type="local">Jon Sterling</fr:link>
                          </fr:author>
                        </fr:authors>
                        <fr:date>
                          <fr:year>2023</fr:year>
                          <fr:month>1</fr:month>
                          <fr:day>7</fr:day>
                        </fr:date>
                        <fr:uri>https://www.forester-notes.org/tfmt-000K/</fr:uri>
                        <fr:display-uri>https://www.forester-notes.org/tfmt-000K/</fr:display-uri>
                        <fr:route>https://www.forester-notes.org/tfmt-000K/</fr:route>
                        <fr:title text="Commutative diagrams in MathJax">Commutative diagrams in MathJax</fr:title>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>Like <fr:link href="https://www.forester-notes.org/tfmt-000J/" title="Commutative diagrams in KaTeX" uri="https://www.forester-notes.org/tfmt-000J/" display-uri="https://www.forester-notes.org/tfmt-000J/" type="local"><fr:tex display="inline"><![CDATA[\KaTeX ]]></fr:tex></fr:link>, <fr:link href="https://www.mathjax.org/" type="external">MathJax</fr:link> supports the <html:code><![CDATA[ amscd]]></html:code> commands for rudimentary square-shaped commutative diagrams. Unlike the <fr:link href="https://www.forester-notes.org/tfmt-000J/" title="Commutative diagrams in KaTeX" uri="https://www.forester-notes.org/tfmt-000J/" display-uri="https://www.forester-notes.org/tfmt-000J/" type="local"><fr:tex display="inline"><![CDATA[\KaTeX ]]></fr:tex> implementation</fr:link> of <html:code><![CDATA[ amscd]]></html:code>, the supported diagrams are rendered correctly without jagged lines; this means that for the vanishingly small population of mathematicians whose needs are limited to square-shaped diagrams, MathJax’s builtin support is viable.</html:p>
                        <html:p>On the other hand, there is a more advanced option available for users of MathJax: the <fr:link href="https://github.com/sonoisa/XyJax-v3" type="external">XyJax-v3 plugin</fr:link>, which adds support for the full gamut of <html:code><![CDATA[ xypic]]></html:code> diagrams to MathJax. Notably, this plugin is used by the <fr:link href="https://www.forester-notes.org/stacks-project/" title="The Stacks project" uri="https://www.forester-notes.org/stacks-project/" display-uri="https://www.forester-notes.org/stacks-project/" type="local">Stacks Project</fr:link>. The only downside of the <html:code><![CDATA[ xypic]]></html:code> support is that it interacts poorly with accessibility features (but no worse than any other solution to rendering non-trivial commutative diagrams), and diagrams created using <html:code><![CDATA[ xypic]]></html:code> look considerably less professional than those created using <html:code><![CDATA[ tikz]]></html:code> or <fr:link href="https://www.forester-notes.org/tfmt-000I/" title="The quiver interactive diagramming tool" uri="https://www.forester-notes.org/tfmt-000I/" display-uri="https://www.forester-notes.org/tfmt-000I/" type="local">quiver</fr:link>.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                    <html:p>Both <fr:link href="https://www.forester-notes.org/tfmt-000J/" title="Commutative diagrams in KaTeX" uri="https://www.forester-notes.org/tfmt-000J/" display-uri="https://www.forester-notes.org/tfmt-000J/" type="local"><fr:tex display="inline"><![CDATA[\KaTeX ]]></fr:tex></fr:link> and <fr:link href="https://www.forester-notes.org/tfmt-000K/" title="Commutative diagrams in MathJax" uri="https://www.forester-notes.org/tfmt-000K/" display-uri="https://www.forester-notes.org/tfmt-000K/" type="local">MathJax</fr:link> have the benefit that diagrams created using them will respect the ambient macro package with which the tool has been configured; therefore, if one looks past the rudimentary nature of the support for commutative diagrams, our main requirement is indeed satisfied. Another tool worth discussing is <fr:link href="https://www.forester-notes.org/tfmt-000I/" title="The quiver interactive diagramming tool" uri="https://www.forester-notes.org/tfmt-000I/" display-uri="https://www.forester-notes.org/tfmt-000I/" type="local">quiver</fr:link>.</html:p>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:author>
                            <fr:link href="https://www.forester-notes.org/jonmsterling/" title="Jon Sterling" uri="https://www.forester-notes.org/jonmsterling/" display-uri="https://www.forester-notes.org/jonmsterling/" type="local">Jon Sterling</fr:link>
                          </fr:author>
                        </fr:authors>
                        <fr:date>
                          <fr:year>2023</fr:year>
                          <fr:month>1</fr:month>
                          <fr:day>7</fr:day>
                        </fr:date>
                        <fr:uri>https://www.forester-notes.org/tfmt-000I/</fr:uri>
                        <fr:display-uri>https://www.forester-notes.org/tfmt-000I/</fr:display-uri>
                        <fr:route>https://www.forester-notes.org/tfmt-000I/</fr:route>
                        <fr:title text="The quiver interactive diagramming tool">The quiver interactive diagramming tool</fr:title>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>The <fr:link href="https://q.uiver.app/" type="external">quiver</fr:link> application is an excellent graphical interface for interactively constructing commutative diagrams, with very high-quality rendering.</html:p>
                        <html:p>One positive aspect of quiver is that it is possible to load it with <fr:link href="https://www.forester-notes.org/tfmt-000F/" title="Notational macros in mathematical authoring" uri="https://www.forester-notes.org/tfmt-000F/" display-uri="https://www.forester-notes.org/tfmt-000F/" type="local">your own macro library</fr:link>, so that diagrams involving custom notations render correctly in the graphical interface. The downside of the approach here is that the macro library must be located on a publicly accessible URL that can be pasted into the quiver interface.</html:p>
                        <html:p>Quiver also offers excellent support for embedding the resulting diagrams in existing LaTeX documents: after creating your diagram, you can request a LaTeX snippet that includes a URL which allows you to resume editing your diagram. For example, the following code corresponds to the URL <html:code>https://q.uiver.app/?q=WzAsMixbMCwwLCJBIl0sWzEsMCwiQiJdLFswLDFdXQ==</html:code>:</html:p>
                        <html:pre><![CDATA[% https://q.uiver.app/#q=WzAsMixbMCwwLCJBIl0sWzEsMCwiQiJdLFswLDFdXQ==
\[\begin{tikzcd}
  A & B
  \arrow[from=1-1, to=1-2]
\end{tikzcd}\]]]></html:pre>
                        <html:p><html:strong>Unfortunately, the support for embedding quiver diagrams in HTML documents is currently inadequate for professional use.</html:strong> The HTML embed code provided simply produces an <html:code><![CDATA[<iframe>]]></html:code>, and it is not possible to style the interior of the embedded frame (e.g. to change the background color, or decrease the margins):</html:p>
                        <html:pre><![CDATA[<!-- https://q.uiver.app/?q=WzAsMixbMCwwLCJBIl0sWzEsMCwiQiJdLFswLDFdXQ== -->
<iframe class="quiver-embed" src="https://q.uiver.app/?q=WzAsMixbMCwwLCJBIl0sWzEsMCwiQiJdLFswLDFdXQ==&embed" width="304" height="176" style="border-radius: 8px; border: none;"></iframe>]]></html:pre>
                        <html:p>Therefore, we must conclude that although quiver is an excellent tool for authors of traditional LaTeX documents, it is not currently a candidate for inclusion in tools for hypertext mathematical authoring.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                    <html:p>Because of the currently <fr:link href="https://www.forester-notes.org/tfmt-000I/" title="The quiver interactive diagramming tool" uri="https://www.forester-notes.org/tfmt-000I/" display-uri="https://www.forester-notes.org/tfmt-000I/" type="local">inadequate support of quiver</fr:link> for embedding diagrams in hypertext settings, we cannot consider it any further. There is a final option that turns out to be the most used in practice: generating SVG images statically from embedded LaTeX code.</html:p>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:author>
                            <fr:link href="https://www.forester-notes.org/jonmsterling/" title="Jon Sterling" uri="https://www.forester-notes.org/jonmsterling/" display-uri="https://www.forester-notes.org/jonmsterling/" type="local">Jon Sterling</fr:link>
                          </fr:author>
                        </fr:authors>
                        <fr:date>
                          <fr:year>2023</fr:year>
                          <fr:month>1</fr:month>
                          <fr:day>7</fr:day>
                        </fr:date>
                        <fr:uri>https://www.forester-notes.org/tfmt-000L/</fr:uri>
                        <fr:display-uri>https://www.forester-notes.org/tfmt-000L/</fr:display-uri>
                        <fr:route>https://www.forester-notes.org/tfmt-000L/</fr:route>
                        <fr:title text="Generating images statically using LaTeX">Generating images statically using LaTeX</fr:title>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>Because of the <fr:link href="https://www.forester-notes.org/tfmt-000J/" title="Commutative diagrams in KaTeX" uri="https://www.forester-notes.org/tfmt-000J/" display-uri="https://www.forester-notes.org/tfmt-000J/" type="local">general</fr:link> <fr:link href="https://www.forester-notes.org/tfmt-000K/" title="Commutative diagrams in MathJax" uri="https://www.forester-notes.org/tfmt-000K/" display-uri="https://www.forester-notes.org/tfmt-000K/" type="local">inadequacy</fr:link> <fr:link href="https://www.forester-notes.org/tfmt-000I/" title="The quiver interactive diagramming tool" uri="https://www.forester-notes.org/tfmt-000I/" display-uri="https://www.forester-notes.org/tfmt-000I/" type="local">of</fr:link> the other available tools, most authors of hypertext mathematics with diagramming needs tend to rely on the static generation of images from LaTeX code using a local LaTeX toolchain. It is not difficult to instrument <fr:link href="https://www.pandoc.org/" type="external">pandoc</fr:link> with a <fr:link href="https://pandoc.org/lua-filters.html" type="external">Lua filter to render tikz code to SVG images</fr:link>.</html:p>
                        <html:p>There are also a variety of other tools that do something similar, which tend to be employed in static site generation:</html:p>
                        <html:ul><html:li><fr:link href="https://github.com/paolobrasolin/antex" type="external">antex</fr:link> by <fr:link href="https://www.forester-notes.org/paolobrasolin/" title="Paolo Brasolin" uri="https://www.forester-notes.org/paolobrasolin/" display-uri="https://www.forester-notes.org/paolobrasolin/" type="local">Paolo Brasolin</fr:link> is used by <fr:link href="https://github.com/paolobrasolin/krater" type="external">Krater</fr:link> as well as <fr:link href="https://github.com/paolobrasolin/jekyll-sheafy" type="external">jekyll-sheafy</fr:link>, both via <fr:link href="https://github.com/paolobrasolin/jekyll-antex" type="external">jekyll-antex</fr:link>.</html:li>
  <html:li><fr:link href="https://www.forester-notes.org/index/" title="Forester" uri="https://www.forester-notes.org/index/" display-uri="https://www.forester-notes.org/index/" type="local">Forester</fr:link> by <fr:link href="https://www.forester-notes.org/jonmsterling/" title="Jon Sterling" uri="https://www.forester-notes.org/jonmsterling/" display-uri="https://www.forester-notes.org/jonmsterling/" type="local">Jonathan Sterling</fr:link> is used by the present web site.</html:li></html:ul>
                        <html:p>The basic architecture of such a tool is to scan for LaTeX blocks, and then identify them by a <html:em>hash</html:em> of their contents. This hash is used as a filename for <html:code><![CDATA[.tex]]></html:code> files, which are compiled to <html:code><![CDATA[ .dvi]]></html:code> and thence to <html:code><![CDATA[.svg]]></html:code> using the <html:code><![CDATA[ dvisvgm]]></html:code> tool; the resulting file is then embedded in HTML using an <html:code><![CDATA[<img>]]></html:code> tag. Alternatively,  is also possible to transclude the resulting <html:code><![CDATA[<svg>]]></html:code> element directly, but then <fr:link href="https://github.com/paolobrasolin/jekyll-antex/issues/26" type="external">one must be careful to rename all identifiers in the <html:code><![CDATA[<svg>]]></html:code> element uniquely</fr:link>, as it is possible for two different <html:code><![CDATA[<svg>]]></html:code> elements on a single page to interfere one each other.</html:p>
                        <html:p>Both <fr:link href="https://github.com/paolobrasolin/antex" type="external">antex</fr:link> and <fr:link href="https://www.forester-notes.org/index/" title="Forester" uri="https://www.forester-notes.org/index/" display-uri="https://www.forester-notes.org/index/" type="local">Forester</fr:link> support passing a macro library to be used when rendering. Both <fr:link href="https://github.com/paolobrasolin/jekyll-sheafy" type="external">jekyll-sheafy</fr:link> and <fr:link href="https://www.forester-notes.org/index/" title="Forester" uri="https://www.forester-notes.org/index/" display-uri="https://www.forester-notes.org/index/" type="local">Forester</fr:link> set their macro libraries on a page-local basis.</html:p>
                        <html:p>A serious downside of generating images from LaTeX code is the negative impact on accessibility tools. This seems only slightly mitigated by the transclusion of the <html:code><![CDATA[<svg>]]></html:code> element as opposed to using <html:code><![CDATA[<img>]]></html:code>. Ultimately accessibility for mathematical diagrams remains an unsolved problem, and it does not seem that the existing discussion on accessibility of hypertext mathematics has much to say about this problem.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                    <html:p>Finally, we comment on more principled approaches using web standards such as SVG and MathML that we hope will take form in the future.</html:p>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:author>
                            <fr:link href="https://www.forester-notes.org/jonmsterling/" title="Jon Sterling" uri="https://www.forester-notes.org/jonmsterling/" display-uri="https://www.forester-notes.org/jonmsterling/" type="local">Jon Sterling</fr:link>
                          </fr:author>
                        </fr:authors>
                        <fr:date>
                          <fr:year>2023</fr:year>
                          <fr:month>1</fr:month>
                          <fr:day>7</fr:day>
                        </fr:date>
                        <fr:uri>https://www.forester-notes.org/tfmt-000N/</fr:uri>
                        <fr:display-uri>https://www.forester-notes.org/tfmt-000N/</fr:display-uri>
                        <fr:route>https://www.forester-notes.org/tfmt-000N/</fr:route>
                        <fr:title text="SVG is not an authoring language">SVG is not an authoring language</fr:title>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>SVG is an extremely powerful low-level language for vector images and diagrams with a variety of applications. Unfortunately, it is not reasonable to compose such diagrams directly in SVG as an author: in contrast to programmatic tools like PGF/TikZ, all positions in SVG are fixed, and there is no possibility to impose important abstractions (e.g. the concept of a line that is “glued” to a pair of nodes). On the other hand, there are many advantages to SVG, including the possibility to <fr:link href="https://www.forester-notes.org/tfmt-000M/" title="Towards mixing SVG and MathML in hypertext mathematics" uri="https://www.forester-notes.org/tfmt-000M/" display-uri="https://www.forester-notes.org/tfmt-000M/" type="local">intermix SVG with other formats such as MathML</fr:link>.</html:p>
                        <html:p>Because of the low level of abstraction, SVG images that appear in practice today are nearly always produced by a tool or compiler from an input that is defined at a much higher level of abstraction.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:author>
                            <fr:link href="https://www.forester-notes.org/jonmsterling/" title="Jon Sterling" uri="https://www.forester-notes.org/jonmsterling/" display-uri="https://www.forester-notes.org/jonmsterling/" type="local">Jon Sterling</fr:link>
                          </fr:author>
                        </fr:authors>
                        <fr:date>
                          <fr:year>2023</fr:year>
                          <fr:month>1</fr:month>
                          <fr:day>7</fr:day>
                        </fr:date>
                        <fr:uri>https://www.forester-notes.org/tfmt-000O/</fr:uri>
                        <fr:display-uri>https://www.forester-notes.org/tfmt-000O/</fr:display-uri>
                        <fr:route>https://www.forester-notes.org/tfmt-000O/</fr:route>
                        <fr:title text="MathML is not an authoring language">MathML is not an authoring language</fr:title>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>Despite some preliminary support for structured representation of high-level mathematical idioms via <fr:link href="https://www.w3.org/TR/MathML/chapter4.html" type="external">Content MathML</fr:link>, MathML is not intended to be an authoring language: it is a target language for other tools. Moreover, the content dictionaries (collections of basic elements) of Content MathML are chosen to pertain to the needs of grade-school and secondary-school mathematics and not at all to the needs of professional mathematics:</html:p>
                        <html:blockquote>
                          <html:p>The base set of content elements is chosen to be adequate for simple coding of most of the formulas used from kindergarten to the end of high school in the United States, and probably beyond through the first two years of college, that is up to A-Level or Baccalaureate level in Europe.</html:p>
                        </html:blockquote>
                        <html:p>Nonetheless, it seems that the goal was for the content dictionaries of Content MathML to be extended by the individual “communities of practice” to meet their specific needs:</html:p>
                        <html:blockquote>
                          <html:p>Hence, it is not in general possible for a user agent to automatically determine the proper interpretation for <html:code><![CDATA[ definitionURL]]></html:code> values without further information about the context and community of practice in which the MathML instance occurs.</html:p>
                        </html:blockquote>
                        <html:blockquote>
                          <html:p>However, in contexts where highly precise semantics are required (e.g. communication between computer algebra systems, within formal systems such as theorem provers, etc.) it is the responsibility of the relevant community of practice to verify, extend or replace definitions provided by OpenMath CDs as appropriate.</html:p>
                        </html:blockquote>
                        <html:p>It seems that there is a possibility <fr:link href="https://www.data2type.de/xml-xslt-xslfo/math-ml/styles-transformations/xslt-with-mathml/create-macros" type="external">to use XSLT</fr:link> to define your own semantic notational macros, and this certainly bears further investigation. Due to the mutually reinforcing combination of historically poor vendor support and near-absolute isolation from actual communities of practice, i.e. working mathematicians, sophisticated direct use of MathML has never caught on. On the other hand, there is a great deal of MathML on the web today in the form of <fr:link href="https://www.mathjax.org/" type="external">MathJax</fr:link> and <fr:link href="https://www.katex.org/" type="external"><fr:tex display="inline"><![CDATA[\KaTeX ]]></fr:tex></fr:link> output — tools which are not only currently necessary for obtaining consistent (and professional-quality) rendering of mathematics across browsers, but also are necessary for authoring due to their more succinct markup and easy support for macros.</html:p>
                        <html:p>It seems that the future of MathML is brighter than it was in the past, as we are finally seeing a vital project to improve vendor support led by <fr:link href="https://mathml.igalia.com/" type="external">Igalia</fr:link>. Currently, even browsers that support the MathML standard do so with completely inadequate and unprofessional rendering quality, which means that tools like MathJax and <fr:tex display="inline"><![CDATA[\KaTeX ]]></fr:tex> may remain necessary for some time even after vendors finally support MathML. But we hope that with improved vendor support comes new and productive experiments with using semantic tools like XSLT to handle macros, etc. Unfortunately, given the <fr:link href="https://www.forester-notes.org/tfmt-000P/" title="Mathematical expressions and diagrams are tightly coupled" uri="https://www.forester-notes.org/tfmt-000P/" display-uri="https://www.forester-notes.org/tfmt-000P/" type="local">tight coupling between the authoring of mathematical expressions and of mathematical diagrams</fr:link>, this transformation will not take place unless high-level hypertext-compatible tools for drawing diagrams are simultaneously developed.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:author>
                            <fr:link href="https://www.forester-notes.org/jonmsterling/" title="Jon Sterling" uri="https://www.forester-notes.org/jonmsterling/" display-uri="https://www.forester-notes.org/jonmsterling/" type="local">Jon Sterling</fr:link>
                          </fr:author>
                        </fr:authors>
                        <fr:date>
                          <fr:year>2023</fr:year>
                          <fr:month>1</fr:month>
                          <fr:day>7</fr:day>
                        </fr:date>
                        <fr:uri>https://www.forester-notes.org/tfmt-000M/</fr:uri>
                        <fr:display-uri>https://www.forester-notes.org/tfmt-000M/</fr:display-uri>
                        <fr:route>https://www.forester-notes.org/tfmt-000M/</fr:route>
                        <fr:title text="Towards mixing SVG and MathML in hypertext mathematics">Towards mixing SVG and MathML in hypertext mathematics</fr:title>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>The <fr:link href="https://www.w3.org/TR/mathml-core/" type="external">W3C MathML Core Working Draft</fr:link> points out that MathML can be embedded into <html:code><![CDATA[<svg>]]></html:code> elements using the <html:code><![CDATA[<foreignObject>]]></html:code> element. This is a great strength of the modularity of the model, and I believe that in the future, we will be able to use this as a way to render accessible mathematical diagrams in hypertext.</html:p>
                        <html:p>What is missing? Essentially the current issue preventing widespread use of this method is the fact that neither SVG nor MathML is an authoring language: they are <fr:link href="https://www.forester-notes.org/tfmt-000N/" title="SVG is not an authoring language" uri="https://www.forester-notes.org/tfmt-000N/" display-uri="https://www.forester-notes.org/tfmt-000N/" type="local">both</fr:link> <fr:link href="https://www.forester-notes.org/tfmt-000O/" title="MathML is not an authoring language" uri="https://www.forester-notes.org/tfmt-000O/" display-uri="https://www.forester-notes.org/tfmt-000O/" type="local">currently too low-level</fr:link> to be seriously used by authors.</html:p>
                        <html:p>For exactly so long as diagrams must be drawn using LaTeX-based tools rather than something MathML-compatible, it would be non-negotiable for the support of notational macros to itself be based in LaTeX syntax (e.g. as in both <fr:tex display="inline"><![CDATA[\KaTeX ]]></fr:tex> and MathJax). But it is worth imagining a future in which mathematical diagrams are drawn using a high-level interface to SVG, and then a pure MathML approach to notational macros becomes quite viable. This is not currently the world we live in, but it is something to hope for.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                  </fr:mainmatter>
                </fr:tree>
              </fr:mainmatter>
            </fr:tree>
          </fr:mainmatter>
        </fr:tree>
        <fr:tree show-metadata="true" expanded="false" toc="false" numbered="false">
          <fr:frontmatter>
            <fr:authors>
              <fr:author>
                <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
              </fr:author>
            </fr:authors>
            <fr:date>
              <fr:year>2022</fr:year>
              <fr:month>12</fr:month>
              <fr:day>25</fr:day>
            </fr:date>
            <fr:uri>https://www.jonmsterling.com/jms-0047/</fr:uri>
            <fr:display-uri>jms-0047</fr:display-uri>
            <fr:route>/jms-0047/</fr:route>
            <fr:title text="Notes on duploid theory">Notes on duploid theory</fr:title>
          </fr:frontmatter>
          <fr:mainmatter>
            <html:p>This is an investigation of <fr:link href="/guillaumemunch/" title="Guillaume Munch-Maccagnoni" uri="https://www.jonmsterling.com/guillaumemunch/" display-uri="guillaumemunch" type="local">Guillaume Munch-Maccagnoni</fr:link>’s <fr:link href="/munch-2014/" title="Models of a non-associative composition" uri="https://www.jonmsterling.com/munch-2014/" display-uri="munch-2014" type="local">theory of duploids</fr:link>, working in the setting of <fr:link href="/jms-0046/" title="Conventions of univalent mathematics" uri="https://www.jonmsterling.com/jms-0046/" display-uri="jms-0046" type="local">univalent foundations</fr:link>. Most of what we do could be done in non-univalent foundations; the purpose of univalence is to sharpen our perspective on the relationship between structure and property in duploid theory.</html:p>
            <fr:tree show-metadata="false">
              <fr:frontmatter>
                <fr:authors>
                  <fr:author>
                    <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                  </fr:author>
                </fr:authors>
                <fr:date>
                  <fr:year>2022</fr:year>
                  <fr:month>12</fr:month>
                  <fr:day>26</fr:day>
                </fr:date>
                <fr:uri>https://www.jonmsterling.com/jms-0046/</fr:uri>
                <fr:display-uri>jms-0046</fr:display-uri>
                <fr:route>/jms-0046/</fr:route>
                <fr:title text="Conventions of univalent mathematics">Conventions of univalent mathematics</fr:title>
                <fr:taxon>Convention</fr:taxon>
              </fr:frontmatter>
              <fr:mainmatter>
                <html:p>A <html:em>category</html:em> has hom <html:em>sets</html:em>, and is always assumed to be univalent / Rezk-complete; we use the term <html:em>precategory</html:em> to refer to a structure that has hom sets and a type of objects with no univalence condition.</html:p>
              </fr:mainmatter>
            </fr:tree>
            <fr:tree show-metadata="false">
              <fr:frontmatter>
                <fr:authors>
                  <fr:author>
                    <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                  </fr:author>
                </fr:authors>
                <fr:date>
                  <fr:year>2022</fr:year>
                  <fr:month>12</fr:month>
                  <fr:day>26</fr:day>
                </fr:date>
                <fr:uri>https://www.jonmsterling.com/jms-004C/</fr:uri>
                <fr:display-uri>jms-004C</fr:display-uri>
                <fr:route>/jms-004C/</fr:route>
                <fr:title text="Deductive systems">Deductive systems</fr:title>
              </fr:frontmatter>
              <fr:mainmatter>
                <html:p>The most basic construct of duploid theory is a <fr:link href="/jms-0048/" title="Deductive system" uri="https://www.jonmsterling.com/jms-0048/" display-uri="jms-0048" type="local">deductive system</fr:link>, a variant on the concept of a <html:em>precategory</html:em> that relaxes the associativity axiom to reflect the evaluation order of execution in effectful programming languages and proof theories. In this section, we define deductive systems and develop their basic properties.</html:p>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors>
                      <fr:author>
                        <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                      </fr:author>
                    </fr:authors>
                    <fr:date>
                      <fr:year>2022</fr:year>
                      <fr:month>12</fr:month>
                      <fr:day>25</fr:day>
                    </fr:date>
                    <fr:uri>https://www.jonmsterling.com/jms-0048/</fr:uri>
                    <fr:display-uri>jms-0048</fr:display-uri>
                    <fr:route>/jms-0048/</fr:route>
                    <fr:title text="Deductive system">Deductive system</fr:title>
                    <fr:taxon>Definition</fr:taxon>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>A deductive system <fr:tex display="inline"><![CDATA[\mathcal {D}]]></fr:tex> is given by a type <fr:tex display="inline"><![CDATA[\mathbf {ob}_{\mathcal {D}}]]></fr:tex> of “objects”, and for every pair <fr:tex display="inline"><![CDATA[A,B\in \mathbf {ob}_{\mathcal {D}}]]></fr:tex> a set <fr:tex display="inline"><![CDATA[\mathbf {hom}_{\mathcal {D}}{\mathopen {}\left (A,B\right )\mathclose {}}]]></fr:tex> of <html:em>morphisms</html:em>, together with cut and identity laws:</html:p>
                    <html:ol><html:li><html:strong>cut:</html:strong> for each <fr:tex display="inline"><![CDATA[A,B,C\in \mathbf {ob}_{\mathcal {D}}]]></fr:tex> and <fr:tex display="inline"><![CDATA[f\in  \mathbf {hom}_{\mathcal {D}}{\mathopen {}\left (A,B\right )\mathclose {}}]]></fr:tex> and <fr:tex display="inline"><![CDATA[g\in \mathbf {hom}_{\mathcal {D}}{\mathopen {}\left (B,C\right )\mathclose {}}]]></fr:tex>, a morphism <fr:tex display="inline"><![CDATA[f;g\in \mathbf {hom}_{\mathcal {D}}{\mathopen {}\left (A,C\right )\mathclose {}}]]></fr:tex>.</html:li>

  <html:li><html:strong>identity:</html:strong> for each <fr:tex display="inline"><![CDATA[A\in \mathbf {ob}_{\mathcal {D}}]]></fr:tex>, a morphism <fr:tex display="inline"><![CDATA[1_{A}\in \mathbf {hom}_{\mathcal {D}}{\mathopen {}\left (A,A\right )\mathclose {}}]]></fr:tex> such that <fr:tex display="inline"><![CDATA[1_{A};f = f]]></fr:tex> and <fr:tex display="inline"><![CDATA[f;1_{B}]]></fr:tex> for each <fr:tex display="inline"><![CDATA[f\in \mathbf {hom}_{\mathcal {D}}{\mathopen {}\left (A,B\right )\mathclose {}}]]></fr:tex>.</html:li></html:ol>
                  </fr:mainmatter>
                </fr:tree>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors>
                      <fr:author>
                        <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                      </fr:author>
                    </fr:authors>
                    <fr:date>
                      <fr:year>2022</fr:year>
                      <fr:month>12</fr:month>
                      <fr:day>25</fr:day>
                    </fr:date>
                    <fr:uri>https://www.jonmsterling.com/jms-0049/</fr:uri>
                    <fr:display-uri>jms-0049</fr:display-uri>
                    <fr:route>/jms-0049/</fr:route>
                    <fr:title text="Deductive system notation">Deductive system notation</fr:title>
                    <fr:taxon>Notation</fr:taxon>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>Given a deductive system <fr:tex display="inline"><![CDATA[\mathcal {D}]]></fr:tex>, we will write <fr:tex display="inline"><![CDATA[A\in \mathcal {D}]]></fr:tex> to mean <fr:tex display="inline"><![CDATA[A\in \mathbf {ob}_{\mathcal {D}}]]></fr:tex> and <fr:tex display="inline"><![CDATA[f:A\mathrel {{\vdash }_{\mathcal {D}}} B]]></fr:tex> when <fr:tex display="inline"><![CDATA[f\in \mathbf {hom}_{\mathcal {D}}{\mathopen {}\left (A,B\right )\mathclose {}}]]></fr:tex>. When <fr:tex display="inline"><![CDATA[\mathcal {D}]]></fr:tex> is clear from context, we will write <fr:tex display="inline"><![CDATA[\vdash ]]></fr:tex> instead of <fr:tex display="inline"><![CDATA[\mathrel {{\vdash }_{\mathcal {D}}}]]></fr:tex>.</html:p>
                  </fr:mainmatter>
                </fr:tree>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors>
                      <fr:author>
                        <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                      </fr:author>
                    </fr:authors>
                    <fr:date>
                      <fr:year>2022</fr:year>
                      <fr:month>12</fr:month>
                      <fr:day>26</fr:day>
                    </fr:date>
                    <fr:uri>https://www.jonmsterling.com/jms-004A/</fr:uri>
                    <fr:display-uri>jms-004A</fr:display-uri>
                    <fr:route>/jms-004A/</fr:route>
                    <fr:title text="Linear and thunkable maps">Linear and thunkable maps</fr:title>
                    <fr:taxon>Definition</fr:taxon>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>Let <fr:tex display="inline"><![CDATA[f:C \vdash  D]]></fr:tex> be a morphism in a <fr:link href="/jms-0048/" title="Deductive system" uri="https://www.jonmsterling.com/jms-0048/" display-uri="jms-0048" type="local">deductive system</fr:link> <fr:tex display="inline"><![CDATA[\mathcal {D}]]></fr:tex>.</html:p>
                    <html:ol><html:li>We say that <fr:tex display="inline"><![CDATA[f]]></fr:tex> is <html:em>linear</html:em> when for all <fr:tex display="inline"><![CDATA[g:B\vdash  C]]></fr:tex> and <fr:tex display="inline"><![CDATA[h:A\vdash  B]]></fr:tex>, we have <fr:tex display="inline"><![CDATA[h;{\mathopen {}\left (g;f\right )\mathclose {}} = {\mathopen {}\left (h;g\right )\mathclose {}};f]]></fr:tex>.</html:li>
  <html:li>We say that <fr:tex display="inline"><![CDATA[f]]></fr:tex> is <html:em>thunkable</html:em> when for all <fr:tex display="inline"><![CDATA[g:D\vdash  E]]></fr:tex> and <fr:tex display="inline"><![CDATA[h : E\vdash  F]]></fr:tex>, we have <fr:tex display="inline"><![CDATA[f;{\mathopen {}\left (g;h\right )\mathclose {}} = {\mathopen {}\left (f;g\right )\mathclose {}};h]]></fr:tex>.</html:li></html:ol>
                  </fr:mainmatter>
                </fr:tree>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors>
                      <fr:author>
                        <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                      </fr:author>
                    </fr:authors>
                    <fr:date>
                      <fr:year>2022</fr:year>
                      <fr:month>12</fr:month>
                      <fr:day>26</fr:day>
                    </fr:date>
                    <fr:uri>https://www.jonmsterling.com/jms-004B/</fr:uri>
                    <fr:display-uri>jms-004B</fr:display-uri>
                    <fr:route>/jms-004B/</fr:route>
                    <fr:title text="Positive and negative objects">Positive and negative objects</fr:title>
                    <fr:taxon>Definition</fr:taxon>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>An object <fr:tex display="inline"><![CDATA[B]]></fr:tex> in a <fr:link href="/jms-0048/" title="Deductive system" uri="https://www.jonmsterling.com/jms-0048/" display-uri="jms-0048" type="local">deductive system</fr:link> <fr:tex display="inline"><![CDATA[\mathcal {D}]]></fr:tex> is called <html:em>positive</html:em> when every map <fr:tex display="inline"><![CDATA[B\vdash  C]]></fr:tex> is <fr:link href="/jms-004A/" title="Linear and thunkable maps" uri="https://www.jonmsterling.com/jms-004A/" display-uri="jms-004A" type="local">linear</fr:link>; it is called <html:em>negative</html:em> when every map <fr:tex display="inline"><![CDATA[A\vdash  B]]></fr:tex> is <fr:link href="/jms-004A/" title="Linear and thunkable maps" uri="https://www.jonmsterling.com/jms-004A/" display-uri="jms-004A" type="local">thunkable</fr:link>.</html:p>
                  </fr:mainmatter>
                </fr:tree>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors>
                      <fr:author>
                        <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                      </fr:author>
                    </fr:authors>
                    <fr:date>
                      <fr:year>2022</fr:year>
                      <fr:month>12</fr:month>
                      <fr:day>26</fr:day>
                    </fr:date>
                    <fr:uri>https://www.jonmsterling.com/jms-004D/</fr:uri>
                    <fr:display-uri>jms-004D</fr:display-uri>
                    <fr:route>/jms-004D/</fr:route>
                    <fr:title text="Characterization of full associativity">Characterization of full associativity</fr:title>
                    <fr:taxon>Lemma</fr:taxon>
                  </fr:frontmatter>
                  <fr:mainmatter><html:p>The following are equivalent for a deductive system <fr:tex display="inline"><![CDATA[\mathcal {D}]]></fr:tex>:</html:p><html:ol><html:li>every map is <fr:link href="/jms-004A/" title="Linear and thunkable maps" uri="https://www.jonmsterling.com/jms-004A/" display-uri="jms-004A" type="local">linear</fr:link>;</html:li>
  <html:li>every map is <fr:link href="/jms-004A/" title="Linear and thunkable maps" uri="https://www.jonmsterling.com/jms-004A/" display-uri="jms-004A" type="local">thunkable</fr:link>;</html:li>
  <html:li>every object is <fr:link href="/jms-004B/" title="Positive and negative objects" uri="https://www.jonmsterling.com/jms-004B/" display-uri="jms-004B" type="local">positive</fr:link>;</html:li>
  <html:li>every object is <fr:link href="/jms-004B/" title="Positive and negative objects" uri="https://www.jonmsterling.com/jms-004B/" display-uri="jms-004B" type="local">negative</fr:link>;</html:li>
  <html:li>the <html:strong>cut</html:strong> law is associative;</html:li>
  <html:li><fr:tex display="inline"><![CDATA[\mathcal {D}]]></fr:tex> is a precategory.</html:li></html:ol>
 
   
   <fr:tree show-metadata="false" toc="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2022</fr:year><fr:month>12</fr:month><fr:day>26</fr:day></fr:date><fr:taxon>Proof</fr:taxon></fr:frontmatter><fr:mainmatter>
  <html:p>Supposing that every map is linear, we must check that each <fr:tex display="inline"><![CDATA[f:A\vdash  B]]></fr:tex> is thunkable. Fixing <fr:tex display="inline"><![CDATA[g:B\vdash  C]]></fr:tex> and <fr:tex display="inline"><![CDATA[h:C\vdash  D]]></fr:tex>, we must check that <fr:tex display="inline"><![CDATA[f;{\mathopen {}\left (g;h\right )\mathclose {}} = {\mathopen {}\left (f;g\right )\mathclose {}};h]]></fr:tex>; as <fr:tex display="inline"><![CDATA[h]]></fr:tex> is assumed linear, the equation holds. The converse holds by identical reasoning.</html:p>

  <html:p>Clearly every object is positive if and only if every map is linear; likewise, every object is negative if and only if every map is thunkable.</html:p>

  <html:p>Finally, when every map is both linear and thunkable, the cut law is associative — but this is exactly the condition that the deductive system give rise to a precategory.</html:p>
</fr:mainmatter></fr:tree>
 
</fr:mainmatter>
                </fr:tree>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors>
                      <fr:author>
                        <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                      </fr:author>
                    </fr:authors>
                    <fr:date>
                      <fr:year>2023</fr:year>
                      <fr:month>4</fr:month>
                      <fr:day>15</fr:day>
                    </fr:date>
                    <fr:uri>https://www.jonmsterling.com/jms-004U/</fr:uri>
                    <fr:display-uri>jms-004U</fr:display-uri>
                    <fr:route>/jms-004U/</fr:route>
                    <fr:title text="Inverses and invertibility in deductive systems">Inverses and invertibility in deductive systems</fr:title>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>Inverses to morphisms in a <fr:link href="/jms-0048/" title="Deductive system" uri="https://www.jonmsterling.com/jms-0048/" display-uri="jms-0048" type="local">deductive system</fr:link> need not be unique due to the general failure of associativity; therefore, we must be careful when speaking of “invertible maps” or “isomorphisms”. It happens that both linear and thunkable inverses <fr:link href="/jms-004N/" title="Linear and thunkable inverses" uri="https://www.jonmsterling.com/jms-004N/" display-uri="jms-004N" type="local">are unique</fr:link>.</html:p>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:author>
                            <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                          </fr:author>
                        </fr:authors>
                        <fr:date>
                          <fr:year>2023</fr:year>
                          <fr:month>4</fr:month>
                          <fr:day>15</fr:day>
                        </fr:date>
                        <fr:uri>https://www.jonmsterling.com/jms-004O/</fr:uri>
                        <fr:display-uri>jms-004O</fr:display-uri>
                        <fr:route>/jms-004O/</fr:route>
                        <fr:title text="Inverses in a deductive system">Inverses in a deductive system</fr:title>
                        <fr:taxon>Definition</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>Let <fr:tex display="inline"><![CDATA[f : A \vdash  B]]></fr:tex> be a morphism in a deductive system <fr:tex display="inline"><![CDATA[\mathcal {D}]]></fr:tex>. An <html:em>inverse</html:em> to <fr:tex display="inline"><![CDATA[f]]></fr:tex> is defined to be a morphism <fr:tex display="inline"><![CDATA[g : B\vdash  A]]></fr:tex> such that <fr:tex display="inline"><![CDATA[f;g = 1_{A}]]></fr:tex> and <fr:tex display="inline"><![CDATA[g;f = 1_{B}]]></fr:tex>.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:author>
                            <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                          </fr:author>
                        </fr:authors>
                        <fr:date>
                          <fr:year>2023</fr:year>
                          <fr:month>4</fr:month>
                          <fr:day>15</fr:day>
                        </fr:date>
                        <fr:uri>https://www.jonmsterling.com/jms-004N/</fr:uri>
                        <fr:display-uri>jms-004N</fr:display-uri>
                        <fr:route>/jms-004N/</fr:route>
                        <fr:title text="Linear and thunkable inverses">Linear and thunkable inverses</fr:title>
                        <fr:taxon>Lemma</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>Let <fr:tex display="inline"><![CDATA[\mathcal {D}]]></fr:tex> be a deductive system, and let <fr:tex display="inline"><![CDATA[f : A\vdash  B]]></fr:tex> be a morphism in <fr:tex display="inline"><![CDATA[\mathcal {D}]]></fr:tex>. Then both the type of (linear, thunkable) <fr:link href="/jms-004O/" title="Inverses in a deductive system" uri="https://www.jonmsterling.com/jms-004O/" display-uri="jms-004O" type="local">inverses</fr:link> of <fr:tex display="inline"><![CDATA[f]]></fr:tex> is a proposition.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:author>
                            <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                          </fr:author>
                        </fr:authors>
                        <fr:date>
                          <fr:year>2023</fr:year>
                          <fr:month>4</fr:month>
                          <fr:day>15</fr:day>
                        </fr:date>
                        <fr:uri>https://www.jonmsterling.com/jms-004R/</fr:uri>
                        <fr:display-uri>jms-004R</fr:display-uri>
                        <fr:route>/jms-004R/</fr:route>
                        <fr:title text="Thunkably and linearly invertible maps">Thunkably and linearly invertible maps</fr:title>
                        <fr:taxon>Definition</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>Let <fr:tex display="inline"><![CDATA[f:A\vdash  B]]></fr:tex> be a morphism in a deductive system <fr:tex display="inline"><![CDATA[\mathcal {D}]]></fr:tex>. We say that <fr:tex display="inline"><![CDATA[f]]></fr:tex> is <html:em>(thunkably, linearly) invertible</html:em> when there exists a <fr:link href="/jms-004N/" title="Linear and thunkable inverses" uri="https://www.jonmsterling.com/jms-004N/" display-uri="jms-004N" type="local">(thunkable, linear) inverse</fr:link> to <fr:tex display="inline"><![CDATA[f]]></fr:tex>.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                  </fr:mainmatter>
                </fr:tree>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors>
                      <fr:author>
                        <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                      </fr:author>
                    </fr:authors>
                    <fr:date>
                      <fr:year>2023</fr:year>
                      <fr:month>4</fr:month>
                      <fr:day>15</fr:day>
                    </fr:date>
                    <fr:uri>https://www.jonmsterling.com/jms-004V/</fr:uri>
                    <fr:display-uri>jms-004V</fr:display-uri>
                    <fr:route>/jms-004V/</fr:route>
                    <fr:title text="Upshift and downshift structures">Upshift and downshift structures</fr:title>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:author>
                            <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                          </fr:author>
                        </fr:authors>
                        <fr:date>
                          <fr:year>2023</fr:year>
                          <fr:month>4</fr:month>
                          <fr:day>15</fr:day>
                        </fr:date>
                        <fr:uri>https://www.jonmsterling.com/jms-004M/</fr:uri>
                        <fr:display-uri>jms-004M</fr:display-uri>
                        <fr:route>/jms-004M/</fr:route>
                        <fr:title text="Upshift structure">Upshift structure</fr:title>
                        <fr:taxon>Definition</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>Let <fr:tex display="inline"><![CDATA[\mathcal {D}]]></fr:tex> be a <fr:link href="/jms-0048/" title="Deductive system" uri="https://www.jonmsterling.com/jms-0048/" display-uri="jms-0048" type="local">deductive system</fr:link> and let <fr:tex display="inline"><![CDATA[A]]></fr:tex> be an object of <fr:tex display="inline"><![CDATA[\mathcal {D}]]></fr:tex>. An <html:em>upshift structure</html:em> for <fr:tex display="inline"><![CDATA[A]]></fr:tex> is defined to be a
  <fr:link href="/jms-004B/" title="Positive and negative objects" uri="https://www.jonmsterling.com/jms-004B/" display-uri="jms-004B" type="local">negative</fr:link> object <fr:tex display="inline"><![CDATA[\mathord {\Uparrow } A]]></fr:tex> and a <fr:link href="/jms-004A/" title="Linear and thunkable maps" uri="https://www.jonmsterling.com/jms-004A/" display-uri="jms-004A" type="local">linear</fr:link> map <fr:tex display="inline"><![CDATA[\mathsf {force}_{A} : \mathord {\Uparrow } A\vdash  A]]></fr:tex> for which there exists a <fr:link href="/jms-004N/" title="Linear and thunkable inverses" uri="https://www.jonmsterling.com/jms-004N/" display-uri="jms-004N" type="local">necessarily unique and thunkable</fr:link> inverse <fr:tex display="inline"><![CDATA[\mathsf {delay}_{A} : A\vdash  \mathord {\Uparrow } A]]></fr:tex>.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:author>
                            <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                          </fr:author>
                        </fr:authors>
                        <fr:date>
                          <fr:year>2023</fr:year>
                          <fr:month>4</fr:month>
                          <fr:day>15</fr:day>
                        </fr:date>
                        <fr:uri>https://www.jonmsterling.com/jms-004P/</fr:uri>
                        <fr:display-uri>jms-004P</fr:display-uri>
                        <fr:route>/jms-004P/</fr:route>
                        <fr:title text="Downshift structure">Downshift structure</fr:title>
                        <fr:taxon>Definition</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>Let <fr:tex display="inline"><![CDATA[\mathcal {D}]]></fr:tex> be a <fr:link href="/jms-0048/" title="Deductive system" uri="https://www.jonmsterling.com/jms-0048/" display-uri="jms-0048" type="local">deductive system</fr:link> and let <fr:tex display="inline"><![CDATA[A]]></fr:tex> be an object of <fr:tex display="inline"><![CDATA[\mathcal {D}]]></fr:tex>. A <html:em>downshift structure</html:em> for <fr:tex display="inline"><![CDATA[A]]></fr:tex> is defined to be a
  <fr:link href="/jms-004B/" title="Positive and negative objects" uri="https://www.jonmsterling.com/jms-004B/" display-uri="jms-004B" type="local">positive</fr:link> object <fr:tex display="inline"><![CDATA[\mathord {\Downarrow } A]]></fr:tex> and a <fr:link href="/jms-004A/" title="Linear and thunkable maps" uri="https://www.jonmsterling.com/jms-004A/" display-uri="jms-004A" type="local">thunkable</fr:link> map <fr:tex display="inline"><![CDATA[\mathsf {wrap}_{A} : A\vdash \mathord {\Downarrow } A]]></fr:tex> for which there exists a <fr:link href="/jms-004N/" title="Linear and thunkable inverses" uri="https://www.jonmsterling.com/jms-004N/" display-uri="jms-004N" type="local">necessarily unique and linear</fr:link> inverse <fr:tex display="inline"><![CDATA[\mathsf {unwrap}_{A} : \mathord {\Downarrow } A\vdash  A]]></fr:tex>.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                  </fr:mainmatter>
                </fr:tree>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors>
                      <fr:author>
                        <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                      </fr:author>
                    </fr:authors>
                    <fr:date>
                      <fr:year>2023</fr:year>
                      <fr:month>4</fr:month>
                      <fr:day>15</fr:day>
                    </fr:date>
                    <fr:uri>https://www.jonmsterling.com/jms-004W/</fr:uri>
                    <fr:display-uri>jms-004W</fr:display-uri>
                    <fr:route>/jms-004W/</fr:route>
                    <fr:title text="The univalence condition for deductive systems">The univalence condition for deductive systems</fr:title>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:author>
                            <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                          </fr:author>
                        </fr:authors>
                        <fr:date>
                          <fr:year>2023</fr:year>
                          <fr:month>4</fr:month>
                          <fr:day>15</fr:day>
                        </fr:date>
                        <fr:uri>https://www.jonmsterling.com/jms-004Q/</fr:uri>
                        <fr:display-uri>jms-004Q</fr:display-uri>
                        <fr:route>/jms-004Q/</fr:route>
                        <fr:title text="Positively univalent deductive system">Positively univalent deductive system</fr:title>
                        <fr:taxon>Definition</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>A <fr:link href="/jms-0048/" title="Deductive system" uri="https://www.jonmsterling.com/jms-0048/" display-uri="jms-0048" type="local">deductive system</fr:link> <fr:tex display="inline"><![CDATA[\mathcal {D}]]></fr:tex> is called <html:em>positively univalent</html:em> when for any positive <fr:tex display="inline"><![CDATA[A\in \mathcal {D}]]></fr:tex>, the type of positive objects <fr:tex display="inline"><![CDATA[B\in \mathcal {D}]]></fr:tex> equipped with a <fr:link href="/jms-004R/" title="Thunkably and linearly invertible maps" uri="https://www.jonmsterling.com/jms-004R/" display-uri="jms-004R" type="local">thunkably invertible</fr:link> <fr:link href="/jms-004A/" title="Linear and thunkable maps" uri="https://www.jonmsterling.com/jms-004A/" display-uri="jms-004A" type="local">thunkable</fr:link> map <fr:tex display="inline"><![CDATA[f:B\vdash  A]]></fr:tex> is contractible.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:author>
                            <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                          </fr:author>
                        </fr:authors>
                        <fr:date>
                          <fr:year>2023</fr:year>
                          <fr:month>4</fr:month>
                          <fr:day>15</fr:day>
                        </fr:date>
                        <fr:uri>https://www.jonmsterling.com/jms-004S/</fr:uri>
                        <fr:display-uri>jms-004S</fr:display-uri>
                        <fr:route>/jms-004S/</fr:route>
                        <fr:title text="Negatively univalent deductive system">Negatively univalent deductive system</fr:title>
                        <fr:taxon>Definition</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>A <fr:link href="/jms-0048/" title="Deductive system" uri="https://www.jonmsterling.com/jms-0048/" display-uri="jms-0048" type="local">deductive system</fr:link> <fr:tex display="inline"><![CDATA[\mathcal {D}]]></fr:tex> is called <html:em>negatively univalent</html:em> when for any negative <fr:tex display="inline"><![CDATA[A\in \mathcal {D}]]></fr:tex>, the type of negative objects <fr:tex display="inline"><![CDATA[B\in \mathcal {D}]]></fr:tex> equipped with a <fr:link href="/jms-004R/" title="Thunkably and linearly invertible maps" uri="https://www.jonmsterling.com/jms-004R/" display-uri="jms-004R" type="local">linearly invertible</fr:link> <fr:link href="/jms-004A/" title="Linear and thunkable maps" uri="https://www.jonmsterling.com/jms-004A/" display-uri="jms-004A" type="local">linear</fr:link> map <fr:tex display="inline"><![CDATA[f:B\vdash  A]]></fr:tex> is contractible.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:author>
                            <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                          </fr:author>
                        </fr:authors>
                        <fr:date>
                          <fr:year>2023</fr:year>
                          <fr:month>4</fr:month>
                          <fr:day>15</fr:day>
                        </fr:date>
                        <fr:uri>https://www.jonmsterling.com/jms-004T/</fr:uri>
                        <fr:display-uri>jms-004T</fr:display-uri>
                        <fr:route>/jms-004T/</fr:route>
                        <fr:title text="Univalent deductive system">Univalent deductive system</fr:title>
                        <fr:taxon>Definition</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>A <fr:link href="/jms-0048/" title="Deductive system" uri="https://www.jonmsterling.com/jms-0048/" display-uri="jms-0048" type="local">deductive system</fr:link> is called <html:em>univalent</html:em> when it is both <fr:link href="/jms-004Q/" title="Positively univalent deductive system" uri="https://www.jonmsterling.com/jms-004Q/" display-uri="jms-004Q" type="local">positively univalent</fr:link> and <fr:link href="/jms-004S/" title="Negatively univalent deductive system" uri="https://www.jonmsterling.com/jms-004S/" display-uri="jms-004S" type="local">negatively univalent</fr:link>.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                  </fr:mainmatter>
                </fr:tree>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors>
                      <fr:author>
                        <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                      </fr:author>
                    </fr:authors>
                    <fr:date>
                      <fr:year>2023</fr:year>
                      <fr:month>4</fr:month>
                      <fr:day>15</fr:day>
                    </fr:date>
                    <fr:uri>https://www.jonmsterling.com/jms-004Y/</fr:uri>
                    <fr:display-uri>jms-004Y</fr:display-uri>
                    <fr:route>/jms-004Y/</fr:route>
                    <fr:title text="Uniqueness of shifts in univalent deductive systems">Uniqueness of shifts in univalent deductive systems</fr:title>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:author>
                            <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                          </fr:author>
                        </fr:authors>
                        <fr:date>
                          <fr:year>2023</fr:year>
                          <fr:month>4</fr:month>
                          <fr:day>15</fr:day>
                        </fr:date>
                        <fr:uri>https://www.jonmsterling.com/jms-004X/</fr:uri>
                        <fr:display-uri>jms-004X</fr:display-uri>
                        <fr:route>/jms-004X/</fr:route>
                        <fr:title text="Uniqueness of upshifts">Uniqueness of upshifts</fr:title>
                        <fr:taxon>Lemma</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter><html:p>Let <fr:tex display="inline"><![CDATA[P\in \mathcal {D}]]></fr:tex> be a <fr:link href="/jms-004B/" title="Positive and negative objects" uri="https://www.jonmsterling.com/jms-004B/" display-uri="jms-004B" type="local">positive</fr:link> object in a <fr:link href="/jms-004S/" title="Negatively univalent deductive system" uri="https://www.jonmsterling.com/jms-004S/" display-uri="jms-004S" type="local">negatively univalent deductive system</fr:link>; then the type of <fr:link href="/jms-004M/" title="Upshift structure" uri="https://www.jonmsterling.com/jms-004M/" display-uri="jms-004M" type="local">upshift structures</fr:link> on <fr:tex display="inline"><![CDATA[P]]></fr:tex> is a proposition. In this case, we may refer to the property of <fr:tex display="inline"><![CDATA[P]]></fr:tex> <html:em>having an upshift</html:em>.</html:p>
 
   
   <fr:tree show-metadata="false" toc="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2023</fr:year><fr:month>4</fr:month><fr:day>15</fr:day></fr:date><fr:taxon>Proof</fr:taxon></fr:frontmatter><fr:mainmatter>
  <html:p>Let <fr:tex display="inline"><![CDATA[f_0:M_0\vdash  P]]></fr:tex> and <fr:tex display="inline"><![CDATA[f_1:M_1\vdash  P]]></fr:tex> be two <fr:link href="/jms-004M/" title="Upshift structure" uri="https://www.jonmsterling.com/jms-004M/" display-uri="jms-004M" type="local">upshift structures</fr:link> on <fr:tex display="inline"><![CDATA[P]]></fr:tex>, whose inverse delay maps are written <fr:tex display="inline"><![CDATA[d_0,d_1]]></fr:tex> respectively. We wish to identify the pairs <fr:tex display="inline"><![CDATA[{\mathopen {}\left (M_0,f_0\right )\mathclose {}}]]></fr:tex> and <fr:tex display="inline"><![CDATA[{\mathopen {}\left (M_1,f_1\right )\mathclose {}}]]></fr:tex>.</html:p>

  <html:p>All four maps <fr:tex display="inline"><![CDATA[f_0,f_1,d_0,d_1]]></fr:tex> are linear: the forcing maps are linear by definition, and the delay maps are linear because they come from a positive object. Thus we have a linearly invertible linear map <fr:tex display="inline"><![CDATA[f_1;d_0 : M_1\vdash  M_0]]></fr:tex>; because <fr:tex display="inline"><![CDATA[\mathcal {D}]]></fr:tex> is assumed <fr:link href="/jms-004S/" title="Negatively univalent deductive system" uri="https://www.jonmsterling.com/jms-004S/" display-uri="jms-004S" type="local">negatively univalent</fr:link>, we may identify the pairs <fr:tex display="inline"><![CDATA[{\mathopen {}\left (M_0,1_{M_0} : M_0\vdash  M_0\right )\mathclose {}}]]></fr:tex> and <fr:tex display="inline"><![CDATA[{\mathopen {}\left (M_1,{\mathopen {}\left (f_1;d_0 : M_1\vdash  M_0\right )\mathclose {}}\right )\mathclose {}}]]></fr:tex>. Precomposing with <fr:tex display="inline"><![CDATA[f_0 : M_0\vdash  P]]></fr:tex> in both sides, we have <fr:tex display="inline"><![CDATA[{\mathopen {}\left (M_0,f_0\right )\mathclose {}} = {\mathopen {}\left (M_1,f_1\right )\mathclose {}}]]></fr:tex> because <fr:tex display="inline"><![CDATA[d_0]]></fr:tex> is linear as a map out of a positive object.</html:p>
</fr:mainmatter></fr:tree>
 
</fr:mainmatter>
                    </fr:tree>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:author>
                            <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                          </fr:author>
                        </fr:authors>
                        <fr:date>
                          <fr:year>2023</fr:year>
                          <fr:month>4</fr:month>
                          <fr:day>15</fr:day>
                        </fr:date>
                        <fr:uri>https://www.jonmsterling.com/jms-004Z/</fr:uri>
                        <fr:display-uri>jms-004Z</fr:display-uri>
                        <fr:route>/jms-004Z/</fr:route>
                        <fr:title text="Uniqueness of downshifts">Uniqueness of downshifts</fr:title>
                        <fr:taxon>Lemma</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter><html:p>Let <fr:tex display="inline"><![CDATA[N\in \mathcal {D}]]></fr:tex> be a <fr:link href="/jms-004B/" title="Positive and negative objects" uri="https://www.jonmsterling.com/jms-004B/" display-uri="jms-004B" type="local">negative</fr:link> object in a <fr:link href="/jms-004Q/" title="Positively univalent deductive system" uri="https://www.jonmsterling.com/jms-004Q/" display-uri="jms-004Q" type="local">positively univalent deductive system</fr:link>; then the type of <fr:link href="/jms-004P/" title="Downshift structure" uri="https://www.jonmsterling.com/jms-004P/" display-uri="jms-004P" type="local">downshift structures</fr:link> on <fr:tex display="inline"><![CDATA[N]]></fr:tex> is a proposition. In this case, we may refer to the property of <fr:tex display="inline"><![CDATA[N]]></fr:tex> <html:em>having a downshift</html:em>.</html:p>
 
   
   <fr:tree show-metadata="false" toc="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2023</fr:year><fr:month>4</fr:month><fr:day>15</fr:day></fr:date><fr:taxon>Proof</fr:taxon></fr:frontmatter><fr:mainmatter>
  <html:p>Let <fr:tex display="inline"><![CDATA[w_0:N\vdash  P_0]]></fr:tex> and <fr:tex display="inline"><![CDATA[w_1:N\vdash  P_1]]></fr:tex> be two <fr:link href="/jms-004P/" title="Downshift structure" uri="https://www.jonmsterling.com/jms-004P/" display-uri="jms-004P" type="local">downshift structures</fr:link> on <fr:tex display="inline"><![CDATA[N]]></fr:tex>, whose inverse unwrapping maps are written <fr:tex display="inline"><![CDATA[u_0,u_1]]></fr:tex> respectively. We wish to identity <fr:tex display="inline"><![CDATA[{\mathopen {}\left (P_0,w_0\right )\mathclose {}}]]></fr:tex> with <fr:tex display="inline"><![CDATA[{\mathopen {}\left (P_1,w_1\right )\mathclose {}}]]></fr:tex>.</html:p>

  <html:p>All four maps <fr:tex display="inline"><![CDATA[w_0,w_1,u_0,u_1]]></fr:tex> are thunkable: the wrapping maps are thunkable by definition, and the unwrapping maps are thunkable because they are valued in a negative object. Thus we have a thunkably invertible thunkable map <fr:tex display="inline"><![CDATA[u_1;w_0 : P_1\vdash  P_0]]></fr:tex>; because <fr:tex display="inline"><![CDATA[\mathcal {D}]]></fr:tex> is assumed <fr:link href="/jms-004Q/" title="Positively univalent deductive system" uri="https://www.jonmsterling.com/jms-004Q/" display-uri="jms-004Q" type="local">positively univalent</fr:link>, we may identify the pairs <fr:tex display="inline"><![CDATA[{\mathopen {}\left (P_0,1_{P_0}:P_0\vdash  P_0\right )\mathclose {}}]]></fr:tex> and <fr:tex display="inline"><![CDATA[{\mathopen {}\left (P_1, {\mathopen {}\left (u_1;w_0:P_1\vdash  P_0\right )\mathclose {}}\right )\mathclose {}}]]></fr:tex>. Taking inverses and precomposing with <fr:tex display="inline"><![CDATA[w_0]]></fr:tex> on both sides, we have <fr:tex display="inline"><![CDATA[{\mathopen {}\left (P_0,w_0\right )\mathclose {}} = {\mathopen {}\left (P_1,w_1\right )\mathclose {}}]]></fr:tex> using the fact that <fr:tex display="inline"><![CDATA[w_0]]></fr:tex> is thunkable and inverse to <fr:tex display="inline"><![CDATA[u_0]]></fr:tex>.</html:p>
</fr:mainmatter></fr:tree>
 
</fr:mainmatter>
                    </fr:tree>
                  </fr:mainmatter>
                </fr:tree>
              </fr:mainmatter>
            </fr:tree>
            <fr:tree show-metadata="false">
              <fr:frontmatter>
                <fr:authors>
                  <fr:author>
                    <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                  </fr:author>
                </fr:authors>
                <fr:date>
                  <fr:year>2022</fr:year>
                  <fr:month>12</fr:month>
                  <fr:day>26</fr:day>
                </fr:date>
                <fr:uri>https://www.jonmsterling.com/jms-004E/</fr:uri>
                <fr:display-uri>jms-004E</fr:display-uri>
                <fr:route>/jms-004E/</fr:route>
                <fr:title text="Polarization, preduploids, and duploids">Polarization, preduploids, and duploids</fr:title>
              </fr:frontmatter>
              <fr:mainmatter>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors>
                      <fr:author>
                        <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                      </fr:author>
                    </fr:authors>
                    <fr:date>
                      <fr:year>2022</fr:year>
                      <fr:month>12</fr:month>
                      <fr:day>26</fr:day>
                    </fr:date>
                    <fr:uri>https://www.jonmsterling.com/jms-0045/</fr:uri>
                    <fr:display-uri>jms-0045</fr:display-uri>
                    <fr:route>/jms-0045/</fr:route>
                    <fr:title text="Polarized object">Polarized object</fr:title>
                    <fr:taxon>Definition</fr:taxon>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>An object <fr:tex display="inline"><![CDATA[A]]></fr:tex> in a deductive system is called <html:em>polarized</html:em> when it is either <fr:link href="/jms-004B/" title="Positive and negative objects" uri="https://www.jonmsterling.com/jms-004B/" display-uri="jms-004B" type="local">positive or negative</fr:link>.</html:p>
                  </fr:mainmatter>
                </fr:tree>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors>
                      <fr:author>
                        <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                      </fr:author>
                    </fr:authors>
                    <fr:date>
                      <fr:year>2022</fr:year>
                      <fr:month>12</fr:month>
                      <fr:day>26</fr:day>
                    </fr:date>
                    <fr:uri>https://www.jonmsterling.com/jms-004F/</fr:uri>
                    <fr:display-uri>jms-004F</fr:display-uri>
                    <fr:route>/jms-004F/</fr:route>
                    <fr:title text="Preduploid">Preduploid</fr:title>
                    <fr:taxon>Definition</fr:taxon>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>A deductive system <fr:tex display="inline"><![CDATA[\mathcal {D}]]></fr:tex> is called a <html:em>preduploid</html:em> when every object <fr:tex display="inline"><![CDATA[A\in \mathcal {D}]]></fr:tex> is <fr:link href="/jms-0045/" title="Polarized object" uri="https://www.jonmsterling.com/jms-0045/" display-uri="jms-0045" type="local">polarized</fr:link>.</html:p>
                  </fr:mainmatter>
                </fr:tree>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors>
                      <fr:author>
                        <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                      </fr:author>
                    </fr:authors>
                    <fr:date>
                      <fr:year>2023</fr:year>
                      <fr:month>4</fr:month>
                      <fr:day>15</fr:day>
                    </fr:date>
                    <fr:uri>https://www.jonmsterling.com/jms-0050/</fr:uri>
                    <fr:display-uri>jms-0050</fr:display-uri>
                    <fr:route>/jms-0050/</fr:route>
                    <fr:title text="Duploid">Duploid</fr:title>
                    <fr:taxon>Definition</fr:taxon>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>A <fr:link href="/jms-004F/" title="Preduploid" uri="https://www.jonmsterling.com/jms-004F/" display-uri="jms-004F" type="local">preduploid</fr:link> <fr:tex display="inline"><![CDATA[\mathcal {D}]]></fr:tex> is called a <html:em>duploid</html:em> when it satisfies the following properties:</html:p>
                    <html:ol><html:li>the preduploid <fr:tex display="inline"><![CDATA[\mathcal {D}]]></fr:tex> is <fr:link href="/jms-004T/" title="Univalent deductive system" uri="https://www.jonmsterling.com/jms-004T/" display-uri="jms-004T" type="local">univalent</fr:link>;</html:li>
  <html:li>every <fr:link href="/jms-004B/" title="Positive and negative objects" uri="https://www.jonmsterling.com/jms-004B/" display-uri="jms-004B" type="local">positive</fr:link> object of <fr:tex display="inline"><![CDATA[\mathcal {D}]]></fr:tex> <fr:link href="/jms-004X/" title="Uniqueness of upshifts" uri="https://www.jonmsterling.com/jms-004X/" display-uri="jms-004X" type="local">has an upshift</fr:link>;</html:li>
  <html:li>every <fr:link href="/jms-004B/" title="Positive and negative objects" uri="https://www.jonmsterling.com/jms-004B/" display-uri="jms-004B" type="local">negative</fr:link> object of <fr:tex display="inline"><![CDATA[\mathcal {D}]]></fr:tex> <fr:link href="/jms-004Z/" title="Uniqueness of downshifts" uri="https://www.jonmsterling.com/jms-004Z/" display-uri="jms-004Z" type="local">has a downshift</fr:link>.</html:li></html:ol>
                  </fr:mainmatter>
                </fr:tree>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors>
                      <fr:author>
                        <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                      </fr:author>
                    </fr:authors>
                    <fr:date>
                      <fr:year>2023</fr:year>
                      <fr:month>4</fr:month>
                      <fr:day>15</fr:day>
                    </fr:date>
                    <fr:uri>https://www.jonmsterling.com/jms-0051/</fr:uri>
                    <fr:display-uri>jms-0051</fr:display-uri>
                    <fr:route>/jms-0051/</fr:route>
                    <fr:title text="An alternative definition of duploids">An alternative definition of duploids</fr:title>
                    <fr:taxon>Observation</fr:taxon>
                  </fr:frontmatter>
                  <fr:mainmatter><html:p>Equivalently, we can define a <fr:link href="/jms-0050/" title="Duploid" uri="https://www.jonmsterling.com/jms-0050/" display-uri="jms-0050" type="local">duploid</fr:link> to be a <fr:link href="/jms-004T/" title="Univalent deductive system" uri="https://www.jonmsterling.com/jms-004T/" display-uri="jms-004T" type="local">univalent</fr:link> <fr:link href="/jms-004F/" title="Preduploid" uri="https://www.jonmsterling.com/jms-004F/" display-uri="jms-004F" type="local">preduploid</fr:link> such that every object is <html:em>merely equipped with</html:em> both an <fr:link href="/jms-004M/" title="Upshift structure" uri="https://www.jonmsterling.com/jms-004M/" display-uri="jms-004M" type="local">upshift</fr:link> and a <fr:link href="/jms-004P/" title="Downshift structure" uri="https://www.jonmsterling.com/jms-004P/" display-uri="jms-004P" type="local">downshift</fr:link>.</html:p><html:p>To see that the <fr:link href="/jms-0050/" title="Duploid" uri="https://www.jonmsterling.com/jms-0050/" display-uri="jms-0050" type="local">main definition</fr:link> implies our alternative definition, let <fr:tex display="inline"><![CDATA[A]]></fr:tex> be an object of the preduploid; because we are proving that <fr:tex display="inline"><![CDATA[A]]></fr:tex> is <html:em>merely equipped with</html:em> both an <fr:link href="/jms-004M/" title="Upshift structure" uri="https://www.jonmsterling.com/jms-004M/" display-uri="jms-004M" type="local">upshift</fr:link> and a <fr:link href="/jms-004P/" title="Downshift structure" uri="https://www.jonmsterling.com/jms-004P/" display-uri="jms-004P" type="local">downshift</fr:link>, we may proceed by cases on the <fr:link href="/jms-0045/" title="Polarized object" uri="https://www.jonmsterling.com/jms-0045/" display-uri="jms-0045" type="local">polarization</fr:link> of <fr:tex display="inline"><![CDATA[A]]></fr:tex>.</html:p><html:ol><html:li>If <fr:tex display="inline"><![CDATA[A]]></fr:tex> is <fr:link href="/jms-004B/" title="Positive and negative objects" uri="https://www.jonmsterling.com/jms-004B/" display-uri="jms-004B" type="local">positive</fr:link>, we choose the identity map <fr:tex display="inline"><![CDATA[A\vdash  A]]></fr:tex> for the downshift and we use our assumption to deduce that <fr:tex display="inline"><![CDATA[A]]></fr:tex> has an upshift.</html:li>
  <html:li>If <fr:tex display="inline"><![CDATA[A]]></fr:tex> is <fr:link href="/jms-004B/" title="Positive and negative objects" uri="https://www.jonmsterling.com/jms-004B/" display-uri="jms-004B" type="local">negative</fr:link>, we choose the identity map <fr:tex display="inline"><![CDATA[A\vdash  A]]></fr:tex> for the upshift and we use our assumption to deduce that <fr:tex display="inline"><![CDATA[A]]></fr:tex> has a downshift.</html:li></html:ol>
 
   
   <fr:tree show-metadata="false" toc="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2023</fr:year><fr:month>4</fr:month><fr:day>15</fr:day></fr:date><fr:taxon>Proof</fr:taxon></fr:frontmatter><fr:mainmatter>
  <html:p>Conversely, assume that every object is merely equipped with both an upshift and a downshift. That a positive object <fr:tex display="inline"><![CDATA[P]]></fr:tex> has an upshift <fr:link href="/jms-004X/" title="Uniqueness of upshifts" uri="https://www.jonmsterling.com/jms-004X/" display-uri="jms-004X" type="local">is a proposition</fr:link>, so we can use our assumption that <fr:tex display="inline"><![CDATA[P]]></fr:tex> <html:em>merely</html:em> has an upshift. That a negative object <fr:tex display="inline"><![CDATA[N]]></fr:tex> has a downshift <fr:link href="/jms-004Z/" title="Uniqueness of downshifts" uri="https://www.jonmsterling.com/jms-004Z/" display-uri="jms-004Z" type="local">is likewise a proposition</fr:link>, so we can use our assumption that <fr:tex display="inline"><![CDATA[N]]></fr:tex> <html:em>merely</html:em> has a downshift.</html:p>
</fr:mainmatter></fr:tree>
 
</fr:mainmatter>
                </fr:tree>
              </fr:mainmatter>
            </fr:tree>
          </fr:mainmatter>
        </fr:tree>
        <fr:tree show-metadata="true" expanded="false" toc="false" numbered="false">
          <fr:frontmatter>
            <fr:authors>
              <fr:author>
                <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
              </fr:author>
              <fr:author>
                <fr:link href="/carloangiuli/" title="Carlo Angiuli" uri="https://www.jonmsterling.com/carloangiuli/" display-uri="carloangiuli" type="local">Carlo Angiuli</fr:link>
              </fr:author>
            </fr:authors>
            <fr:date>
              <fr:year>2022</fr:year>
              <fr:month>1</fr:month>
              <fr:day>1</fr:day>
            </fr:date>
            <fr:uri>https://www.jonmsterling.com/frct-003I/</fr:uri>
            <fr:display-uri>frct-003I</fr:display-uri>
            <fr:route>/frct-003I/</fr:route>
            <fr:title text="Foundations of relative category theory">Foundations of relative category theory</fr:title>
          </fr:frontmatter>
          <fr:mainmatter>
            <html:p>We assume knowledge of basic categorical concepts such as categories, functors, and natural transformations. The purpose of this lecture is to develop the notion of a category <html:em>over</html:em> another category.</html:p>
            <html:p>We will draw on the work of <fr:link href="/ahrens-lumsdaine-2019/" title="Displayed categories" uri="https://www.jonmsterling.com/ahrens-lumsdaine-2019/" display-uri="ahrens-lumsdaine-2019" type="local">Ahrens and Lumsdaine</fr:link>, <fr:link href="/benabou-1985/" title="Fibered categories and the foundations of naïve category theory" uri="https://www.jonmsterling.com/benabou-1985/" display-uri="benabou-1985" type="local">Bénabou</fr:link>, <fr:link href="/borceux-hca-2/" title="Handbook of categorical algebra 2: categories and structures" uri="https://www.jonmsterling.com/borceux-hca-2/" display-uri="borceux-hca-2" type="local">Borceux</fr:link>, <fr:link href="/jacobs-1999/" title="Categorical logic and type theory" uri="https://www.jonmsterling.com/jacobs-1999/" display-uri="jacobs-1999" type="local">Jacobs</fr:link>, and <fr:link href="/streicher-fcjb/" title="Fibred categories à la Jean Bénabou" uri="https://www.jonmsterling.com/streicher-fcjb/" display-uri="streicher-fcjb" type="local">Streicher</fr:link>.</html:p>
            <fr:tree show-metadata="false">
              <fr:frontmatter>
                <fr:authors>
                  <fr:contributor>
                    <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                  </fr:contributor>
                </fr:authors>
                <fr:uri>https://www.jonmsterling.com/frct-000R/</fr:uri>
                <fr:display-uri>frct-000R</fr:display-uri>
                <fr:route>/frct-000R/</fr:route>
                <fr:title text="Foundational assumptions">Foundational assumptions</fr:title>
              </fr:frontmatter>
              <fr:mainmatter>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors>
                      <fr:author>
                        <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                      </fr:author>
                    </fr:authors>
                    <fr:uri>https://www.jonmsterling.com/frct-001F/</fr:uri>
                    <fr:display-uri>frct-001F</fr:display-uri>
                    <fr:route>/frct-001F/</fr:route>
                    <fr:title text="Meta-category">Meta-category</fr:title>
                    <fr:taxon>Definition</fr:taxon>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>A <html:em>meta-category</html:em> <fr:tex display="inline"><![CDATA[\mathfrak {C}]]></fr:tex> is defined by explaining what
an object of <fr:tex display="inline"><![CDATA[\mathfrak {E}]]></fr:tex> is, and, given two objects <fr:tex display="inline"><![CDATA[x,y\in  \mathfrak {E}]]></fr:tex>,
what a morphism from <fr:tex display="inline"><![CDATA[x]]></fr:tex> to <fr:tex display="inline"><![CDATA[y]]></fr:tex> is, together with the following operations:</html:p>
                    <html:ol><html:li>for each object <fr:tex display="inline"><![CDATA[x\in  \mathfrak {E}]]></fr:tex>, an <html:em>identity</html:em> map <fr:tex display="inline"><![CDATA[1_{x} : x \to  x]]></fr:tex>,</html:li>
  <html:li>for any two maps <fr:tex display="inline"><![CDATA[f:x\to  y]]></fr:tex> and <fr:tex display="inline"><![CDATA[g:y\to  z]]></fr:tex>, a <html:em>composite map</html:em> <fr:tex display="inline"><![CDATA[f;g : x \to  z]]></fr:tex>,</html:li>
  <html:li>such that the following equations hold:
    <fr:tex display="block"><![CDATA[
      1_{x};h = h\qquad 
      h;1_{y} = h\qquad 
      f;(g;h) = (f;g);{h}
    ]]></fr:tex></html:li></html:ol>
                  </fr:mainmatter>
                </fr:tree>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors />
                    <fr:uri>https://www.jonmsterling.com/frct-003J/</fr:uri>
                    <fr:display-uri>frct-003J</fr:display-uri>
                    <fr:route>/frct-003J/</fr:route>
                    <fr:title text="Collections">Collections</fr:title>
                    <fr:taxon>Remark</fr:taxon>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>In the definition of <fr:link href="/frct-001F/" title="Meta-category" uri="https://www.jonmsterling.com/frct-001F/" display-uri="frct-001F" type="local">meta-categories</fr:link>, we have not imposed any restrictions on what kinds of things the objects and morphisms are; our definition is pre-mathematical, so we do not assume beforehand that there is a such thing as a collection of “all” meta-categories.</html:p>
                    <html:p>We may define analogous notions of meta-functor, etc. But we do not
assume that the notion of “all meta-functors <fr:tex display="inline"><![CDATA[\mathfrak {C}\to \mathfrak {D}]]></fr:tex>” is well-defined; the notion is entirely schematic.</html:p>
                    <html:p><html:strong>Assumption.</html:strong> We assume a meta-category <fr:tex display="inline"><![CDATA[\boldsymbol {\mathfrak {Coll}}]]></fr:tex> whose objects we will refer to as “collections”. We assume that the meta-category of all collections satisfies the axioms of Lawvere’s <fr:link href="/lawvere-1964-etcs/" title="An elementary theory of the category of sets" uri="https://www.jonmsterling.com/lawvere-1964-etcs/" display-uri="lawvere-1964-etcs" type="local">ETCS</fr:link>.</html:p>
                  </fr:mainmatter>
                </fr:tree>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors />
                    <fr:uri>https://www.jonmsterling.com/frct-001G/</fr:uri>
                    <fr:display-uri>frct-001G</fr:display-uri>
                    <fr:route>/frct-001G/</fr:route>
                    <fr:title text="Category">Category</fr:title>
                    <fr:taxon>Definition</fr:taxon>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>A <html:em>category</html:em> <fr:tex display="inline"><![CDATA[E]]></fr:tex> is defined to be a <fr:link href="/frct-001F/" title="Meta-category" uri="https://www.jonmsterling.com/frct-001F/" display-uri="frct-001F" type="local">meta-category</fr:link> whose objects are defined to be the elements of some collection, and for any two objects <fr:tex display="inline"><![CDATA[x,y\in  E]]></fr:tex> the morphisms <fr:tex display="inline"><![CDATA[x\to  y]]></fr:tex> are defined to be the elements of some collection.</html:p>
                  </fr:mainmatter>
                </fr:tree>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors />
                    <fr:uri>https://www.jonmsterling.com/frct-003K/</fr:uri>
                    <fr:display-uri>frct-003K</fr:display-uri>
                    <fr:route>/frct-003K/</fr:route>
                    <fr:title text="Cartesian closure of the meta-category of all categories">Cartesian closure of the meta-category of all categories</fr:title>
                    <fr:taxon>Remark</fr:taxon>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>Consequently there exists a meta-category <fr:tex display="inline"><![CDATA[\boldsymbol {\mathfrak {Cat}}]]></fr:tex> of all categories. Following <fr:link href="http://rfcwalters.blogspot.com/2010/10/old-post-why-are-we-concerned-fw.html" type="external">Lawvere</fr:link> (but deviating from some other authors that ground the notion of meta-categories in <html:em>classes</html:em>) we notice that <fr:tex display="inline"><![CDATA[\boldsymbol {\mathfrak {Cat}}]]></fr:tex> is cartesian closed; in other words, all functor categories exist regardless of size.</html:p>
                    <html:p><html:strong>Assumption.</html:strong> At times we may assume that there exists a <html:em>category</html:em> <fr:tex display="inline"><![CDATA[\mathbf {Set}\subseteq \boldsymbol {\mathfrak {Coll}}]]></fr:tex> of collections that we will refer to as sets, such that <fr:tex display="inline"><![CDATA[\mathbf {Set}]]></fr:tex> is closed under the axioms of <fr:link href="/lawvere-1964-etcs/" title="An elementary theory of the category of sets" uri="https://www.jonmsterling.com/lawvere-1964-etcs/" display-uri="lawvere-1964-etcs" type="local">ETCS</fr:link>. Rather than work with <fr:tex display="inline"><![CDATA[\mathbf {Set}]]></fr:tex> at all times, our approach is to use the tools of relative category theory to objectify the notions of “small” and “locally small” category over any category <fr:tex display="inline"><![CDATA[B]]></fr:tex>, generalizing the role of <fr:tex display="inline"><![CDATA[\mathbf {Set}]]></fr:tex> from classical category theory.</html:p>
                  </fr:mainmatter>
                </fr:tree>
              </fr:mainmatter>
            </fr:tree>
            <fr:tree show-metadata="false">
              <fr:frontmatter>
                <fr:authors>
                  <fr:contributor>
                    <fr:link href="/carloangiuli/" title="Carlo Angiuli" uri="https://www.jonmsterling.com/carloangiuli/" display-uri="carloangiuli" type="local">Carlo Angiuli</fr:link>
                  </fr:contributor>
                  <fr:contributor>
                    <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                  </fr:contributor>
                </fr:authors>
                <fr:uri>https://www.jonmsterling.com/frct-0008/</fr:uri>
                <fr:display-uri>frct-0008</fr:display-uri>
                <fr:route>/frct-0008/</fr:route>
                <fr:title text="Displayed categories and fibrations">Displayed categories and fibrations</fr:title>
              </fr:frontmatter>
              <fr:mainmatter>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors>
                      <fr:author>
                        <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                      </fr:author>
                    </fr:authors>
                    <fr:date>
                      <fr:year>2022</fr:year>
                    </fr:date>
                    <fr:uri>https://www.jonmsterling.com/frct-0000/</fr:uri>
                    <fr:display-uri>frct-0000</fr:display-uri>
                    <fr:route>/frct-0000/</fr:route>
                    <fr:title text="Displayed category">Displayed category</fr:title>
                    <fr:taxon>Definition</fr:taxon>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>Let <fr:tex display="inline"><![CDATA[B]]></fr:tex> be a category. A <html:em>displayed category</html:em> <fr:tex display="inline"><![CDATA[E]]></fr:tex> over <fr:tex display="inline"><![CDATA[B]]></fr:tex> is defined by the following data according to (<fr:link href="/ahrens-lumsdaine-2019/" title="Displayed categories" uri="https://www.jonmsterling.com/ahrens-lumsdaine-2019/" display-uri="ahrens-lumsdaine-2019" type="local">Ahrens and Lumsdaine</fr:link>):</html:p>
                    <html:ol><html:li>for each object <fr:tex display="inline"><![CDATA[x\in  B]]></fr:tex>, a collection of <html:em>displayed objects</html:em> <fr:tex display="inline"><![CDATA[E_{x}]]></fr:tex>,</html:li>

  <html:li>for each morphism <fr:tex display="inline"><![CDATA[{x}\xrightarrow {{f}}{y}\in  B]]></fr:tex> and displayed objects <fr:tex display="inline"><![CDATA[\bar {x}\in  E_{x}]]></fr:tex> and <fr:tex display="inline"><![CDATA[\bar {y}\in  E_{y}]]></fr:tex>, a family of collections of <html:em>displayed morphisms</html:em> <fr:tex display="inline"><![CDATA[\mathbf {hom}_{E_{f}}{\mathopen {}\left (\bar {x},\bar {y}\right )\mathclose {}}]]></fr:tex>, an element of which shall denote by <fr:tex display="inline"><![CDATA[{\bar {x}}\xrightarrow [f]{\bar {f}}{\bar {y}}]]></fr:tex>,</html:li>

  <html:li>for each <fr:tex display="inline"><![CDATA[x\in  B]]></fr:tex> and <fr:tex display="inline"><![CDATA[\bar {x}\in  E_{x}]]></fr:tex>, a displayed morphism <fr:tex display="inline"><![CDATA[{\bar {x}}\xrightarrow [1_{x}]{1_{\bar {x}}}{\bar {x}}]]></fr:tex>,</html:li>

  <html:li>for each <fr:tex display="inline"><![CDATA[{x}\xrightarrow {{f}}{y}]]></fr:tex> and <fr:tex display="inline"><![CDATA[{y}\xrightarrow {{g}}{z}]]></fr:tex> in <fr:tex display="inline"><![CDATA[B]]></fr:tex> and objects <fr:tex display="inline"><![CDATA[\bar {x}\in  E_{x}, \bar {y}\in  E_{y}, \bar {z}\in  E_{z}]]></fr:tex>, a function

    <fr:tex display="block"><![CDATA[ \mathbf {hom}_{E_{f}}{\mathopen {}\left (\bar {x},\bar {y}\right )\mathclose {}} \times \mathbf {hom}_{E_{g}}{\mathopen {}\left (\bar {y},\bar {z}\right )\mathclose {}} \to  \mathbf {hom}_{E_{f;g}}{\mathopen {}\left (\bar {x},\bar {z}\right )\mathclose {}}
    ]]></fr:tex>

    that we will denote like ordinary (diagrammatic) function composition,</html:li>

  <html:li>such that the following equations hold:

    <fr:tex display="block"><![CDATA[          1_{\bar {x}};\bar {h} = \bar {h}\qquad 
    \bar {h};1_{\bar {y}} = \bar {h}\qquad 
    \bar {f};(\bar {g};\bar {h}) = (\bar {f};\bar {g});\bar {h}
    ]]></fr:tex>


    Note that these are well-defined because of the corresponding laws for the base category <fr:tex display="inline"><![CDATA[B]]></fr:tex>.</html:li></html:ol>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors />
                        <fr:date>
                          <fr:year>2022</fr:year>
                          <fr:month>12</fr:month>
                          <fr:day>27</fr:day>
                        </fr:date>
                        <fr:uri>https://www.jonmsterling.com/frct-003R/</fr:uri>
                        <fr:display-uri>frct-003R</fr:display-uri>
                        <fr:route>/frct-003R/</fr:route>
                        <fr:title text="Square brackets for subscripts">Square brackets for subscripts</fr:title>
                        <fr:taxon>Notation</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>When we have too many subscripts, we will write <fr:tex display="inline"><![CDATA[E[x]]]></fr:tex> instead of <fr:tex display="inline"><![CDATA[E_{x}]]></fr:tex>.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                  </fr:mainmatter>
                </fr:tree>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors>
                      <fr:author>
                        <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                      </fr:author>
                    </fr:authors>
                    <fr:uri>https://www.jonmsterling.com/frct-0001/</fr:uri>
                    <fr:display-uri>frct-0001</fr:display-uri>
                    <fr:route>/frct-0001/</fr:route>
                    <fr:title text="Cartesian morphism">Cartesian morphism</fr:title>
                    <fr:taxon>Definition</fr:taxon>
                  </fr:frontmatter>
                  <fr:mainmatter><html:p>Let <fr:tex display="inline"><![CDATA[E]]></fr:tex> be displayed over <fr:tex display="inline"><![CDATA[B]]></fr:tex>, and let <fr:tex display="inline"><![CDATA[{x}\xrightarrow {{f}}{y} \in  B]]></fr:tex>; a morphism <fr:tex display="inline"><![CDATA[{\bar {x}}\xrightarrow [f]{\bar {f}}{\bar {y}}]]></fr:tex> in <fr:tex display="inline"><![CDATA[E]]></fr:tex> is called <html:em>cartesian</html:em> over <fr:tex display="inline"><![CDATA[f]]></fr:tex> when for any <fr:tex display="inline"><![CDATA[{u}\xrightarrow {{m}}{x}]]></fr:tex> and <fr:tex display="inline"><![CDATA[{\bar {u}}\xrightarrow [m;f]{\bar {h}}{\bar {y}}]]></fr:tex> there exists a unique <fr:tex display="inline"><![CDATA[{\bar {u}}\xrightarrow [m]{\bar {m}}{\bar {x}}]]></fr:tex> with <fr:tex display="inline"><![CDATA[\bar {m};\bar {f} = \bar {h}]]></fr:tex>. We visualize this unique factorization of <fr:tex display="inline"><![CDATA[\bar {h}]]></fr:tex> through <fr:tex display="inline"><![CDATA[\bar {f}]]></fr:tex> over <fr:tex display="inline"><![CDATA[m]]></fr:tex> as follows:</html:p>
 
  
  <html:figure><fr:resource hash="6aad0d5d16fadcc8bcb91cca46a2dd85"><fr:resource-content><html:img src="/6aad0d5d16fadcc8bcb91cca46a2dd85.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
  \begin {tikzpicture}[diagram]
    \SpliceDiagramSquare {
      west/style = lies over,
      east/style = lies over,
      north/node/style = upright desc,
      height = 1.5cm,
      nw = \bar {x},
      ne = \bar {y},
      sw = x,
      north = \bar {f},
      south = f,
      se = y,
      nw/style = pullback,
    }
    \node  (u') [above left = 1.5cm of nw,xshift=-.5cm] {$\bar {u}$};
    \node  (u) [above left = 1.5cm of sw,xshift=-.5cm] {$u$};
    \draw [lies over] (u') to (u);
    \draw [->,bend left=30] (u') to node [sloped,above] {$\bar {h}$} (ne);
    \draw [->] (u) to node [sloped,below] {$m$} (sw);
    \draw [->,exists] (u') to node [desc] {$\bar {m}$} (nw);
  \end {tikzpicture}
]]></fr:resource-source></fr:resource></html:figure>
 
<html:p>Above we have used the “pullback corner” to indicate <fr:tex display="inline"><![CDATA[\bar {x}\to \bar {y}]]></fr:tex> as a
cartesian map. We return to this in our discussion of the <fr:link href="/frct-0003/" title="The fundamental self-indexing" uri="https://www.jonmsterling.com/frct-0003/" display-uri="frct-0003" type="local">self-indexing</fr:link>
of a category.</html:p></fr:mainmatter>
                </fr:tree>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors>
                      <fr:author>
                        <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                      </fr:author>
                    </fr:authors>
                    <fr:date>
                      <fr:year>2023</fr:year>
                      <fr:month>3</fr:month>
                      <fr:day>11</fr:day>
                    </fr:date>
                    <fr:uri>https://www.jonmsterling.com/frct-003T/</fr:uri>
                    <fr:display-uri>frct-003T</fr:display-uri>
                    <fr:route>/frct-003T/</fr:route>
                    <fr:title text="Cleaving of a displayed category">Cleaving of a displayed category</fr:title>
                    <fr:taxon>Definition</fr:taxon>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>Let <fr:tex display="inline"><![CDATA[E]]></fr:tex> be a <fr:link href="/frct-0000/" title="Displayed category" uri="https://www.jonmsterling.com/frct-0000/" display-uri="frct-0000" type="local">displayed category</fr:link> over <fr:tex display="inline"><![CDATA[C]]></fr:tex>; following <fr:link href="/ahrens-lumsdaine-2019/" title="Displayed categories" uri="https://www.jonmsterling.com/ahrens-lumsdaine-2019/" display-uri="ahrens-lumsdaine-2019" type="local">Ahrens and Lumsdaine</fr:link>, we define a <html:em>cleaving</html:em> of <fr:tex display="inline"><![CDATA[E]]></fr:tex> to be a function assigning to each <fr:tex display="inline"><![CDATA[{x}\xrightarrow {{f}}{y}\in  C]]></fr:tex>  and <fr:tex display="inline"><![CDATA[u\in  C_y]]></fr:tex> a <fr:link href="/frct-0001/" title="Cartesian morphism" uri="https://www.jonmsterling.com/frct-0001/" display-uri="frct-0001" type="local">cartesian morphism</fr:link> <fr:tex display="inline"><![CDATA[{f^{*}u}\xrightarrow [f]{\bar {f}}{u}]]></fr:tex> in <fr:tex display="inline"><![CDATA[E]]></fr:tex> called the <html:em>chosen cartesian lift</html:em> of <fr:tex display="inline"><![CDATA[u]]></fr:tex> along <fr:tex display="inline"><![CDATA[f]]></fr:tex>.</html:p>
                  </fr:mainmatter>
                </fr:tree>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors>
                      <fr:author>
                        <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                      </fr:author>
                    </fr:authors>
                    <fr:date>
                      <fr:year>2023</fr:year>
                      <fr:month>3</fr:month>
                      <fr:day>11</fr:day>
                    </fr:date>
                    <fr:uri>https://www.jonmsterling.com/frct-003U/</fr:uri>
                    <fr:display-uri>frct-003U</fr:display-uri>
                    <fr:route>/frct-003U/</fr:route>
                    <fr:title text="Cleavings from the axiom of choice">Cleavings from the axiom of choice</fr:title>
                    <fr:taxon>Remark</fr:taxon>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>Assuming the <fr:link href="/frct-003J/" title="Collections" uri="https://www.jonmsterling.com/frct-003J/" display-uri="frct-003J" type="local">axiom of choice</fr:link>, any <fr:link href="/frct-0002/" title="Cartesian fibration" uri="https://www.jonmsterling.com/frct-0002/" display-uri="frct-0002" type="local">cartesian fibration</fr:link> may be equipped with a (non-canonical) <fr:link href="/frct-003T/" title="Cleaving of a displayed category" uri="https://www.jonmsterling.com/frct-003T/" display-uri="frct-003T" type="local">cleaving</fr:link>. In the current version of these notes, we freely use this principle, but in the future we would like to follow <fr:link href="/ahrens-lumsdaine-2019/" title="Displayed categories" uri="https://www.jonmsterling.com/ahrens-lumsdaine-2019/" display-uri="ahrens-lumsdaine-2019" type="local">Ahrens and Lumsdaine</fr:link> in distinguishing between <html:em>weak</html:em> and <html:em>strong</html:em> fibrations, in which the latter come equipped with cleavings.</html:p>
                  </fr:mainmatter>
                </fr:tree>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors />
                    <fr:uri>https://www.jonmsterling.com/frct-0002/</fr:uri>
                    <fr:display-uri>frct-0002</fr:display-uri>
                    <fr:route>/frct-0002/</fr:route>
                    <fr:title text="Cartesian fibration">Cartesian fibration</fr:title>
                    <fr:taxon>Definition</fr:taxon>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>A displayed category <fr:tex display="inline"><![CDATA[E]]></fr:tex> over <fr:tex display="inline"><![CDATA[B]]></fr:tex> is said to be a <html:em>cartesian fibration</html:em>, when for each morphism <fr:tex display="inline"><![CDATA[{x}\xrightarrow {{f}}{y}]]></fr:tex> and displayed object <fr:tex display="inline"><![CDATA[\bar {y}\in  E_{y}]]></fr:tex>, there exists a displayed object <fr:tex display="inline"><![CDATA[\bar {x}\in  E_{x}]]></fr:tex> and a <fr:link href="/frct-0001/" title="Cartesian morphism" uri="https://www.jonmsterling.com/frct-0001/" display-uri="frct-0001" type="local"><html:em>cartesian</html:em></fr:link> morphism <fr:tex display="inline"><![CDATA[{\bar {x}}\xrightarrow [f]{\bar {f}}{\bar {y}}]]></fr:tex>. Note that the pair <fr:tex display="inline"><![CDATA[(\bar {x},\bar {f})]]></fr:tex> is unique up to unique isomorphism, so being a cartesian fibration is a <html:em>property</html:em> of a displayed category.</html:p>
                    <html:p>We will also refer to cartesian fibrations as simply <html:em>fibrations</html:em> or <html:em>fibered categories</html:em>.</html:p>
                    <html:p>There are other variations of fibration. For instance, <fr:tex display="inline"><![CDATA[E]]></fr:tex> is said to be an <html:em>isofibration</html:em> when the condition above holds just for isomorphisms <fr:tex display="inline"><![CDATA[f : x\cong  y]]></fr:tex> in the base.</html:p>
                  </fr:mainmatter>
                </fr:tree>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors />
                    <fr:uri>https://www.jonmsterling.com/frct-0003/</fr:uri>
                    <fr:display-uri>frct-0003</fr:display-uri>
                    <fr:route>/frct-0003/</fr:route>
                    <fr:title text="The fundamental self-indexing">The fundamental self-indexing</fr:title>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors />
                        <fr:uri>https://www.jonmsterling.com/frct-001X/</fr:uri>
                        <fr:display-uri>frct-001X</fr:display-uri>
                        <fr:route>/frct-001X/</fr:route>
                        <fr:title text="The fundamental self-indexing">The fundamental self-indexing</fr:title>
                        <fr:taxon>Construction</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter><html:p>Let <fr:tex display="inline"><![CDATA[B]]></fr:tex> be an ordinary category; there is an important displayed category <fr:tex display="inline"><![CDATA[\underline {B}]]></fr:tex> over <fr:tex display="inline"><![CDATA[B]]></fr:tex> given fiberwise by the <html:em>slices</html:em> of <fr:tex display="inline"><![CDATA[B]]></fr:tex>.</html:p><html:ol><html:li>For <fr:tex display="inline"><![CDATA[x\in  B]]></fr:tex>, we define <fr:tex display="inline"><![CDATA[\underline {B}_{x}]]></fr:tex> to be the collection <fr:tex display="inline"><![CDATA[{B}_{/x}]]></fr:tex> of pairs <fr:tex display="inline"><![CDATA[(\bar {x}\in  B,{\bar {x}}\xrightarrow {{p_{x}}}{x})]]></fr:tex>.</html:li>
  <html:li>For <fr:tex display="inline"><![CDATA[{x}\xrightarrow {{f}}{y}\in  B]]></fr:tex>, we define <fr:tex display="inline"><![CDATA[\underline {B}_{f}]]></fr:tex> to be the collection of commuting squares in the following configuration:</html:li></html:ol>
 
  
  <html:figure><fr:resource hash="2afa23a751e7d7a553b61cef67c70eb1"><fr:resource-content><html:img src="/2afa23a751e7d7a553b61cef67c70eb1.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
  \DiagramSquare {
    height = 1.7cm,
    nw = \bar {x},
    ne = \bar {y},
    sw = x,
    se = y,
    west = p_{x},
    east = p_{y},
    south = f,
    north = \bar {f},
    west/style = {->,exists},
    east/style = {->,exists},
    north/style = {->,exists},
  }
]]></fr:resource-source></fr:resource></html:figure>
 
</fr:mainmatter>
                    </fr:tree>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors />
                        <fr:uri>https://www.jonmsterling.com/frct-001Y/</fr:uri>
                        <fr:display-uri>frct-001Y</fr:display-uri>
                        <fr:route>/frct-001Y/</fr:route>
                        <fr:title text="Pullbacks and cartesian maps">Pullbacks and cartesian maps</fr:title>
                        <fr:taxon>Exercise</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>Prove that <fr:link href="/frct-001X/" title="The fundamental self-indexing" uri="https://www.jonmsterling.com/frct-001X/" display-uri="frct-001X" type="local">the fundamental self-indexing</fr:link> <fr:tex display="inline"><![CDATA[\underline {B}]]></fr:tex> is a cartesian fibration if and only if <fr:tex display="inline"><![CDATA[B]]></fr:tex> has pullbacks.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                  </fr:mainmatter>
                </fr:tree>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors>
                      <fr:author>
                        <fr:link href="/carloangiuli/" title="Carlo Angiuli" uri="https://www.jonmsterling.com/carloangiuli/" display-uri="carloangiuli" type="local">Carlo Angiuli</fr:link>
                      </fr:author>
                    </fr:authors>
                    <fr:uri>https://www.jonmsterling.com/frct-0014/</fr:uri>
                    <fr:display-uri>frct-0014</fr:display-uri>
                    <fr:route>/frct-0014/</fr:route>
                    <fr:title text="The generalized pullback lemma">The generalized pullback lemma</fr:title>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>In light of our discussion of the <fr:link href="/frct-0003/" title="The fundamental self-indexing" uri="https://www.jonmsterling.com/frct-0003/" display-uri="frct-0003" type="local">fundamental self-indexing</fr:link>, the following result for displayed categories generalizes the ordinary “pullback lemma.”</html:p>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:author>
                            <fr:link href="/carloangiuli/" title="Carlo Angiuli" uri="https://www.jonmsterling.com/carloangiuli/" display-uri="carloangiuli" type="local">Carlo Angiuli</fr:link>
                          </fr:author>
                        </fr:authors>
                        <fr:uri>https://www.jonmsterling.com/frct-001H/</fr:uri>
                        <fr:display-uri>frct-001H</fr:display-uri>
                        <fr:route>/frct-001H/</fr:route>
                        <fr:title text="Generalized pullback lemma">Generalized pullback lemma</fr:title>
                        <fr:taxon>Lemma</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter><html:p>Let <fr:tex display="inline"><![CDATA[{\bar {x}}\xrightarrow [f]{\bar {f}}{\bar {y}}]]></fr:tex>, and suppose that <fr:tex display="inline"><![CDATA[{\bar {y}}\xrightarrow [g]{\bar {g}}{\bar {z}}]]></fr:tex> is cartesian over <fr:tex display="inline"><![CDATA[g]]></fr:tex>. Then <fr:tex display="inline"><![CDATA[\bar {f};\bar {g}]]></fr:tex> is cartesian over <fr:tex display="inline"><![CDATA[f;g]]></fr:tex> if and only if <fr:tex display="inline"><![CDATA[\bar {f}]]></fr:tex> is cartesian over <fr:tex display="inline"><![CDATA[f]]></fr:tex>.</html:p>
 
  
  <html:figure><fr:resource hash="5bf4b08558e9605af03a9a3ed47c3f13"><fr:resource-content><html:img src="/5bf4b08558e9605af03a9a3ed47c3f13.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
  \begin {tikzpicture}[diagram]
    \SpliceDiagramSquare {
      height = 1.5cm,
      west/style = lies over,
      east/style = lies over,
      nw/style = pullback,
      sw = y,
      nw = \bar {y},
      se = z,
      ne = \bar {z},
      south = g,
      north = \bar {g},
    }
    \node  (x*) [dotted pullback, left = of nw] {$\bar {x}$};
    \node  (x) [left = of sw] {$x$};
    \draw [->] (x*) to node [above] {$\bar {f}$} (nw);
    \draw [lies over] (x*) to (x);
    \draw [->] (x) to node [below] {$f$} (sw);
  \end {tikzpicture}
]]></fr:resource-source></fr:resource></html:figure>
 

 
   
   <fr:tree show-metadata="false" toc="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/carloangiuli/" title="Carlo Angiuli" uri="https://www.jonmsterling.com/carloangiuli/" display-uri="carloangiuli" type="local">Carlo Angiuli</fr:link></fr:author></fr:authors><fr:taxon>Proof</fr:taxon></fr:frontmatter><fr:mainmatter>
  <html:p>Suppose first that <fr:tex display="inline"><![CDATA[\bar {f}]]></fr:tex> is cartesian. To see that <fr:tex display="inline"><![CDATA[\bar {f};\bar {g}]]></fr:tex> is cartesian, we must construct a unique factorization as follows:</html:p>

  
 
  
  <html:figure><fr:resource hash="159777d5eeb17e58f2f8252cd8cc7787"><fr:resource-content><html:img src="/159777d5eeb17e58f2f8252cd8cc7787.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
    \begin {tikzpicture}[diagram]
      \SpliceDiagramSquare {
        west/style = lies over,
        east/style = lies over,
        north/node/style = upright desc,
        height = 1.5cm,
        nw = \bar {x},
        ne = \bar {y},
        sw = x,
        north = \bar {f},
        south = f,
        se = y,
        nw/style = pullback,
        ne/style = pullback,
      }
      \node  (z') [right = 2cm of ne] {$\bar {z}$};
      \node  (z) [right = 2cm of se] {$z$};
      \draw [lies over] (z') to (z);
      \draw [->] (se) to node [below] {$g$} (z);
      \draw [->] (ne) to node [desc] {$\bar {g}$} (z');

      \node  (u') [above left = 1.5cm of nw,xshift=-.5cm] {$\bar {u}$};
      \node  (u) [above left = 1.5cm of sw,xshift=-.5cm] {$u$};
      \draw [lies over] (u') to (u);
      \draw [->,bend left=30] (u') to node [sloped,above] {$\bar {h}$} (z');
      \draw [->] (u) to node [sloped,below] {$m$} (sw);
      \draw [->,exists] (u') to (nw);
    \end {tikzpicture}
  ]]></fr:resource-source></fr:resource></html:figure>
 


  <html:p>Because <fr:tex display="inline"><![CDATA[\bar {g}]]></fr:tex> is cartesian, we can factor <fr:tex display="inline"><![CDATA[\bar {h} = i;\bar {g}]]></fr:tex> for a unique <fr:tex display="inline"><![CDATA[{\bar {u}}\xrightarrow [m;f]{i}{\bar {y}}]]></fr:tex>. Then, because <fr:tex display="inline"><![CDATA[\bar {f}]]></fr:tex> is cartesian, we can further factor <fr:tex display="inline"><![CDATA[i = j;\bar {f}]]></fr:tex> for a unique <fr:tex display="inline"><![CDATA[{\bar {u}}\xrightarrow [m]{j}{\bar {x}}]]></fr:tex>. We conclude that there is a unique <fr:tex display="inline"><![CDATA[{\bar {u}}\xrightarrow [m]{j}{\bar {x}}]]></fr:tex> for which <fr:tex display="inline"><![CDATA[\bar {h} = j;\bar {f};\bar {g}]]></fr:tex>, as required.</html:p>

  <html:p>Conversely, suppose that <fr:tex display="inline"><![CDATA[\bar {f};\bar {g}]]></fr:tex> is cartesian. To see that <fr:tex display="inline"><![CDATA[\bar {f}]]></fr:tex> is cartesian, we must construct a unique factorization as follows:</html:p>

  
 
  
  <html:figure><fr:resource hash="ef979d0f12b9aaf96a22b242993de075"><fr:resource-content><html:img src="/ef979d0f12b9aaf96a22b242993de075.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
    \begin {tikzpicture}[diagram]
      \SpliceDiagramSquare {
        west/style = lies over,
        east/style = lies over,
        north/node/style = upright desc,
        height = 1.5cm,
        nw = \bar {x},
        ne = \bar {y},
        sw = x,
        north = \bar {f},
        south = f,
        se = y,
        ne/style = pullback,
      }
      \node  (z') [right = 2cm of ne] {$\bar {z}$};
      \node  (z) [right = 2cm of se] {$z$};
      \draw [lies over] (z') to (z);
      \draw [->] (se) to node [below] {$g$} (z);
      \draw [->] (ne) to node [desc] {$\bar {g}$} (z');

      \node  (u') [above left = 1.5cm of nw,xshift=-.5cm] {$\bar {u}$};
      \node  (u) [above left = 1.5cm of sw,xshift=-.5cm] {$u$};
      \draw [lies over] (u') to (u);
      \draw [->,bend left=30] (u') to node [sloped,above] {$\bar {h}$} (ne);
      \draw [->] (u) to node [sloped,below] {$m$} (sw);
      \draw [->,exists] (u') to (nw);
    \end {tikzpicture}
  ]]></fr:resource-source></fr:resource></html:figure>
 


  <html:p>Because <fr:tex display="inline"><![CDATA[\bar {f};\bar {g}]]></fr:tex> is cartesian, we can factor <fr:tex display="inline"><![CDATA[\bar {h};\bar {g} = i;\bar {f};\bar {g}]]></fr:tex> for a unique <fr:tex display="inline"><![CDATA[{\bar {u}}\xrightarrow [m]{i}{\bar {x}}]]></fr:tex>. On the other hand, because <fr:tex display="inline"><![CDATA[\bar {g}]]></fr:tex> is cartesian, there is a unique <fr:tex display="inline"><![CDATA[{\bar {u}}\xrightarrow [m;f]{j}{\bar {y}}]]></fr:tex> for which <fr:tex display="inline"><![CDATA[\bar {h};\bar {g} = j;\bar {g}]]></fr:tex>; as both <fr:tex display="inline"><![CDATA[\bar {h}]]></fr:tex> and <fr:tex display="inline"><![CDATA[i;\bar {f}]]></fr:tex> satisfy this condition, we conclude <fr:tex display="inline"><![CDATA[\bar {h}=i;\bar {f}]]></fr:tex>. Therefore, there is a unique <fr:tex display="inline"><![CDATA[{\bar {u}}\xrightarrow [m]{i}{\bar {x}}]]></fr:tex> for which <fr:tex display="inline"><![CDATA[\bar {h} = i;\bar {f}]]></fr:tex>, as required.</html:p>
</fr:mainmatter></fr:tree>
 
</fr:mainmatter>
                    </fr:tree>
                  </fr:mainmatter>
                </fr:tree>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors>
                      <fr:author>
                        <fr:link href="/carloangiuli/" title="Carlo Angiuli" uri="https://www.jonmsterling.com/carloangiuli/" display-uri="carloangiuli" type="local">Carlo Angiuli</fr:link>
                      </fr:author>
                      <fr:contributor>
                        <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                      </fr:contributor>
                    </fr:authors>
                    <fr:uri>https://www.jonmsterling.com/frct-0029/</fr:uri>
                    <fr:display-uri>frct-0029</fr:display-uri>
                    <fr:route>/frct-0029/</fr:route>
                    <fr:title text="An alternative definition of fibration">An alternative definition of fibration</fr:title>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:author>
                            <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                          </fr:author>
                        </fr:authors>
                        <fr:date>
                          <fr:year>2023</fr:year>
                          <fr:month>3</fr:month>
                          <fr:day>2</fr:day>
                        </fr:date>
                        <fr:uri>https://www.jonmsterling.com/frct-003S/</fr:uri>
                        <fr:display-uri>frct-003S</fr:display-uri>
                        <fr:route>/frct-003S/</fr:route>
                        <fr:title text="Competing terminologies for cartesian maps">Competing terminologies for cartesian maps</fr:title>
                        <fr:taxon>Warning</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>Some authors including <fr:link href="/sga-1/" title="Revêtements étales et groupe fondamental (SGA 1)" uri="https://www.jonmsterling.com/sga-1/" display-uri="sga-1" type="local">Grothendieck</fr:link> give an equivalent definition of cartesian fibration that factors through a <html:em>nonequivalent</html:em> definition of cartesian morphisms. Such authors refer to our notion of <fr:link href="/frct-0001/" title="Cartesian morphism" uri="https://www.jonmsterling.com/frct-0001/" display-uri="frct-0001" type="local">cartesian morphism</fr:link> as “hypercartesian” (see <fr:link href="/streicher-fcjb/" title="Fibred categories à la Jean Bénabou" uri="https://www.jonmsterling.com/streicher-fcjb/" display-uri="streicher-fcjb" type="local">Streicher</fr:link>).</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:author>
                            <fr:link href="/carloangiuli/" title="Carlo Angiuli" uri="https://www.jonmsterling.com/carloangiuli/" display-uri="carloangiuli" type="local">Carlo Angiuli</fr:link>
                          </fr:author>
                        </fr:authors>
                        <fr:uri>https://www.jonmsterling.com/frct-002A/</fr:uri>
                        <fr:display-uri>frct-002A</fr:display-uri>
                        <fr:route>/frct-002A/</fr:route>
                        <fr:title text="Hypocartesian morphisms">Hypocartesian morphisms</fr:title>
                        <fr:taxon>Definition</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter><html:p>Let <fr:tex display="inline"><![CDATA[E]]></fr:tex> be displayed over <fr:tex display="inline"><![CDATA[B]]></fr:tex>, and let <fr:tex display="inline"><![CDATA[f:x\to  y \in  B]]></fr:tex>; a morphism <fr:tex display="inline"><![CDATA[{\bar {x}}\xrightarrow [f]{\bar {f}}{\bar {y}}]]></fr:tex> in <fr:tex display="inline"><![CDATA[E]]></fr:tex> is called <html:em>hypocartesian</html:em> over <fr:tex display="inline"><![CDATA[f]]></fr:tex> when for any <fr:tex display="inline"><![CDATA[\bar {u}\in  E_{x}]]></fr:tex> and <fr:tex display="inline"><![CDATA[{\bar {u}}\xrightarrow [f]{\bar {h}}{\bar {y}}]]></fr:tex> there exists a
unique <fr:tex display="inline"><![CDATA[{\bar {u}}\xrightarrow [1_{x}]{i}{\bar {x}}]]></fr:tex> with <fr:tex display="inline"><![CDATA[i;\bar {f} = \bar {h}]]></fr:tex> as follows:</html:p>
 
  
  <html:figure><fr:resource hash="23760c8bd922bf6fae2fd6081a4dbd6f"><fr:resource-content><html:img src="/23760c8bd922bf6fae2fd6081a4dbd6f.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
  \begin {tikzpicture}[diagram]
    \SpliceDiagramSquare {
      west/style = lies over,
      east/style = lies over,
      north/node/style = upright desc,
      height = 1.5cm,
      nw = \bar {x},
      ne = \bar {y},
      sw = x,
      north = \bar {f},
      south = f,
      se = y,
    }
    \node  (u') [above left = 1.5cm of nw,xshift=-.5cm] {$\bar {u}$};
    \node  (u) [above left = 1.5cm of sw,xshift=-.5cm] {$x$};
    \draw [lies over] (u') to (u);
    \draw [->,bend left=30] (u') to node [sloped,above] {$\bar {h}$} (ne);
    \draw [double] (u) to (sw);
    \draw [->,exists] (u') to node [desc] {$i$} (nw);
  \end {tikzpicture}
]]></fr:resource-source></fr:resource></html:figure>
 
</fr:mainmatter>
                    </fr:tree>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:author>
                            <fr:link href="/carloangiuli/" title="Carlo Angiuli" uri="https://www.jonmsterling.com/carloangiuli/" display-uri="carloangiuli" type="local">Carlo Angiuli</fr:link>
                          </fr:author>
                        </fr:authors>
                        <fr:uri>https://www.jonmsterling.com/frct-003G/</fr:uri>
                        <fr:display-uri>frct-003G</fr:display-uri>
                        <fr:route>/frct-003G/</fr:route>
                        <fr:title text="Hypocartesian morphisms need not be closed composable">Hypocartesian morphisms need not be closed composable</fr:title>
                        <fr:taxon>Remark</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p><fr:link href="/frct-0001/" title="Cartesian morphism" uri="https://www.jonmsterling.com/frct-0001/" display-uri="frct-0001" type="local">Cartesian morphisms</fr:link> are clearly <fr:link href="/frct-002A/" title="Hypocartesian morphisms" uri="https://www.jonmsterling.com/frct-002A/" display-uri="frct-002A" type="local">hypocartesian</fr:link> (setting <fr:tex display="inline"><![CDATA[u=x]]></fr:tex> and <fr:tex display="inline"><![CDATA[m=1_{x}]]></fr:tex>), but the converse does not hold. The problem is that in an arbitrary displayed category, hypocartesian morphisms may not be closed under composition.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors />
                        <fr:uri>https://www.jonmsterling.com/frct-002C/</fr:uri>
                        <fr:display-uri>frct-002C</fr:display-uri>
                        <fr:route>/frct-002C/</fr:route>
                        <fr:title text="Hypocartesian = cartesian in a cartesian fibration">Hypocartesian = cartesian in a cartesian fibration</fr:title>
                        <fr:taxon>Lemma</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter><html:p>Let <fr:tex display="inline"><![CDATA[E]]></fr:tex> be a <fr:link href="/frct-0002/" title="Cartesian fibration" uri="https://www.jonmsterling.com/frct-0002/" display-uri="frct-0002" type="local">cartesian fibration</fr:link>, and let <fr:tex display="inline"><![CDATA[{\bar {x}}\xrightarrow [f]{\bar {f}}{\bar {y}}]]></fr:tex> be displayed over <fr:tex display="inline"><![CDATA[{x}\xrightarrow {{f}}{y}]]></fr:tex>. The displayed morphism <fr:tex display="inline"><![CDATA[\bar {f}]]></fr:tex> is <fr:link href="/frct-0001/" title="Cartesian morphism" uri="https://www.jonmsterling.com/frct-0001/" display-uri="frct-0001" type="local">cartesian</fr:link> if and only if it is <fr:link href="/frct-002A/" title="Hypocartesian morphisms" uri="https://www.jonmsterling.com/frct-002A/" display-uri="frct-002A" type="local">hypocartesian</fr:link>.</html:p>
 
   
   <fr:tree show-metadata="false" toc="false"><fr:frontmatter><fr:authors /><fr:taxon>Proof</fr:taxon></fr:frontmatter><fr:mainmatter>
  <html:p>Any cartesian map is clearly hypocartesian. To see that a hypocartesian map <fr:tex display="inline"><![CDATA[{\bar {x}}\xrightarrow [f]{\bar {f}}{\bar {y}}]]></fr:tex> in a cartesian fibration is cartesian, we consider the cartesian lift of <fr:tex display="inline"><![CDATA[{x}\xrightarrow {{f}}{y}]]></fr:tex> under <fr:tex display="inline"><![CDATA[\bar {y}]]></fr:tex>:</html:p>

  
 
  
  <html:figure><fr:resource hash="77acdcf73a70f083e8827ee10557ecac"><fr:resource-content><html:img src="/77acdcf73a70f083e8827ee10557ecac.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
    \DiagramSquare {
      height = 1.5cm,
      west/style = lies over,
      east/style = lies over,
      nw/style = pullback,
      nw = \bar {x}',
      ne = \bar {y},
      se = y,
      sw = x,
      south = f,
      north = \bar {f}',
      north/style = {->,exists},
    }
  ]]></fr:resource-source></fr:resource></html:figure>
 


  <html:p>As the cartesian lift <fr:tex display="inline"><![CDATA[\bar {x}'\to  \bar {y}]]></fr:tex> is also hypocartesian, it follows that there is a unique vertical isomorphism identifying <fr:tex display="inline"><![CDATA[\bar {x}]]></fr:tex> with <fr:tex display="inline"><![CDATA[\bar {x}']]></fr:tex> factoring <fr:tex display="inline"><![CDATA[{\bar {x}}\xrightarrow [f]{\bar {f}}{\bar {y}}]]></fr:tex> through <fr:tex display="inline"><![CDATA[{\bar {x}'}\xrightarrow [f]{\bar {f}'}{\bar {y}}]]></fr:tex>. Being cartesian over <fr:tex display="inline"><![CDATA[f]]></fr:tex> is clearly stable under isomorphism, hence we conclude that <fr:tex display="inline"><![CDATA[\bar {f}]]></fr:tex> is cartesian from the fact that <fr:tex display="inline"><![CDATA[\bar {f}']]></fr:tex> is cartesian.</html:p>
</fr:mainmatter></fr:tree>
 
</fr:mainmatter>
                    </fr:tree>
                    <html:p><fr:link href="/sga-1/" title="Revêtements étales et groupe fondamental (SGA 1)" uri="https://www.jonmsterling.com/sga-1/" display-uri="sga-1" type="local">Grothendieck</fr:link> defines a fibration in terms of (what we refer to as) hypocartesian morphisms rather than (what we refer to as) cartesian morphisms, and therefore imposes the additional constraint that the hypocartesian morphisms be closed under composition. <fr:link href="/frct-002B/" title="Equivalence with Grothendieck's fibrations" uri="https://www.jonmsterling.com/frct-002B/" display-uri="frct-002B" type="local">Below</fr:link>, we verify that these two definitions of cartesian fibration coincide.</html:p>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:author>
                            <fr:link href="/carloangiuli/" title="Carlo Angiuli" uri="https://www.jonmsterling.com/carloangiuli/" display-uri="carloangiuli" type="local">Carlo Angiuli</fr:link>
                          </fr:author>
                        </fr:authors>
                        <fr:uri>https://www.jonmsterling.com/frct-002B/</fr:uri>
                        <fr:display-uri>frct-002B</fr:display-uri>
                        <fr:route>/frct-002B/</fr:route>
                        <fr:title text="Equivalence with Grothendieck's fibrations">Equivalence with Grothendieck's fibrations</fr:title>
                        <fr:taxon>Lemma</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter><html:p>Let <fr:tex display="inline"><![CDATA[E]]></fr:tex> be displayed over <fr:tex display="inline"><![CDATA[B]]></fr:tex>. Then <fr:tex display="inline"><![CDATA[E]]></fr:tex> is a <fr:link href="/frct-0002/" title="Cartesian fibration" uri="https://www.jonmsterling.com/frct-0002/" display-uri="frct-0002" type="local">cartesian fibration</fr:link> if and only if the following two conditions hold:</html:p><html:ol><html:li><html:em>Hypocartesian lifts.</html:em> For each <fr:tex display="inline"><![CDATA[f:x\to  y\in  B]]></fr:tex> and <fr:tex display="inline"><![CDATA[\bar {y}\in  E_{y}]]></fr:tex> there exists a displayed object <fr:tex display="inline"><![CDATA[\bar {x}\in  E_{x}]]></fr:tex> and hypocartesian morphism <fr:tex display="inline"><![CDATA[\bar {f}:\bar {x}\xrightarrow [f]{}\bar {y}]]></fr:tex>.</html:li>

  <html:li><html:em>Closure under composition.</html:em> If <fr:tex display="inline"><![CDATA[\bar {f}:\bar {x}\xrightarrow [f]{}\bar {y}]]></fr:tex> and <fr:tex display="inline"><![CDATA[\bar {g}:\bar {y}\xrightarrow [g]{}\bar {z}]]></fr:tex> are hypocartesian, then <fr:tex display="inline"><![CDATA[\bar {f};\bar {g}]]></fr:tex> is hypocartesian.</html:li></html:ol>
 
   
   <fr:tree show-metadata="false" toc="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/carloangiuli/" title="Carlo Angiuli" uri="https://www.jonmsterling.com/carloangiuli/" display-uri="carloangiuli" type="local">Carlo Angiuli</fr:link></fr:author></fr:authors><fr:taxon>Proof</fr:taxon></fr:frontmatter><fr:mainmatter>
  <html:p>Suppose first that <fr:tex display="inline"><![CDATA[E]]></fr:tex> is a cartesian fibration in our sense. Then
  <fr:tex display="inline"><![CDATA[E]]></fr:tex> has hypocartesian lifts because it has cartesian lifts. For closure under composition, fix hypocartesian <fr:tex display="inline"><![CDATA[\bar {f},\bar {g}]]></fr:tex>; because <fr:link href="/frct-002C/" title="Hypocartesian = cartesian in a cartesian fibration" uri="https://www.jonmsterling.com/frct-002C/" display-uri="frct-002C" type="local">hypocartesian and cartesian maps coincide in a cartesian fibration</fr:link> we know that <fr:tex display="inline"><![CDATA[\bar {f},\bar {g}]]></fr:tex> are also cartesian and hence by the <fr:link href="/frct-001H/" title="Generalized pullback lemma" uri="https://www.jonmsterling.com/frct-001H/" display-uri="frct-001H" type="local">generalized pullback lemma</fr:link> so is the composite <fr:tex display="inline"><![CDATA[\bar {f};\bar {g}]]></fr:tex>; therefore it follows that <fr:tex display="inline"><![CDATA[\bar {f};\bar {g}]]></fr:tex> is also hypocartesian.</html:p>

  <html:p>Conversely, suppose that <fr:tex display="inline"><![CDATA[E]]></fr:tex> is a cartesian fibration in the sense of Grothendieck, and let <fr:tex display="inline"><![CDATA[\bar {f}:\bar {x}\xrightarrow [f]{}\bar {y}]]></fr:tex> be the hypocartesian lift of <fr:tex display="inline"><![CDATA[f:x\to  y]]></fr:tex> at <fr:tex display="inline"><![CDATA[\bar {y}\in  E_{y}]]></fr:tex>; we shall see that <fr:tex display="inline"><![CDATA[\bar {f}]]></fr:tex> is also a <html:em>cartesian</html:em> lift of <fr:tex display="inline"><![CDATA[f]]></fr:tex> at <fr:tex display="inline"><![CDATA[\bar {y}]]></fr:tex> by constructing a unique factorization as follows:</html:p>

  
 
  
  <html:figure><fr:resource hash="bb2b5e8669be030cfe7a6d3aa295bda3"><fr:resource-content><html:img src="/bb2b5e8669be030cfe7a6d3aa295bda3.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
    \begin {tikzpicture}[diagram]
      \SpliceDiagramSquare {
        west/style = lies over,
        east/style = lies over,
        north/node/style = upright desc,
        height = 1.5cm,
        nw = \bar {x},
        ne = \bar {y},
        sw = x,
        north = \bar {f},
        south = f,
        se = y,
      }
      \node  (u') [above left = 1.5cm of nw,xshift=-.5cm] {$\bar {u}$};
      \node  (u) [above left = 1.5cm of sw,xshift=-.5cm] {$u$};
      \draw [lies over] (u') to (u);
      \draw [->,bend left=30] (u') to node [sloped,above] {$\bar {h}$} (ne);
      \draw [->] (u) to node [sloped,below] {$m$} (sw);
      \draw [->,exists] (u') to (nw);
    \end {tikzpicture}
  ]]></fr:resource-source></fr:resource></html:figure>
 


  <html:p>Let <fr:tex display="inline"><![CDATA[\bar {m}:\bar {u}'\xrightarrow [m]{}\bar {x}]]></fr:tex> be the hypocartesian lift of <fr:tex display="inline"><![CDATA[m]]></fr:tex> at <fr:tex display="inline"><![CDATA[\bar {x}]]></fr:tex>, where <fr:tex display="inline"><![CDATA[\bar {u}'\in  E_{u}]]></fr:tex>. By hypothesis, the composite <fr:tex display="inline"><![CDATA[\bar {m};\bar {f} : \bar {u}'\xrightarrow [m;f]{}\bar {y}]]></fr:tex> is hypocartesian, so <fr:tex display="inline"><![CDATA[\bar {h}]]></fr:tex> factors uniquely through <fr:tex display="inline"><![CDATA[\bar {m};\bar {f}]]></fr:tex> over <fr:tex display="inline"><![CDATA[1_{u}]]></fr:tex>:</html:p>

  
 
  
  <html:figure><fr:resource hash="707081cbd23d0ff93ac9a0f11fa5a4c1"><fr:resource-content><html:img src="/707081cbd23d0ff93ac9a0f11fa5a4c1.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
    \begin {tikzpicture}[diagram]
      \SpliceDiagramSquare {
        west/style = lies over,
        east/style = lies over,
        north/node/style = upright desc,
        height = 1.5cm,
        nw = \bar {u}',
        ne = \bar {y},
        sw = u,
        north = \bar {m};\bar {f},
        south = m;f,
        se = y,
      }
      \node  (u') [above left = 1.5cm of nw,xshift=-.5cm] {$\bar {u}$};
      \node  (u) [above left = 1.5cm of sw,xshift=-.5cm] {$u$};
      \draw [lies over] (u') to (u);
      \draw [->,bend left=30] (u') to node [sloped,above] {$\bar {h}$} (ne);
      \draw [double] (u) to (sw);
      \draw [->,exists] (u') to node [desc] {$i$} (nw);
    \end {tikzpicture}
  ]]></fr:resource-source></fr:resource></html:figure>
 


  <html:p>The composite <fr:tex display="inline"><![CDATA[i;\bar {m} : \bar {u}\xrightarrow [m]{}\bar {x}]]></fr:tex> is the required (cartesian) factorization of <fr:tex display="inline"><![CDATA[\bar {h}]]></fr:tex> through <fr:tex display="inline"><![CDATA[\bar {f}]]></fr:tex> over <fr:tex display="inline"><![CDATA[m]]></fr:tex>. To see that <fr:tex display="inline"><![CDATA[i;\bar {m}]]></fr:tex> is the unique such map, we observe that all morphisms <fr:tex display="inline"><![CDATA[\bar {u}\xrightarrow [m]{}\bar {x}]]></fr:tex> factor uniquely through <fr:tex display="inline"><![CDATA[\bar {m}]]></fr:tex> over <fr:tex display="inline"><![CDATA[1_{u}]]></fr:tex> as a consequence of <fr:tex display="inline"><![CDATA[\bar {m}]]></fr:tex> being hypocartesian.</html:p>
</fr:mainmatter></fr:tree>
 
</fr:mainmatter>
                    </fr:tree>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors />
                        <fr:uri>https://www.jonmsterling.com/frct-002D/</fr:uri>
                        <fr:display-uri>frct-002D</fr:display-uri>
                        <fr:route>/frct-002D/</fr:route>
                        <fr:title text="Two ways to generalize pullbacks">Two ways to generalize pullbacks</fr:title>
                        <fr:taxon>Remark</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p><fr:link href="/frct-002A/" title="Hypocartesian morphisms" uri="https://www.jonmsterling.com/frct-002A/" display-uri="frct-002A" type="local">Hypocartesian</fr:link> and <fr:link href="/frct-0001/" title="Cartesian morphism" uri="https://www.jonmsterling.com/frct-0001/" display-uri="frct-0001" type="local">cartesian</fr:link>
  morphisms can be thought of as two distinct ways to generalize the concept of a pullback, depending on what one considers the essential properties of pullbacks. Hypocartesian morphisms more directly generalize the “little picture” universal property of pullbacks as limiting cones, whereas cartesian morphisms generalize the “big picture” dynamics of the pullback pasting lemma. As we <fr:link href="/frct-002C/" title="Hypocartesian = cartesian in a cartesian fibration" uri="https://www.jonmsterling.com/frct-002C/" display-uri="frct-002C" type="local">have seen</fr:link>, these two notions coincide in any cartesian fibration; the instance of this result for the <fr:link href="/frct-001X/" title="The fundamental self-indexing" uri="https://www.jonmsterling.com/frct-001X/" display-uri="frct-001X" type="local">fundamental self-indexing</fr:link> verifies that pullbacks <fr:link href="/frct-001Y/" title="Pullbacks and cartesian maps" uri="https://www.jonmsterling.com/frct-001Y/" display-uri="frct-001Y" type="local">can be equivalently presented in terms of cartesian morphisms</fr:link>.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                  </fr:mainmatter>
                </fr:tree>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors />
                    <fr:uri>https://www.jonmsterling.com/frct-0004/</fr:uri>
                    <fr:display-uri>frct-0004</fr:display-uri>
                    <fr:route>/frct-0004/</fr:route>
                    <fr:title text="Displayed and fibered functors">Displayed and fibered functors</fr:title>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>Let <fr:tex display="inline"><![CDATA[E]]></fr:tex> be displayed over <fr:tex display="inline"><![CDATA[B]]></fr:tex> and let <fr:tex display="inline"><![CDATA[F]]></fr:tex> be displayed over <fr:tex display="inline"><![CDATA[C]]></fr:tex>. If <fr:tex display="inline"><![CDATA[{B}\xrightarrow {{U}}{C}]]></fr:tex> is an ordinary functor, than a <html:em>displayed functor</html:em> from <fr:tex display="inline"><![CDATA[E]]></fr:tex> to <fr:tex display="inline"><![CDATA[F]]></fr:tex> over <fr:tex display="inline"><![CDATA[U]]></fr:tex> is given by the following data:</html:p>
                    <html:ol><html:li>for each displayed object <fr:tex display="inline"><![CDATA[\bar {x}\in  E_{x}]]></fr:tex>, a displayed object <fr:tex display="inline"><![CDATA[\bar {U}\bar {x}\in  F_{Ux}]]></fr:tex>,</html:li>
  <html:li>for each displayed morphism <fr:tex display="inline"><![CDATA[{\bar {x}}\xrightarrow [f]{\bar {f}}{\bar {y}}]]></fr:tex>, a displayed morphism <fr:tex display="inline"><![CDATA[{\bar {U}\bar {x}}\xrightarrow [Uf]{\bar {U}\bar {f}}{\bar {U}\bar {y}}]]></fr:tex>,</html:li>
  <html:li>such that the assignment <fr:tex display="inline"><![CDATA[\bar {U}f]]></fr:tex> preserves displayed identities and displayed composition.</html:li></html:ol>
                    <html:p>From this notion, we can see that the variation of displayed categories over their base categories itself has a “displayed categorical” structure; up to size issues, we could speak of the displayed <html:em>bicategory</html:em> of displayed categories.</html:p>
                    <html:p><html:strong>Note.</html:strong> The correct notion of morphism between cartesian fibrations is given by displayed functors that preserve cartesian maps. We will call these <html:em>fibered functors</html:em>.</html:p>
                  </fr:mainmatter>
                </fr:tree>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors />
                    <fr:uri>https://www.jonmsterling.com/frct-0005/</fr:uri>
                    <fr:display-uri>frct-0005</fr:display-uri>
                    <fr:route>/frct-0005/</fr:route>
                    <fr:title text="Fiber categories and vertical maps">Fiber categories and vertical maps</fr:title>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>Let <fr:tex display="inline"><![CDATA[E]]></fr:tex> be a category displayed over <fr:tex display="inline"><![CDATA[B]]></fr:tex>. A <html:em>vertical map</html:em> in <fr:tex display="inline"><![CDATA[E]]></fr:tex> is defined to be one that lies over the identity map in <fr:tex display="inline"><![CDATA[B]]></fr:tex>. For every <fr:tex display="inline"><![CDATA[b\in  B]]></fr:tex>, there the collection <fr:tex display="inline"><![CDATA[E_{b}]]></fr:tex> of displayed objects has the structure of a category; in particular, we set <fr:tex display="inline"><![CDATA[\mathbf {hom}_{E_{b}}{\mathopen {}\left (u,v\right )\mathclose {}}]]></fr:tex> to be the collection of vertical maps <fr:tex display="inline"><![CDATA[u\xrightarrow [1_{b}]{}v]]></fr:tex>.</html:p>
                  </fr:mainmatter>
                </fr:tree>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors>
                      <fr:author>
                        <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                      </fr:author>
                    </fr:authors>
                    <fr:uri>https://www.jonmsterling.com/frct-000Q/</fr:uri>
                    <fr:display-uri>frct-000Q</fr:display-uri>
                    <fr:route>/frct-000Q/</fr:route>
                    <fr:title text="Opposite categories">Opposite categories</fr:title>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>We adapt <fr:link href="/jeanb%C3%A9nabou/" title="Jean Bénabou" uri="https://www.jonmsterling.com/jeanbénabou/" display-uri="jeanbénabou" type="local">Bénabou</fr:link>’s construction as reported by <fr:link href="/streicher-fcjb/" title="Fibred categories à la Jean Bénabou" uri="https://www.jonmsterling.com/streicher-fcjb/" display-uri="streicher-fcjb" type="local">Streicher</fr:link>. Our <fr:link href="/frct-001Z/" title="The opposite of an uncloven fibration" uri="https://www.jonmsterling.com/frct-001Z/" display-uri="frct-001Z" type="local">first construction</fr:link> works for an <fr:link href="/frct-003T/" title="Cleaving of a displayed category" uri="https://www.jonmsterling.com/frct-003T/" display-uri="frct-003T" type="local">uncloven</fr:link> fibration, but it has the downside that it requires us to treat the collection of cartesian lifts as a set that can be quotiented, whereas our <fr:link href="/frct-003W/" title="The opposite of a cloven fibration" uri="https://www.jonmsterling.com/frct-003W/" display-uri="frct-003W" type="local">second construction</fr:link> avoids this by virtue of a <fr:link href="/frct-003T/" title="Cleaving of a displayed category" uri="https://www.jonmsterling.com/frct-003T/" display-uri="frct-003T" type="local">cleaving</fr:link>. Up to equivalence, the two constructions coincide for a cloven fibration, which shows that our second construction is independent of the chosen cleaving.</html:p>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors />
                        <fr:uri>https://www.jonmsterling.com/frct-001Z/</fr:uri>
                        <fr:display-uri>frct-001Z</fr:display-uri>
                        <fr:route>/frct-001Z/</fr:route>
                        <fr:title text="The opposite of an uncloven fibration">The opposite of an uncloven fibration</fr:title>
                        <fr:taxon>Construction</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>Let <fr:tex display="inline"><![CDATA[E]]></fr:tex> be fibered over <fr:tex display="inline"><![CDATA[B]]></fr:tex>; we may define the <html:em>opposite</html:em> fibered category <fr:tex display="inline"><![CDATA[E^{\mathsf {op}}]]></fr:tex> over <fr:tex display="inline"><![CDATA[B]]></fr:tex> like so:</html:p>
                        <html:ol><html:li>An object of <fr:tex display="inline"><![CDATA[E^{\mathsf {op}}_{x}]]></fr:tex> is given by an object of <fr:tex display="inline"><![CDATA[E_{x}]]></fr:tex>.</html:li>

  <html:li><html:p>Given <fr:tex display="inline"><![CDATA[{x}\xrightarrow {{f}}{y}\in  B]]></fr:tex>, a morphism <fr:tex display="inline"><![CDATA[\bar {x}\xrightarrow [f]{} \bar {y}]]></fr:tex> in <fr:tex display="inline"><![CDATA[E^{\mathsf {op}}]]></fr:tex> is given in terms of <fr:tex display="inline"><![CDATA[E]]></fr:tex> by a cartesian map <fr:tex display="inline"><![CDATA[{\bar {y}_{x}}\xrightarrow [f]{\bar {y}_{f}}{\bar {y}}]]></fr:tex> together with a <html:em>vertical</html:em> map <fr:tex display="inline"><![CDATA[{\bar {y}_{x}}\xrightarrow [1_{x}]{h}{\bar {x}}]]></fr:tex> as depicted below:</html:p>

    
 
  
  <html:figure><fr:resource hash="805ce463bc5421c7e4cd618a621a3ef0"><fr:resource-content><html:img src="/805ce463bc5421c7e4cd618a621a3ef0.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
      \begin {tikzpicture}[diagram]
        \SpliceDiagramSquare {
          height = 1.5cm,
          nw/style = pullback,
          west/style = lies over,
          east/style = lies over,
          north = \bar {y}_{f},
          south = f,
          nw = \bar {y}_{x},
          ne = \bar {y},
          sw = x,
          se = y
        }
        \node  (x*) [left = of nw] {$\bar {x}$};
        \node  (x) [left = of sw] {$x$};
        \draw [->] (nw) to node [above] {$h$} (x*);
        \draw [lies over] (x*) to (x);
        \draw [double] (x) to (sw);
      \end {tikzpicture}
    ]]></fr:resource-source></fr:resource></html:figure>
 


    <html:p>such that <fr:tex display="inline"><![CDATA[{\mathopen {}\left \{\bar {x} \leftarrow  \bar {y}_{x}^{1}\to  \bar {y}\right \}\mathclose {}}]]></fr:tex> is identified with <fr:tex display="inline"><![CDATA[{\mathopen {}\left \{\bar {x}\leftarrow \bar {y}_{x}^{2}\to  \bar {y}\right \}\mathclose {}}]]></fr:tex> when they agree up to the unique vertical isomorphism <fr:tex display="inline"><![CDATA[\bar {y}_{x}^{1}\cong \bar {y}_{x}^{2}]]></fr:tex> induced by the universal property of cartesian maps in the sense that the following diagram commutes:</html:p>

    
 
  
  <html:figure><fr:resource hash="3132c77a7b7017074ac0bb5683d43c8f"><fr:resource-content><html:img src="/3132c77a7b7017074ac0bb5683d43c8f.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
      \begin {tikzpicture}[diagram]
        \node  (x) {$\bar {x}$};
        \node  (yx/1) [above right = of x] {$\bar {y}_{x}^{1}$};
        \node  (y) [below right = of yx/1] {$\bar {y}$};
        \node  (yx/2) [below right = of x] {$\bar {y}_{x}^{2}$};
        \draw [->] (yx/1) to node [sloped,above] {vert.} (x);
        \draw [->] (yx/2) to node [sloped,below] {vert.} (x);
        \draw [->] (yx/1) to node [sloped,above] {cart.} (y);
        \draw [->] (yx/2) to node [sloped,below] {cart.} (y);
        \draw [->] (yx/1) to node [upright desc] {$\cong $} (yx/2);
      \end {tikzpicture}
    ]]></fr:resource-source></fr:resource></html:figure></html:li></html:ol>
                      </fr:mainmatter>
                    </fr:tree>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:author>
                            <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                          </fr:author>
                        </fr:authors>
                        <fr:date>
                          <fr:year>2023</fr:year>
                          <fr:month>3</fr:month>
                          <fr:day>11</fr:day>
                        </fr:date>
                        <fr:uri>https://www.jonmsterling.com/frct-003W/</fr:uri>
                        <fr:display-uri>frct-003W</fr:display-uri>
                        <fr:route>/frct-003W/</fr:route>
                        <fr:title text="The opposite of a cloven fibration">The opposite of a cloven fibration</fr:title>
                        <fr:taxon>Construction</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>Let <fr:tex display="inline"><![CDATA[E]]></fr:tex> be a <fr:link href="/frct-003T/" title="Cleaving of a displayed category" uri="https://www.jonmsterling.com/frct-003T/" display-uri="frct-003T" type="local">cloven fibration</fr:link> over <fr:tex display="inline"><![CDATA[B]]></fr:tex>; in this case, we may use the cleaving of <fr:tex display="inline"><![CDATA[E]]></fr:tex> to give a simple construction of the opposite fibration <fr:tex display="inline"><![CDATA[E^{\mathsf {op}}]]></fr:tex>.</html:p>
                        <html:ol><html:li>A displayed object of <fr:tex display="inline"><![CDATA[E^{\mathsf {op}}]]></fr:tex> over <fr:tex display="inline"><![CDATA[x\in  B]]></fr:tex> is given by an object of <fr:tex display="inline"><![CDATA[E]]></fr:tex> over <fr:tex display="inline"><![CDATA[x]]></fr:tex>.</html:li>
  <html:li>Given <fr:tex display="inline"><![CDATA[{x}\xrightarrow {{f}}{u}\in  B]]></fr:tex>, a displayed morphism <fr:tex display="inline"><![CDATA[\bar {x}\xrightarrow [f]{}\bar {y}]]></fr:tex> in <fr:tex display="inline"><![CDATA[E^{\mathsf {op}}]]></fr:tex> is given by a vertical map <fr:tex display="inline"><![CDATA[{f^{*}\bar {y}}\xrightarrow [1_{x}]{h}{\bar {x}}]]></fr:tex>.</html:li></html:ol>
                      </fr:mainmatter>
                    </fr:tree>
                    <html:p>Going forward, we will not be sensitive to the difference between the two constructions of opposite fibrations.</html:p>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors />
                        <fr:uri>https://www.jonmsterling.com/frct-000T/</fr:uri>
                        <fr:display-uri>frct-000T</fr:display-uri>
                        <fr:route>/frct-000T/</fr:route>
                        <fr:title text="Cartesian maps in the opposite category">Cartesian maps in the opposite category</fr:title>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>There is a simple characterization of cartesian maps in <fr:tex display="inline"><![CDATA[E^{\mathsf {op}}]]></fr:tex>.</html:p>
                        <fr:tree show-metadata="false">
                          <fr:frontmatter>
                            <fr:authors />
                            <fr:uri>https://www.jonmsterling.com/frct-0020/</fr:uri>
                            <fr:display-uri>frct-0020</fr:display-uri>
                            <fr:route>/frct-0020/</fr:route>
                            <fr:title text="Characterization of cartesian maps">Characterization of cartesian maps</fr:title>
                            <fr:taxon>Lemma</fr:taxon>
                          </fr:frontmatter>
                          <fr:mainmatter><html:p>A morphism <fr:tex display="inline"><![CDATA[{\bar {x}}\xrightarrow [f]{\bar {f}}{\bar {y}}\in E^{\mathsf {op}}]]></fr:tex> is cartesian over <fr:tex display="inline"><![CDATA[{x}\xrightarrow {{f}}{y}]]></fr:tex> if and only if the vertical leg of <fr:tex display="inline"><![CDATA[f]]></fr:tex> is an isomorphism.</html:p>
 
   
   <fr:tree show-metadata="false" toc="false"><fr:frontmatter><fr:authors /><fr:taxon>Proof</fr:taxon></fr:frontmatter><fr:mainmatter>
  <html:p>Suppose that <fr:tex display="inline"><![CDATA[{\bar {x}}\xrightarrow [f]{\bar {f}}{\bar {y}}]]></fr:tex> is represented by a span <fr:tex display="inline"><![CDATA[{\mathopen {}\left \{\bar {x}\leftarrow \bar {y}_{x}\to \bar {y}\right \}\mathclose {}}]]></fr:tex> in <fr:tex display="inline"><![CDATA[E]]></fr:tex> in which the vertical leg <fr:tex display="inline"><![CDATA[\bar {x}\leftarrow \bar {y}_{x}]]></fr:tex> is an isomorphism. We must show that <fr:tex display="inline"><![CDATA[{\bar {x}}\xrightarrow [f]{\bar {f}}{\bar {y}}]]></fr:tex> is cartesian in <fr:tex display="inline"><![CDATA[E^{\mathsf {op}}]]></fr:tex>. We fix a morphism <fr:tex display="inline"><![CDATA[{\bar {w}}\xrightarrow [m;f]{\bar {h}}{\bar {y}}\in  E^{\mathsf {op}}]]></fr:tex> where <fr:tex display="inline"><![CDATA[{w}\xrightarrow {{m}}{x}]]></fr:tex>, depicted below in terms of <fr:tex display="inline"><![CDATA[E^{\mathsf {op}}]]></fr:tex>:</html:p>

  
 
  
  <html:figure><fr:resource hash="d7d18680e7c74dfa93020fac8e0aae4d"><fr:resource-content><html:img src="/d7d18680e7c74dfa93020fac8e0aae4d.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
    \begin {tikzpicture}[diagram]
      \SpliceDiagramSquare {
        west/style = lies over,
        east/style = lies over,
        north/node/style = upright desc,
        height = 1.5cm,
        nw = \bar {x},
        ne = \bar {y},
        sw = x,
        se = y,
        south = f,
        north = \bar {f},
      }
      \node  (w) [left = of sw] {$w$};
      \node  (w') [left = of nw] {$\bar {w}$};
      \draw [lies over] (w') to (w);
      \draw [->] (w) to node [below] {$m$} (sw);
      \draw [bend left=30] (w') to node [above] {$\bar {h}$} (ne);
    \end {tikzpicture}
  ]]></fr:resource-source></fr:resource></html:figure>
 


  <html:p>We must define the unique intervening map <fr:tex display="inline"><![CDATA[{\bar {w}}\xrightarrow [m]{}{\bar {x}}]]></fr:tex> in <fr:tex display="inline"><![CDATA[E^{\mathsf {op}}]]></fr:tex>. We first translate the above into the language of <fr:tex display="inline"><![CDATA[E]]></fr:tex> by unfolding definitions:</html:p>

  
 
  
  <html:figure><fr:resource hash="ec530fe1355e2040dc6c9a7ebf34ecd6"><fr:resource-content><html:img src="/ec530fe1355e2040dc6c9a7ebf34ecd6.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
    \begin {tikzpicture}[diagram]
      \SpliceDiagramSquare <0/>{
        west/style = lies over,
        east/style = lies over,
        north/style = {<-},
        south/style = double,
        height = 1.5cm,
        nw = \bar {w},
        sw = w,
        se = w,
        ne = \bar {y}_{w},
        north = \bar {h},
        ne/style = pullback,
      }
      \SpliceDiagramSquare <1/>{
        glue = west,
        glue target = 0/,
        east/style = lies over,
        height = 1.5cm,
        ne/style = pullback,
        se = x,
        ne = \bar {y}_{x}\cong  \bar {x},
        south = m,
      }
      \SpliceDiagramSquare <2/>{
        glue = west,
        glue target = 1/,
        east/style = lies over,
        height = 1.5cm,
        se = y,
        ne = \bar {y},
        south = f,
        north = \bar {f},
      }
    \end {tikzpicture}
  ]]></fr:resource-source></fr:resource></html:figure>
 


  <html:p>The desired intervening map <fr:tex display="inline"><![CDATA[\bar {w}\xrightarrow [m]{} \bar {x}\in  E^{\mathsf {op}}]]></fr:tex> shakes out in the language of <fr:tex display="inline"><![CDATA[E]]></fr:tex> to be a span <fr:tex display="inline"><![CDATA[{\mathopen {}\left \{\bar {w}\xleftarrow [1_{w}]{} \bar {y}_{w}\xrightarrow [m]{} \bar {x}\right \}\mathclose {}}]]></fr:tex> in which the left-hand leg is vertical and the right-hand leg is cartesian over <fr:tex display="inline"><![CDATA[{w}\xrightarrow {{m}}{x}]]></fr:tex>. But the left-hand span <fr:tex display="inline"><![CDATA[{\mathopen {}\left \{\bar {w}\xleftarrow [1_{w}]{}\bar {y}_{w}\to  \bar {y}_{x}\cong  \bar {x}\right \}\mathclose {}}]]></fr:tex> in the diagram above is exactly what we need.</html:p>

  <html:p>We leave the converse to the reader.</html:p>
</fr:mainmatter></fr:tree>
 
</fr:mainmatter>
                        </fr:tree>
                      </fr:mainmatter>
                    </fr:tree>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors />
                        <fr:uri>https://www.jonmsterling.com/frct-000U/</fr:uri>
                        <fr:display-uri>frct-000U</fr:display-uri>
                        <fr:route>/frct-000U/</fr:route>
                        <fr:title text="Cartesian lifts in the opposite category">Cartesian lifts in the opposite category</fr:title>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>The foregoing characterization of cartesian maps in <fr:tex display="inline"><![CDATA[E^{\mathsf {op}}]]></fr:tex> immediately implies that <fr:tex display="inline"><![CDATA[E^{\mathsf {op}}]]></fr:tex> is fibered over <fr:tex display="inline"><![CDATA[B]]></fr:tex>.</html:p>
                        <fr:tree show-metadata="false">
                          <fr:frontmatter>
                            <fr:authors />
                            <fr:uri>https://www.jonmsterling.com/frct-0021/</fr:uri>
                            <fr:display-uri>frct-0021</fr:display-uri>
                            <fr:route>/frct-0021/</fr:route>
                            <fr:taxon>Corollary</fr:taxon>
                          </fr:frontmatter>
                          <fr:mainmatter><html:p>The displayed category <fr:tex display="inline"><![CDATA[E^{\mathsf {op}}]]></fr:tex> is a cartesian fibration.</html:p>
 
   
   <fr:tree show-metadata="false" toc="false"><fr:frontmatter><fr:authors /><fr:taxon>Proof</fr:taxon></fr:frontmatter><fr:mainmatter>
  <html:p>Fixing <fr:tex display="inline"><![CDATA[\bar {y}\in  E^{\mathsf {op}}_{y}]]></fr:tex> and <fr:tex display="inline"><![CDATA[f:x\to  y\in  B]]></fr:tex>, we must
  exhibit a cartesian lift <fr:tex display="inline"><![CDATA[\bar {f} : \bar {x}\xrightarrow [f]{}\bar {y}\in  E^{\mathsf {op}}]]></fr:tex>.
  By the <fr:link href="/frct-000T/" title="Cartesian maps in the opposite category" uri="https://www.jonmsterling.com/frct-000T/" display-uri="frct-000T" type="local">characterization</fr:link> it suffices to find <html:em>any</html:em> map over <fr:tex display="inline"><![CDATA[f]]></fr:tex> whose vertical component is an isomorphism. Writing <fr:tex display="inline"><![CDATA[\bar {y}_{x}\xrightarrow [f]{}\bar {y}]]></fr:tex> for the cartesian lift of <fr:tex display="inline"><![CDATA[f]]></fr:tex> in <fr:tex display="inline"><![CDATA[E]]></fr:tex>, consider the map in <fr:tex display="inline"><![CDATA[E^{\mathsf {op}}]]></fr:tex> presented by the following span in <fr:tex display="inline"><![CDATA[E]]></fr:tex>:</html:p>

  
 
  
  <html:figure><fr:resource hash="db61a135f56abc25a2165f9e751e000e"><fr:resource-content><html:img src="/db61a135f56abc25a2165f9e751e000e.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
    \begin {tikzpicture}[diagram]
      \SpliceDiagramSquare <l/>{
        nw = \bar {y}_{x},
        ne = \bar {y}_{x},
        sw = x,
        se = x,
        north/style = double,
        south/style = double,
        west/style = lies over,
        east/style = lies over,
        ne/style = pullback,
        height = 1.5cm,
      }
      \SpliceDiagramSquare <r/>{
        glue = west,
        glue target = l/,
        height = 1.5cm,
        east/style = lies over,
        ne = \bar {y},
        se = y,
        south = f,
      }
    \end {tikzpicture}
  ]]></fr:resource-source></fr:resource></html:figure>
 


</fr:mainmatter></fr:tree>
 
</fr:mainmatter>
                        </fr:tree>
                      </fr:mainmatter>
                    </fr:tree>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors />
                        <fr:uri>https://www.jonmsterling.com/frct-000S/</fr:uri>
                        <fr:display-uri>frct-000S</fr:display-uri>
                        <fr:route>/frct-000S/</fr:route>
                        <fr:title text="Exegesis of opposite categories">Exegesis of opposite categories</fr:title>
                      </fr:frontmatter>
                      <fr:mainmatter><html:p>The construction of <fr:link href="/frct-001Z/" title="The opposite of an uncloven fibration" uri="https://www.jonmsterling.com/frct-001Z/" display-uri="frct-001Z" type="local">fibered opposite categories</fr:link> does appear quite involved, but it can be seen to be inevitable from the perspective of the <fr:link href="/frct-0005/" title="Fiber categories and vertical maps" uri="https://www.jonmsterling.com/frct-0005/" display-uri="frct-0005" type="local">fiber categories</fr:link> <fr:tex display="inline"><![CDATA[E^{\mathsf {op}}_{x}]]></fr:tex>. Indeed, let <fr:tex display="inline"><![CDATA[u,v\in  E^{\mathsf {op}}_{x}]]></fr:tex> and fix a <html:em>vertical</html:em> map <fr:tex display="inline"><![CDATA[h : u \to  v\in  E^{\mathsf {op}}_{x}]]></fr:tex>; by unfolding definitions, we see that the vertical map <fr:tex display="inline"><![CDATA[h : u \to  v]]></fr:tex> is uniquely determined by a morphism <fr:tex display="inline"><![CDATA[v\to  u\in  E_{x}]]></fr:tex>.</html:p>
 
   
   <fr:tree show-metadata="false" toc="false"><fr:frontmatter><fr:authors /><fr:taxon>Proof</fr:taxon></fr:frontmatter><fr:mainmatter>
  <html:p>A displayed morphism <fr:tex display="inline"><![CDATA[u\xrightarrow [1_{x}]{} v\in  E^{\mathsf {op}}]]></fr:tex> is
determined by a span <fr:tex display="inline"><![CDATA[{\mathopen {}\left \{u\leftarrow  v_{x} \to  v\right \}\mathclose {}}\in  E]]></fr:tex> where the right-hand
map is cartesian over <fr:tex display="inline"><![CDATA[1_{x} : x\to  x]]></fr:tex> and the left-hand map is vertical, taken up to the identification of different cartesian lifts <fr:tex display="inline"><![CDATA[v_{x}\to  x]]></fr:tex>. A displayed morphism that is cartesian over the identity is an isomorphism; hence, displayed morphisms <fr:tex display="inline"><![CDATA[u\xrightarrow [1_{x}]{} v\in E^{\mathsf {op}}]]></fr:tex> are equivalently determined by vertical maps <fr:tex display="inline"><![CDATA[v\to  u \in  E]]></fr:tex>.</html:p>
</fr:mainmatter></fr:tree>
 
</fr:mainmatter>
                    </fr:tree>
                  </fr:mainmatter>
                </fr:tree>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors>
                      <fr:contributor>
                        <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                      </fr:contributor>
                    </fr:authors>
                    <fr:uri>https://www.jonmsterling.com/frct-0006/</fr:uri>
                    <fr:display-uri>frct-0006</fr:display-uri>
                    <fr:route>/frct-0006/</fr:route>
                    <fr:title text="The family fibration">The family fibration</fr:title>
                    <fr:taxon>Example</fr:taxon>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>Any ordinary category <fr:tex display="inline"><![CDATA[C]]></fr:tex> can be viewed as a displayed category <fr:tex display="inline"><![CDATA[\boldsymbol {\mathcal {F}}_{C}]]></fr:tex> over <fr:tex display="inline"><![CDATA[\mathbf {Set}]]></fr:tex>:</html:p>
                    <html:ol><html:li>For <fr:tex display="inline"><![CDATA[S\in  \mathbf {Set}]]></fr:tex>, an object in <fr:tex display="inline"><![CDATA[\boldsymbol {\mathcal {F}}_{C}[S]]]></fr:tex> is specified by a functor <fr:tex display="inline"><![CDATA[C^S]]></fr:tex> where <fr:tex display="inline"><![CDATA[S]]></fr:tex> is regarded as a discrete category.</html:li>
  <html:li>Given <fr:tex display="inline"><![CDATA[f : S \to  T]]></fr:tex> in <fr:tex display="inline"><![CDATA[\mathbf {Set}]]></fr:tex> and <fr:tex display="inline"><![CDATA[x\in  C^S]]></fr:tex> and <fr:tex display="inline"><![CDATA[y\in  C^T]]></fr:tex>, a morphism <fr:tex display="inline"><![CDATA[x \xrightarrow [f]{} y]]></fr:tex> is given by a morphism <fr:tex display="inline"><![CDATA[x\to  f^{*}y]]></fr:tex> in <fr:tex display="inline"><![CDATA[C^S]]></fr:tex> where <fr:tex display="inline"><![CDATA[{C^T}\xrightarrow {{f^{*}}}{C^S}]]></fr:tex> is precomposition with <fr:tex display="inline"><![CDATA[f]]></fr:tex>.</html:li></html:ol>
                    <html:p>The displayed category <fr:tex display="inline"><![CDATA[\boldsymbol {\mathcal {F}}_{C}]]></fr:tex> is in fact a cartesian fibration. This family fibration is the starting point for developing a <html:em>relative</html:em> form of category theory, the purpose of this lecture. By analogy with viewing an ordinary category <fr:tex display="inline"><![CDATA[C]]></fr:tex> as a fibration <fr:tex display="inline"><![CDATA[\boldsymbol {\mathcal {F}}_{C}]]></fr:tex> over <fr:tex display="inline"><![CDATA[\mathbf {Set}]]></fr:tex>, we may reasonably define a “relative category” over another base <fr:tex display="inline"><![CDATA[B]]></fr:tex> to be a fibration over <fr:tex display="inline"><![CDATA[B]]></fr:tex>.</html:p>
                    <html:p>This story for relative category theory reflects the way that ordinary categories are “based on” <fr:tex display="inline"><![CDATA[\mathbf {Set}]]></fr:tex> in some sense in spite of the fact that they do not necessarily have sets of objects or even sets of morphisms between objects. Being small and locally small respectively will later be seen to be properties of a family fibration over an arbitrary base <fr:tex display="inline"><![CDATA[B]]></fr:tex>, strictly generalizing the classical notions.</html:p>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:author>
                            <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                          </fr:author>
                        </fr:authors>
                        <fr:date>
                          <fr:year>2023</fr:year>
                          <fr:month>3</fr:month>
                          <fr:day>11</fr:day>
                        </fr:date>
                        <fr:uri>https://www.jonmsterling.com/frct-003V/</fr:uri>
                        <fr:display-uri>frct-003V</fr:display-uri>
                        <fr:route>/frct-003V/</fr:route>
                        <fr:title text="Cleaving the family fibration">Cleaving the family fibration</fr:title>
                        <fr:taxon>Construction</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>The <fr:link href="/frct-0006/" title="The family fibration" uri="https://www.jonmsterling.com/frct-0006/" display-uri="frct-0006" type="local">family fibration</fr:link> can be <fr:link href="/frct-003T/" title="Cleaving of a displayed category" uri="https://www.jonmsterling.com/frct-003T/" display-uri="frct-003T" type="local">cloven</fr:link>, constructively. In particular, let <fr:tex display="inline"><![CDATA[C]]></fr:tex> be a category and consider the <fr:link href="/frct-0006/" title="The family fibration" uri="https://www.jonmsterling.com/frct-0006/" display-uri="frct-0006" type="local">family fibration</fr:link> <fr:tex display="inline"><![CDATA[\boldsymbol {\mathcal {F}}_{C}]]></fr:tex> over <fr:tex display="inline"><![CDATA[\mathbf {Set}]]></fr:tex>; let <fr:tex display="inline"><![CDATA[{T}\xrightarrow {{f}}{S}]]></fr:tex> be a function between sets and let <fr:tex display="inline"><![CDATA[u\in  C^S]]></fr:tex> be an <fr:tex display="inline"><![CDATA[S]]></fr:tex>-indexed family of objects of <fr:tex display="inline"><![CDATA[C]]></fr:tex>. The family <fr:tex display="inline"><![CDATA[f^{*}u = f;u\in  C^T]]></fr:tex> is the object part of a cartesian lift for <fr:tex display="inline"><![CDATA[u]]></fr:tex> along <fr:tex display="inline"><![CDATA[f]]></fr:tex>. The <fr:link href="/frct-0001/" title="Cartesian morphism" uri="https://www.jonmsterling.com/frct-0001/" display-uri="frct-0001" type="local">cartesian morphism</fr:link> <fr:tex display="inline"><![CDATA[{f^{*}u}\xrightarrow [f]{\bar {f}}{u}\in \boldsymbol {\mathcal {F}}_{C}]]></fr:tex> is given by the identity map <fr:tex display="inline"><![CDATA[{f^{*}u}\xrightarrow {{1_{f^{*}u}}}{f^{*}u}\in  C^T]]></fr:tex>.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                  </fr:mainmatter>
                </fr:tree>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors />
                    <fr:uri>https://www.jonmsterling.com/frct-0007/</fr:uri>
                    <fr:display-uri>frct-0007</fr:display-uri>
                    <fr:route>/frct-0007/</fr:route>
                    <fr:title text="Change of base of displayed categories">Change of base of displayed categories</fr:title>
                    <fr:taxon>Construction</fr:taxon>
                  </fr:frontmatter>
                  <fr:mainmatter><html:p>Suppose that <fr:tex display="inline"><![CDATA[E]]></fr:tex> is displayed over <fr:tex display="inline"><![CDATA[B]]></fr:tex> and <fr:tex display="inline"><![CDATA[{X}\xrightarrow {{F}}{B}]]></fr:tex> is a
functor; then we may define a displayed category <fr:tex display="inline"><![CDATA[F^{*}E]]></fr:tex> as over <fr:tex display="inline"><![CDATA[X]]></fr:tex> follows:</html:p><html:ol><html:li>An object of <fr:tex display="inline"><![CDATA[(F^{*}E)_{x}]]></fr:tex> is an object of <fr:tex display="inline"><![CDATA[E_{Fx}]]></fr:tex>.</html:li>
  <html:li>Given <fr:tex display="inline"><![CDATA[\bar {x}\in  (F^{*}E)_{x}]]></fr:tex>, <fr:tex display="inline"><![CDATA[\bar {y}\in  (F^{*}E)_{y}]]></fr:tex> and <fr:tex display="inline"><![CDATA[f : x \to  y]]></fr:tex>, a morphism <fr:tex display="inline"><![CDATA[\bar {x}\xrightarrow [f]{}\bar {y}]]></fr:tex> in <fr:tex display="inline"><![CDATA[F^{*}E]]></fr:tex> is given by a morphism <fr:tex display="inline"><![CDATA[\bar {x}\xrightarrow [Ff]{}\bar {y}]]></fr:tex> in <fr:tex display="inline"><![CDATA[E]]></fr:tex>.</html:li></html:ol><html:p>We visualize the change of base scenario as follows:</html:p>
 
  
  <html:figure><fr:resource hash="6571f70748320b5cd25dd01c2742f9af"><fr:resource-content><html:img src="/6571f70748320b5cd25dd01c2742f9af.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
  \DiagramSquare {
    nw/style = pullback,
    west/style = lies over,
    east/style = lies over,
    height = 1.5cm,
    nw = F^{*}{E},
    ne = E,
    sw = X,
    se = B,
    south = F,
  }
]]></fr:resource-source></fr:resource></html:figure>
 
</fr:mainmatter>
                </fr:tree>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors />
                    <fr:uri>https://www.jonmsterling.com/frct-002J/</fr:uri>
                    <fr:display-uri>frct-002J</fr:display-uri>
                    <fr:route>/frct-002J/</fr:route>
                    <fr:title text="Full subfibrations and figure shapes">Full subfibrations and figure shapes</fr:title>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>In a category <fr:tex display="inline"><![CDATA[E]]></fr:tex>, a morphism <fr:tex display="inline"><![CDATA[{x}\xrightarrow {{f}}{y}]]></fr:tex> can be thought of as a “figure” of shape <fr:tex display="inline"><![CDATA[x]]></fr:tex> drawn in <fr:tex display="inline"><![CDATA[y]]></fr:tex>. For instance, if <fr:tex display="inline"><![CDATA[x]]></fr:tex> is the point (i.e. <fr:tex display="inline"><![CDATA[x=\mathbf {1}_{E}]]></fr:tex>) then a morphism <fr:tex display="inline"><![CDATA[x\to  y]]></fr:tex> is a “point” of the “space” <fr:tex display="inline"><![CDATA[y]]></fr:tex>. We refer to <fr:tex display="inline"><![CDATA[x]]></fr:tex> as the figure-shape in any such scenario. The perspective of morphisms as figures is developed in more detail by Lawvere and Schanuel.</html:p>
                    <html:p>It often happens that a useful class of figure shapes can be arranged into a <html:em>set</html:em>-indexed family <fr:tex display="inline"><![CDATA[{\mathopen {}\left (u_{i}\right )\mathclose {}}_{i\in  I}]]></fr:tex>; viewed from the perspective of the <fr:link href="/frct-0006/" title="The family fibration" uri="https://www.jonmsterling.com/frct-0006/" display-uri="frct-0006" type="local">family fibration</fr:link> <fr:tex display="inline"><![CDATA[\boldsymbol {\mathcal {F}}_{E}]]></fr:tex>, this family is just a displayed object <fr:tex display="inline"><![CDATA[\bar {u}]]></fr:tex> over <fr:tex display="inline"><![CDATA[I]]></fr:tex> and then a figure shape “in” this family is given by any cartesian morphism <fr:tex display="inline"><![CDATA[\bar {z}\to \bar {u}]]></fr:tex>. We will generalize this situation to the case of an arbitrary fibration, by constructing the full subfibration spanned by displayed objects equipped with a cartesian morphism into <fr:tex display="inline"><![CDATA[\bar {u}]]></fr:tex> in <fr:link href="/frct-0010/" title="The full subfibration associated to a displayed object" uri="https://www.jonmsterling.com/frct-0010/" display-uri="frct-0010" type="local">the associated full subfibration</fr:link> below.</html:p>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors />
                        <fr:uri>https://www.jonmsterling.com/frct-0010/</fr:uri>
                        <fr:display-uri>frct-0010</fr:display-uri>
                        <fr:route>/frct-0010/</fr:route>
                        <fr:title text="The full subfibration associated to a displayed object">The full subfibration associated to a displayed object</fr:title>
                        <fr:taxon>Construction</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>Let <fr:tex display="inline"><![CDATA[E]]></fr:tex> be a cartesian fibration over <fr:tex display="inline"><![CDATA[B]]></fr:tex>; then any displayed object <fr:tex display="inline"><![CDATA[\bar {x} \in  E_{x}]]></fr:tex> induces a <html:em>full subfibration</html:em> <fr:tex display="inline"><![CDATA[\mathbf {Full}{\mathopen {}\left (\bar {u}\right )\mathclose {}}\subseteq  E]]></fr:tex> spanned by displayed objects that are classified by <fr:tex display="inline"><![CDATA[\bar {u}]]></fr:tex>, i.e. arise from <fr:tex display="inline"><![CDATA[\bar {u}]]></fr:tex> by cartesian lift.</html:p>
                        <html:ol><html:li>An object of <fr:tex display="inline"><![CDATA[\mathbf {Full}{\mathopen {}\left (\bar {u}\right )\mathclose {}}_{x}]]></fr:tex> is specified by an object <fr:tex display="inline"><![CDATA[\bar {x}\in  E_{x}]]></fr:tex> together with a cartesian morphism <fr:tex display="inline"><![CDATA[\bar {x}\to  \bar {u}]]></fr:tex>.</html:li>
  <html:li>Given <fr:tex display="inline"><![CDATA[{x}\xrightarrow {{f}}{y}\in  B]]></fr:tex>, a morphism from <fr:tex display="inline"><![CDATA[\bar {x}\to  \bar {u}]]></fr:tex> to <fr:tex display="inline"><![CDATA[\bar {y}\to \bar {u}\in ]]></fr:tex> over <fr:tex display="inline"><![CDATA[f]]></fr:tex> is given by any displayed morphism <fr:tex display="inline"><![CDATA[\bar {x}\xrightarrow [f]{}\bar {y}]]></fr:tex>.</html:li></html:ol>
                      </fr:mainmatter>
                    </fr:tree>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors />
                        <fr:uri>https://www.jonmsterling.com/frct-002K/</fr:uri>
                        <fr:display-uri>frct-002K</fr:display-uri>
                        <fr:route>/frct-002K/</fr:route>
                        <fr:title text="Figures and figure shapes in the full subfibration">Figures and figure shapes in the full subfibration</fr:title>
                        <fr:taxon>Definition</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>Let <fr:tex display="inline"><![CDATA[E]]></fr:tex> be a cartesian fibration and let <fr:tex display="inline"><![CDATA[\mathbf {Full}{\mathopen {}\left (\bar {s}\right )\mathclose {}}\subseteq  E]]></fr:tex> be the <fr:link href="/frct-0010/" title="The full subfibration associated to a displayed object" uri="https://www.jonmsterling.com/frct-0010/" display-uri="frct-0010" type="local">full subfibration</fr:link> determined by a displayed object <fr:tex display="inline"><![CDATA[\bar {s}\in  E]]></fr:tex>. We now develop the following vocabulary:</html:p>
                        <html:ol><html:li>We will refer to each object of <fr:tex display="inline"><![CDATA[\mathbf {Full}{\mathopen {}\left (\bar {s}\right )\mathclose {}}]]></fr:tex> as a <fr:tex display="inline"><![CDATA[\bar {s}]]></fr:tex>-figure shape.</html:li>
  <html:li>A displayed morphism <fr:tex display="inline"><![CDATA[\bar {z}\to  \bar {x}]]></fr:tex> is called a <fr:tex display="inline"><![CDATA[\bar {s}]]></fr:tex>-figure whenever <fr:tex display="inline"><![CDATA[\bar {z}\in \mathbf {Full}{\mathopen {}\left (\bar {s}\right )\mathclose {}}]]></fr:tex>.</html:li></html:ol>
                      </fr:mainmatter>
                    </fr:tree>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors />
                        <fr:uri>https://www.jonmsterling.com/frct-002I/</fr:uri>
                        <fr:display-uri>frct-002I</fr:display-uri>
                        <fr:route>/frct-002I/</fr:route>
                        <fr:title text="Agreement on a class of figure shapes">Agreement on a class of figure shapes</fr:title>
                        <fr:taxon>Definition</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>Let <fr:tex display="inline"><![CDATA[\bar {s}]]></fr:tex> be a displayed object in a cartesian fibration <fr:tex display="inline"><![CDATA[E]]></fr:tex> over <fr:tex display="inline"><![CDATA[B]]></fr:tex>. A pair of displayed morphisms <fr:tex display="inline"><![CDATA[{\bar {x}}\xrightarrow {{f,g}}{\bar {y}}\in  E]]></fr:tex> are said to <html:em>agree on <fr:tex display="inline"><![CDATA[\bar {s}]]></fr:tex>-figures</html:em> when for any <fr:link href="/frct-002K/" title="Figures and figure shapes in the full subfibration" uri="https://www.jonmsterling.com/frct-002K/" display-uri="frct-002K" type="local"><fr:tex display="inline"><![CDATA[\bar {s}]]></fr:tex>-figure</fr:link> <fr:tex display="inline"><![CDATA[{\bar {z}}\xrightarrow {{h}}{\bar {x}}]]></fr:tex>, we have <fr:tex display="inline"><![CDATA[{\bar {z}}\xrightarrow {{h;f = h;g}}{\bar {y}}]]></fr:tex>.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                  </fr:mainmatter>
                </fr:tree>
              </fr:mainmatter>
            </fr:tree>
            <fr:tree show-metadata="false">
              <fr:frontmatter>
                <fr:authors>
                  <fr:author>
                    <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                  </fr:author>
                </fr:authors>
                <fr:date>
                  <fr:year>2023</fr:year>
                  <fr:month>5</fr:month>
                  <fr:day>31</fr:day>
                </fr:date>
                <fr:uri>https://www.jonmsterling.com/jms-005H/</fr:uri>
                <fr:display-uri>jms-005H</fr:display-uri>
                <fr:route>/jms-005H/</fr:route>
                <fr:title text="Displayed functors and natural transformations">Displayed functors and natural transformations</fr:title>
              </fr:frontmatter>
              <fr:mainmatter>
                <html:p>We will develop the theory of functors between <fr:link href="/frct-0000/" title="Displayed category" uri="https://www.jonmsterling.com/frct-0000/" display-uri="frct-0000" type="local">displayed categories</fr:link> or <fr:link href="/frct-0002/" title="Cartesian fibration" uri="https://www.jonmsterling.com/frct-0002/" display-uri="frct-0002" type="local">fibrations</fr:link> as well as natural transformations between these functors, building on <fr:link href="/ahrens-lumsdaine-2019/" title="Displayed categories" uri="https://www.jonmsterling.com/ahrens-lumsdaine-2019/" display-uri="ahrens-lumsdaine-2019" type="local">Ahrens and Lumsdaine</fr:link> and <fr:link href="/jacobs-1999/" title="Categorical logic and type theory" uri="https://www.jonmsterling.com/jacobs-1999/" display-uri="jacobs-1999" type="local">Jacobs</fr:link>.</html:p>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors>
                      <fr:author>
                        <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                      </fr:author>
                    </fr:authors>
                    <fr:date>
                      <fr:year>2023</fr:year>
                      <fr:month>5</fr:month>
                      <fr:day>31</fr:day>
                    </fr:date>
                    <fr:uri>https://www.jonmsterling.com/jms-005I/</fr:uri>
                    <fr:display-uri>jms-005I</fr:display-uri>
                    <fr:route>/jms-005I/</fr:route>
                    <fr:title text="Displayed functor">Displayed functor</fr:title>
                    <fr:taxon>Definition</fr:taxon>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>Let <fr:tex display="inline"><![CDATA[X]]></fr:tex> be a <fr:link href="/frct-0000/" title="Displayed category" uri="https://www.jonmsterling.com/frct-0000/" display-uri="frct-0000" type="local">displayed category</fr:link> over <fr:tex display="inline"><![CDATA[B]]></fr:tex> and let <fr:tex display="inline"><![CDATA[Y]]></fr:tex> be a <fr:link href="/frct-0000/" title="Displayed category" uri="https://www.jonmsterling.com/frct-0000/" display-uri="frct-0000" type="local">displayed category</fr:link> over <fr:tex display="inline"><![CDATA[C]]></fr:tex>, and let <fr:tex display="inline"><![CDATA[{B}\xrightarrow {{F}}{C}]]></fr:tex> be a functor. A <html:em>displayed functor</html:em> from <fr:tex display="inline"><![CDATA[X]]></fr:tex> to <fr:tex display="inline"><![CDATA[Y]]></fr:tex> over <fr:tex display="inline"><![CDATA[F]]></fr:tex>, written <fr:tex display="inline"><![CDATA[{X}\xrightarrow [F]{\bar F}{Y}]]></fr:tex> is defined by the following data:</html:p>
                    <html:ol><html:li>for each displayed object <fr:tex display="inline"><![CDATA[x\in  X^b]]></fr:tex>, an assigned object <fr:tex display="inline"><![CDATA[\bar F_b x \in  Y^{F b}]]></fr:tex>;</html:li>
  <html:li>for each displayed morphism <fr:tex display="inline"><![CDATA[{x}\xrightarrow [f]{\bar {f}}{y}]]></fr:tex> in <fr:tex display="inline"><![CDATA[X]]></fr:tex> over <fr:tex display="inline"><![CDATA[{b}\xrightarrow {{f}}{c}]]></fr:tex> in <fr:tex display="inline"><![CDATA[B]]></fr:tex>, an assigned morphism <fr:tex display="inline"><![CDATA[{\bar F_b{x}}\xrightarrow [F{f}]{\bar F_f\bar {f}}{\bar F_c y}]]></fr:tex>;</html:li>
  <html:li>such that <fr:tex display="inline"><![CDATA[\bar F_{1_{b}} 1_{x} = 1_{\bar F_b x}]]></fr:tex> and <fr:tex display="inline"><![CDATA[\bar F_{f;g}{\mathopen {}\left (\bar {f};\bar {g}\right )\mathclose {}}=\bar F_f{\bar {f}};\bar F_g{\bar {g}}]]></fr:tex>.</html:li></html:ol>
                    <html:p>When it does not cause confusion, we may drop some of the subscripts in our notation.</html:p>
                  </fr:mainmatter>
                </fr:tree>
                <html:p>The notion of <fr:link href="/jms-005J/" title="Fibered functor" uri="https://www.jonmsterling.com/jms-005J/" display-uri="jms-005J" type="local">fibered functor</fr:link> below makes sense for arbitrary <fr:link href="/frct-0000/" title="Displayed category" uri="https://www.jonmsterling.com/frct-0000/" display-uri="frct-0000" type="local">displayed categories</fr:link>, but it is most useful when applied to <fr:link href="/frct-0002/" title="Cartesian fibration" uri="https://www.jonmsterling.com/frct-0002/" display-uri="frct-0002" type="local">fibrations</fr:link>.</html:p>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors>
                      <fr:author>
                        <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                      </fr:author>
                    </fr:authors>
                    <fr:date>
                      <fr:year>2023</fr:year>
                      <fr:month>5</fr:month>
                      <fr:day>31</fr:day>
                    </fr:date>
                    <fr:uri>https://www.jonmsterling.com/jms-005J/</fr:uri>
                    <fr:display-uri>jms-005J</fr:display-uri>
                    <fr:route>/jms-005J/</fr:route>
                    <fr:title text="Fibered functor">Fibered functor</fr:title>
                    <fr:taxon>Definition</fr:taxon>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>Let <fr:tex display="inline"><![CDATA[X]]></fr:tex> be a <fr:link href="/frct-0000/" title="Displayed category" uri="https://www.jonmsterling.com/frct-0000/" display-uri="frct-0000" type="local">displayed category</fr:link> over <fr:tex display="inline"><![CDATA[B]]></fr:tex> and let <fr:tex display="inline"><![CDATA[Y]]></fr:tex> be a <fr:link href="/frct-0000/" title="Displayed category" uri="https://www.jonmsterling.com/frct-0000/" display-uri="frct-0000" type="local">displayed category</fr:link> over <fr:tex display="inline"><![CDATA[C]]></fr:tex>, and let <fr:tex display="inline"><![CDATA[{B}\xrightarrow {{F}}{C}]]></fr:tex> be a functor. A <fr:link href="/jms-005I/" title="Displayed functor" uri="https://www.jonmsterling.com/jms-005I/" display-uri="jms-005I" type="local">displayed functor</fr:link> from <fr:tex display="inline"><![CDATA[X]]></fr:tex> to <fr:tex display="inline"><![CDATA[Y]]></fr:tex> over <fr:tex display="inline"><![CDATA[F]]></fr:tex> is called <html:em>fibered</html:em> when it preserves <fr:link href="/frct-0001/" title="Cartesian morphism" uri="https://www.jonmsterling.com/frct-0001/" display-uri="frct-0001" type="local">cartesian morphisms</fr:link>.</html:p>
                  </fr:mainmatter>
                </fr:tree>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors>
                      <fr:author>
                        <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                      </fr:author>
                    </fr:authors>
                    <fr:date>
                      <fr:year>2023</fr:year>
                      <fr:month>5</fr:month>
                      <fr:day>31</fr:day>
                    </fr:date>
                    <fr:uri>https://www.jonmsterling.com/jms-005K/</fr:uri>
                    <fr:display-uri>jms-005K</fr:display-uri>
                    <fr:route>/jms-005K/</fr:route>
                    <fr:title text="Displayed natural transformation">Displayed natural transformation</fr:title>
                    <fr:taxon>Definition</fr:taxon>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>Let <fr:tex display="inline"><![CDATA[X]]></fr:tex> be a <fr:link href="/frct-0000/" title="Displayed category" uri="https://www.jonmsterling.com/frct-0000/" display-uri="frct-0000" type="local">displayed category</fr:link> over <fr:tex display="inline"><![CDATA[B]]></fr:tex> and let <fr:tex display="inline"><![CDATA[Y]]></fr:tex> be a <fr:link href="/frct-0000/" title="Displayed category" uri="https://www.jonmsterling.com/frct-0000/" display-uri="frct-0000" type="local">displayed category</fr:link> over <fr:tex display="inline"><![CDATA[C]]></fr:tex>, and let <fr:tex display="inline"><![CDATA[{X}\xrightarrow [F]{\bar F}{Y}]]></fr:tex> and <fr:tex display="inline"><![CDATA[{X}\xrightarrow [G]{\bar G}{Y}]]></fr:tex> be two displayed functors over <fr:tex display="inline"><![CDATA[{B}\xrightarrow {{F,G}}{C}]]></fr:tex> respectively. Given a natural transformation <fr:tex display="inline"><![CDATA[{F}\xrightarrow {{\alpha }}{G}]]></fr:tex>, a <html:em>displayed dinatural transformation</html:em> from <fr:tex display="inline"><![CDATA[\bar F]]></fr:tex> to <fr:tex display="inline"><![CDATA[\bar G]]></fr:tex> over <fr:tex display="inline"><![CDATA[\alpha ]]></fr:tex>, written <fr:tex display="inline"><![CDATA[{\bar F}\xrightarrow [\alpha ]{\bar \alpha }{\bar G}]]></fr:tex>, is defined by the following data:</html:p>
                    <html:ol><html:li>for each displayed object <fr:tex display="inline"><![CDATA[x\in  X^b]]></fr:tex>, an assigned displayed morphism <fr:tex display="inline"><![CDATA[{\bar F{x}}\xrightarrow [\alpha _b]{\bar \alpha _x}{\bar G{x}}]]></fr:tex>;</html:li>
  <html:li>such that for each <fr:tex display="inline"><![CDATA[{x}\xrightarrow [f]{\bar {f}}{y}]]></fr:tex> in <fr:tex display="inline"><![CDATA[X]]></fr:tex>, we have <fr:tex display="inline"><![CDATA[\bar \alpha _x; \bar G\bar {f} = \bar F\bar {f};\bar \alpha _y]]></fr:tex>.</html:li></html:ol>
                  </fr:mainmatter>
                </fr:tree>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors>
                      <fr:author>
                        <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                      </fr:author>
                    </fr:authors>
                    <fr:date>
                      <fr:year>2023</fr:year>
                      <fr:month>5</fr:month>
                      <fr:day>31</fr:day>
                    </fr:date>
                    <fr:uri>https://www.jonmsterling.com/jms-005N/</fr:uri>
                    <fr:display-uri>jms-005N</fr:display-uri>
                    <fr:route>/jms-005N/</fr:route>
                    <fr:title text="Vertical functors and natural transformations">Vertical functors and natural transformations</fr:title>
                    <fr:taxon>Remark</fr:taxon>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>In practice, we will frequently consider <html:em>vertical</html:em> displayed functors between fibrations over the same base category <fr:tex display="inline"><![CDATA[B]]></fr:tex>, i.e. <fr:link href="/jms-005I/" title="Displayed functor" uri="https://www.jonmsterling.com/jms-005I/" display-uri="jms-005I" type="local">functors displayed</fr:link> over the identity functor <fr:tex display="inline"><![CDATA[{B}\xrightarrow {{1_{B}}}{B}]]></fr:tex>. Likewise, we will often consider vertical natural transformations between vertical functors, i.e. <fr:link href="/jms-005K/" title="Displayed natural transformation" uri="https://www.jonmsterling.com/jms-005K/" display-uri="jms-005K" type="local">natural transformations</fr:link> whose components are vertical. The vertical and non-vertical perspectives give rise to two different (very large) displayed categories of displayed categories, one with unfixed base, and the other with a fixed base. Both viewpoints are important, but it is important not to get them confused.</html:p>
                  </fr:mainmatter>
                </fr:tree>
                <html:p>We wish to define displayed versions of <fr:link href="/jms-005M/" title="Dinatural transformation" uri="https://www.jonmsterling.com/jms-005M/" display-uri="jms-005M" type="local">dinatural transformations</fr:link>, but there is some question of how much verticality to assume in the definition: for instance, we could define a displayed dinatural transformation over a dinatural transformation, or we could define a totally vertical notion of dinatural transformation. It is unclear to me that the latter would be an instance of the former. We will focus on the latter, because it is most useful in practice when using displayed category theory to formalize reasoning over a fixed base category.</html:p>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors>
                      <fr:author>
                        <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                      </fr:author>
                    </fr:authors>
                    <fr:date>
                      <fr:year>2023</fr:year>
                      <fr:month>5</fr:month>
                      <fr:day>31</fr:day>
                    </fr:date>
                    <fr:uri>https://www.jonmsterling.com/jms-005L/</fr:uri>
                    <fr:display-uri>jms-005L</fr:display-uri>
                    <fr:route>/jms-005L/</fr:route>
                    <fr:title text="Vertical dinatural transformation">Vertical dinatural transformation</fr:title>
                    <fr:taxon>Definition</fr:taxon>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>Let <fr:tex display="inline"><![CDATA[X]]></fr:tex> and <fr:tex display="inline"><![CDATA[Y]]></fr:tex> be two <fr:link href="/frct-0002/" title="Cartesian fibration" uri="https://www.jonmsterling.com/frct-0002/" display-uri="frct-0002" type="local">fibrations</fr:link> over <fr:tex display="inline"><![CDATA[B]]></fr:tex>, and let <fr:tex display="inline"><![CDATA[{X^{\mathsf {op}}\times _{B} X}\xrightarrow [1_{B}]{F,G}{Y}]]></fr:tex> be two vertical <fr:link href="/jms-005J/" title="Fibered functor" uri="https://www.jonmsterling.com/jms-005J/" display-uri="jms-005J" type="local">fibered functors</fr:link> over <fr:tex display="inline"><![CDATA[B]]></fr:tex>, recalling the theory of <fr:link href="/frct-000Q/" title="Opposite categories" uri="https://www.jonmsterling.com/frct-000Q/" display-uri="frct-000Q" type="local">opposite fibrations</fr:link>. A <html:em>vertical dinatural transformation</html:em> <fr:tex display="inline"><![CDATA[\alpha ]]></fr:tex> from <fr:tex display="inline"><![CDATA[F]]></fr:tex> to <fr:tex display="inline"><![CDATA[G]]></fr:tex> is defined by the following data:</html:p>
                    <html:ol><html:li>for each displayed object <fr:tex display="inline"><![CDATA[x\in  X^b]]></fr:tex>, an assigned vertical morphism <fr:tex display="inline"><![CDATA[{F_b{\mathopen {}\left (x,x\right )\mathclose {}}}\xrightarrow [1_{b}]{\alpha _x}{G_b{\mathopen {}\left (x,x\right )\mathclose {}}}]]></fr:tex>;</html:li>
  <html:li>such that for each displayed morphism <fr:tex display="inline"><![CDATA[{x}\xrightarrow [f]{\bar {f}}{y}]]></fr:tex> over <fr:tex display="inline"><![CDATA[{b}\xrightarrow {{f}}{c}\in B]]></fr:tex>, the following hexagon commutes:
    
 
  
  <html:figure><fr:resource hash="5c43227e8333ea59351f89bf6a09613f"><fr:resource-content><html:img src="/5c43227e8333ea59351f89bf6a09613f.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
      
      \begin {tikzpicture}[diagram]
        \node  (nw) {$F_b{\mathopen {}\left (x,x\right )\mathclose {}}$};
        \node [right = 3.25cm of nw] (ne) {$G_b{\mathopen {}\left (x,x\right )\mathclose {}}$};
        \node [below right = 3.25cm of ne] (e) {$G_b{\mathopen {}\left (x,f^{*}{y}\right )\mathclose {}}$};
        \node [below left = 3.25cm of e] (se) {$G_b{\mathopen {}\left (f^{*}y,f^{*}y\right )\mathclose {}}$};
        \node [below left = 3.25cm of nw] (w) {$F_b{\mathopen {}\left (f^{*}y,x\right )\mathclose {}}$};
        \node [below right = 3.25cm of w] (sw) {$F_b{\mathopen {}\left (f^{*}y,f^{*}y\right )\mathclose {}}$};
        \draw [->] (w) to node[sloped,above] {$F_b{\mathopen {}\left (\gamma _{\bar {f}},x\right )\mathclose {}}$} (nw);
        \draw [->] (nw) to node[above] {${\alpha }_x$} (ne);
        \draw [->] (sw) to node[below] {${\alpha }_{f^{*}y}$} (se);
        \draw [->] (ne) to node[sloped,above] {$G_b{\mathopen {}\left (x,\gamma _{\bar {f}}\right )\mathclose {}}$} (e);
        \draw [->] (w) to node[sloped,below] {$F_b{\mathopen {}\left (f^{*}{y},\gamma _{\bar {f}}\right )\mathclose {}}$} (sw);
        \draw [->] (se) to node[sloped,below] {$G_b{\mathopen {}\left (\gamma _{\bar {f}},f^{*}y\right )\mathclose {}}$} (e);
      \end {tikzpicture}
    ]]></fr:resource-source></fr:resource></html:figure></html:li></html:ol>
                    <html:p>Above, we have written <fr:tex display="inline"><![CDATA[{x}\xrightarrow [1_{b}]{\gamma _{\bar {f}}}{f^{*}{y}}\in  X^b]]></fr:tex> for the <html:em>vertical gap map</html:em> factoring <fr:tex display="inline"><![CDATA[{x}\xrightarrow [f]{\bar {f}}{y}]]></fr:tex> through the cartesian map <fr:tex display="inline"><![CDATA[{f^{*}{y}}\xrightarrow [f]{y^{*}f}{x}]]></fr:tex>. We have used <fr:link href="/frct-000S/" title="Exegesis of opposite categories" uri="https://www.jonmsterling.com/frct-000S/" display-uri="frct-000S" type="local">the fact</fr:link> that a vertical map in <fr:tex display="inline"><![CDATA[X^{\mathsf {op}}]]></fr:tex> is the same as a vertical map in <fr:tex display="inline"><![CDATA[X]]></fr:tex> going the other way.</html:p>
                  </fr:mainmatter>
                </fr:tree>
              </fr:mainmatter>
            </fr:tree>
            <fr:tree show-metadata="false">
              <fr:frontmatter>
                <fr:authors />
                <fr:uri>https://www.jonmsterling.com/frct-0009/</fr:uri>
                <fr:display-uri>frct-0009</fr:display-uri>
                <fr:route>/frct-0009/</fr:route>
                <fr:title text="The Grothendieck construction">The Grothendieck construction</fr:title>
              </fr:frontmatter>
              <fr:mainmatter>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors />
                    <fr:date>
                      <fr:year>2022</fr:year>
                    </fr:date>
                    <fr:uri>https://www.jonmsterling.com/frct-000A/</fr:uri>
                    <fr:display-uri>frct-000A</fr:display-uri>
                    <fr:route>/frct-000A/</fr:route>
                    <fr:title text="The total category and its projection">The total category and its projection</fr:title>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>Note that any displayed category <fr:tex display="inline"><![CDATA[E]]></fr:tex> over <fr:tex display="inline"><![CDATA[B]]></fr:tex> can be viewed as an undisplayed category <fr:tex display="inline"><![CDATA[\widetilde {E}]]></fr:tex> equipped with a projection functor <fr:tex display="inline"><![CDATA[p_{E}: \widetilde {E}\to  B]]></fr:tex>; in this case <fr:tex display="inline"><![CDATA[\widetilde {E}]]></fr:tex> is called the <html:em>total category</html:em> of <fr:tex display="inline"><![CDATA[E]]></fr:tex>.</html:p>
                    <html:ol><html:li>An object of <fr:tex display="inline"><![CDATA[\widetilde {E}]]></fr:tex> is given by a pair <fr:tex display="inline"><![CDATA[(x,\bar {x})]]></fr:tex> where <fr:tex display="inline"><![CDATA[x\in  B]]></fr:tex> and <fr:tex display="inline"><![CDATA[\bar {x}\in  E_{x}]]></fr:tex>.</html:li>
<html:li>A morphism <fr:tex display="inline"><![CDATA[{(x,\bar {x})}\xrightarrow {{}}{(y,\bar {y})}]]></fr:tex> in <fr:tex display="inline"><![CDATA[\widetilde {E}]]></fr:tex> is given by a pair <fr:tex display="inline"><![CDATA[(f,\bar {f})]]></fr:tex> where <fr:tex display="inline"><![CDATA[{x}\xrightarrow {{f}}{y}]]></fr:tex> and <fr:tex display="inline"><![CDATA[{\bar {x}}\xrightarrow [f]{\bar {f}}{\bar {y}}:\bar {x}]]></fr:tex>.</html:li></html:ol>
                    <html:p>The construction of the total category of a displayed category is called the <html:em>Grothendieck construction.</html:em></html:p>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors />
                        <fr:uri>https://www.jonmsterling.com/frct-001T/</fr:uri>
                        <fr:display-uri>frct-001T</fr:display-uri>
                        <fr:route>/frct-001T/</fr:route>
                        <fr:taxon>Exercise</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>Prove that the <fr:link href="/frct-000A/" title="The total category and its projection" uri="https://www.jonmsterling.com/frct-000A/" display-uri="frct-000A" type="local">total category</fr:link> <fr:tex display="inline"><![CDATA[\widetilde {\underline {B}}]]></fr:tex> of <fr:link href="/frct-0003/" title="The fundamental self-indexing" uri="https://www.jonmsterling.com/frct-0003/" display-uri="frct-0003" type="local">the fundamental self-indexing</fr:link> is the arrow category <fr:tex display="inline"><![CDATA[B^{\to }]]></fr:tex>, and the projection is the codomain functor.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                  </fr:mainmatter>
                </fr:tree>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors />
                    <fr:uri>https://www.jonmsterling.com/frct-000B/</fr:uri>
                    <fr:display-uri>frct-000B</fr:display-uri>
                    <fr:route>/frct-000B/</fr:route>
                    <fr:title text="Displayed categories from functors">Displayed categories from functors</fr:title>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>In many cases, one starts with a functor <fr:tex display="inline"><![CDATA[P:E\to  B]]></fr:tex>; if it were meaningful to speak of <html:em>equality</html:em> of objects in an arbitrary category then there would be an obvious construction of a displayed category <fr:tex display="inline"><![CDATA[P_{\bullet }]]></fr:tex> from <fr:tex display="inline"><![CDATA[P]]></fr:tex>; we would simply set <fr:tex display="inline"><![CDATA[P_{x}]]></fr:tex> to be the collection of objects <fr:tex display="inline"><![CDATA[u\in  E]]></fr:tex> such that <fr:tex display="inline"><![CDATA[Pu=x]]></fr:tex>. As it stands there is a more subtle version that will coincide up to categorical
equivalence with the naïve one in all cases that the latter is meaningful.</html:p>
                    <html:ol><html:li>We define an object of <fr:tex display="inline"><![CDATA[P_{x}]]></fr:tex> to be a pair <fr:tex display="inline"><![CDATA[(u,\phi _{u})]]></fr:tex> where <fr:tex display="inline"><![CDATA[u\in  E]]></fr:tex> and  <fr:tex display="inline"><![CDATA[\phi _{u} : Pu\cong  x]]></fr:tex>. It is good to visualize such a pair as a “crooked
  leg” like so:
    
 
  
  <html:figure><fr:resource hash="c5c482ac2e421eee635366bd7f6d1447"><fr:resource-content><html:img src="/c5c482ac2e421eee635366bd7f6d1447.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
      \begin {tikzpicture}[diagram]
        \node  (u) {$u$};
        \node  (Pu) [below = 1cm of u] {$Pu$};
        \node  (x) [right = 1.5cm of Pu] {$x$};
        \draw [lies over] (u) to (Pu);
        \draw [->] (Pu) to node [below] {$\phi _{u}$} (x);
      \end {tikzpicture}
    ]]></fr:resource-source></fr:resource></html:figure></html:li>

  <html:li>A morphism <fr:tex display="inline"><![CDATA[(u,\phi _{u})\xrightarrow [f]{} (v,\phi _{v})]]></fr:tex> over <fr:tex display="inline"><![CDATA[f : x \to  y]]></fr:tex> is given by a morphism <fr:tex display="inline"><![CDATA[h : u\to  v]]></fr:tex> that lies over <fr:tex display="inline"><![CDATA[f]]></fr:tex> modulo the isomorphisms <fr:tex display="inline"><![CDATA[\phi _{u},\phi _{v}]]></fr:tex> in sense depicted below:


    
 
  
  <html:figure><fr:resource hash="52dd38c1ce55bea158fd4d9d3a0f2b17"><fr:resource-content><html:img src="/52dd38c1ce55bea158fd4d9d3a0f2b17.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
      \begin {tikzpicture}[diagram]
        \node  (pu) {$Pu$};
        \node  (pv) [right = of pu] {$Pv$};
        \node  (x) [below left = 1.5cm of pu] {$x$};
        \node  (y) [below right = 1.5cm of pv] {$y$};
        \node  (u) [above = 1.5cm of pu] {$u$};
        \node  (v) [above = 1.5cm of pv] {$v$};
        \draw [lies over] (u) to (pu);
        \draw [lies over] (v) to (pv);
        \draw [->] (u) to node [above] {$h$} (v);
        \draw [->] (x) to node [sloped,above] {$\phi _{u}^{-1}$} (pu);
        \draw [->] (pu) to node [upright desc] {$Ph$} (pv);
        \draw [->] (pv) to node [sloped,above] {$\phi _{v}$} (y);
        \draw [->,bend right=30] (x) to node [below] {$f$} (y);
      \end {tikzpicture}
    ]]></fr:resource-source></fr:resource></html:figure></html:li></html:ol>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors />
                        <fr:uri>https://www.jonmsterling.com/frct-001U/</fr:uri>
                        <fr:display-uri>frct-001U</fr:display-uri>
                        <fr:route>/frct-001U/</fr:route>
                        <fr:taxon>Exercise</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>Suppose that <fr:tex display="inline"><![CDATA[B]]></fr:tex> is an internal category in <fr:tex display="inline"><![CDATA[\mathbf {Set}]]></fr:tex>, i.e.
it has a set of objects. Exhibit an equivalence of displayed categories between
<fr:tex display="inline"><![CDATA[P_{\bullet }]]></fr:tex> as described above, and the naïve definition which <fr:tex display="inline"><![CDATA[E_{x}]]></fr:tex> is the
collection of objects <fr:tex display="inline"><![CDATA[u\in  E]]></fr:tex> such that <fr:tex display="inline"><![CDATA[Pu = x]]></fr:tex>.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                    <html:p>We have a functor <fr:tex display="inline"><![CDATA[\widetilde {P_{\bullet }}\to  E]]></fr:tex> taking a pair <fr:tex display="inline"><![CDATA[(x,(u,\phi _{u}))]]></fr:tex> to <fr:tex display="inline"><![CDATA[u]]></fr:tex>.</html:p>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors />
                        <fr:uri>https://www.jonmsterling.com/frct-001V/</fr:uri>
                        <fr:display-uri>frct-001V</fr:display-uri>
                        <fr:route>/frct-001V/</fr:route>
                        <fr:taxon>Exercise</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>Explicitly construct the functorial action of <fr:tex display="inline"><![CDATA[\widetilde {P_{\bullet }}\to  E]]></fr:tex>.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors />
                        <fr:uri>https://www.jonmsterling.com/frct-001W/</fr:uri>
                        <fr:display-uri>frct-001W</fr:display-uri>
                        <fr:route>/frct-001W/</fr:route>
                        <fr:taxon>Exercise</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>Verify that <fr:tex display="inline"><![CDATA[\widetilde {P_{\bullet }}\to  E]]></fr:tex> is a categorical equivalence.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors />
                        <fr:uri>https://www.jonmsterling.com/frct-000C/</fr:uri>
                        <fr:display-uri>frct-000C</fr:display-uri>
                        <fr:route>/frct-000C/</fr:route>
                        <fr:title text="Relationship to Street's fibrations">Relationship to Street's fibrations</fr:title>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>In classical category theory, cartesian fibrations are defined by
  <fr:link href="/sga-1/" title="Revêtements étales et groupe fondamental (SGA 1)" uri="https://www.jonmsterling.com/sga-1/" display-uri="sga-1" type="local">Grothendieck</fr:link> to be certain functors <fr:tex display="inline"><![CDATA[E\to  B]]></fr:tex> such that any morphism <fr:tex display="inline"><![CDATA[f:x\to  Pv]]></fr:tex>
in <fr:tex display="inline"><![CDATA[B]]></fr:tex> lies strictly underneath a cartesian morphism in <fr:tex display="inline"><![CDATA[E]]></fr:tex>. As we have
discussed, this condition cannot be formulated unless equality is meaningful
for the collection of objects of <fr:tex display="inline"><![CDATA[B]]></fr:tex>.</html:p>
                        <html:p>There is an alternative definition of cartesian fibration due to <fr:link href="/street-1980/" title="Fibrations in bicategories" uri="https://www.jonmsterling.com/street-1980/" display-uri="street-1980" type="local">Street</fr:link> that avoids
equality of objects; here we require for each <fr:tex display="inline"><![CDATA[f:x\to  Pv]]></fr:tex> a cartesian morphism
<fr:tex display="inline"><![CDATA[h:f^{*}v \to  v]]></fr:tex> together with an isomorphism <fr:tex display="inline"><![CDATA[\phi  : P(f^{*}v)\cong  x]]></fr:tex>
such that <fr:tex display="inline"><![CDATA[\phi ^{-1};Ph = f]]></fr:tex>.</html:p>
                        <html:p>By unrolling definitions, it is not difficult to see that the displayed
category <fr:tex display="inline"><![CDATA[P_{\bullet }]]></fr:tex> is a cartesian fibration in our sense if and only if the functor
<fr:tex display="inline"><![CDATA[P:E\to  B]]></fr:tex> was a fibration in Street’s sense. Moreover, it can be seen that the
Grothendieck construction yields a <html:em>Grothendieck</html:em> fibration
<fr:tex display="inline"><![CDATA[\widetilde {P_{\bullet }}\to  B]]></fr:tex>; hence we have introduced by accident a convenient
destription of the <html:em>strictification</html:em> of Street fibrations into equivalent
Grothendieck fibrations.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                  </fr:mainmatter>
                </fr:tree>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors />
                    <fr:uri>https://www.jonmsterling.com/frct-000D/</fr:uri>
                    <fr:display-uri>frct-000D</fr:display-uri>
                    <fr:route>/frct-000D/</fr:route>
                    <fr:title text="Iteration and pushforward">Iteration and pushforward</fr:title>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>It also makes sense to speak of categories displayed over other displayed
categories; one way to formalize this notion is as follows. Let <fr:tex display="inline"><![CDATA[E]]></fr:tex> be
displayed over <fr:tex display="inline"><![CDATA[B]]></fr:tex>; we define a category displayed over <fr:tex display="inline"><![CDATA[E]]></fr:tex> to be simply a
category displayed over the total category <fr:tex display="inline"><![CDATA[\widetilde {E}]]></fr:tex>.</html:p>
                    <html:p>Now let <fr:tex display="inline"><![CDATA[F]]></fr:tex> be displayed over <fr:tex display="inline"><![CDATA[E]]></fr:tex> over <fr:tex display="inline"><![CDATA[B]]></fr:tex>. Then we may regard <fr:tex display="inline"><![CDATA[F]]></fr:tex> as a
displayed category <fr:tex display="inline"><![CDATA[B_{!}F]]></fr:tex> over <fr:tex display="inline"><![CDATA[B]]></fr:tex> as follows:</html:p>
                    <html:ol><html:li>An object of <fr:tex display="inline"><![CDATA[(B_{!}F)_{x}]]></fr:tex> is a pair <fr:tex display="inline"><![CDATA[(\bar {x},{\ddot {x}})]]></fr:tex> with <fr:tex display="inline"><![CDATA[\bar {x}\in  E_{x}]]></fr:tex> and <fr:tex display="inline"><![CDATA[{\ddot {x}}\in  F_{\bar {x}}]]></fr:tex>.</html:li>
<html:li>A morphism <fr:tex display="inline"><![CDATA[(\bar {x},{\ddot {x}})\xrightarrow [f]{}(\bar {y},{\ddot {y}})]]></fr:tex> is given by a pair <fr:tex display="inline"><![CDATA[(\bar {f},{\ddot {f}})]]></fr:tex> where <fr:tex display="inline"><![CDATA[\bar {f}:\bar {x}\xrightarrow [f]{}\bar {y}]]></fr:tex> in <fr:tex display="inline"><![CDATA[E]]></fr:tex> and <fr:tex display="inline"><![CDATA[{\ddot {f}}:{\ddot {x}}\xrightarrow [\bar {f}]{} {\ddot {y}}]]></fr:tex> in <fr:tex display="inline"><![CDATA[F]]></fr:tex>.</html:li></html:ol>
                    <html:p>Using the <fr:link href="/frct-000B/" title="Displayed categories from functors" uri="https://www.jonmsterling.com/frct-000B/" display-uri="frct-000B" type="local">displayed category induced by a functor</fr:link>, we may define the <html:em>pushforward</html:em> of a displayed category along a functor. In particular, let <fr:tex display="inline"><![CDATA[E]]></fr:tex>
be displayed over <fr:tex display="inline"><![CDATA[B]]></fr:tex> and let <fr:tex display="inline"><![CDATA[U:B\to  C]]></fr:tex> be an ordinary functor; then we may
obtain a displayed category <fr:tex display="inline"><![CDATA[U_{!}E]]></fr:tex> over <fr:tex display="inline"><![CDATA[C]]></fr:tex> as follows:</html:p>
                    <html:ol><html:li>First we construct the displayed category <fr:tex display="inline"><![CDATA[U_{\bullet }]]></fr:tex> corresponding to the
functor <fr:tex display="inline"><![CDATA[U:B \to  C]]></fr:tex>.</html:li>
<html:li>We recall that there is a canonical equivalence of categories
<fr:tex display="inline"><![CDATA[\widetilde {U_{\bullet }}\to  B]]></fr:tex>.</html:li>
<html:li>Because <fr:tex display="inline"><![CDATA[E]]></fr:tex> is displayed over <fr:tex display="inline"><![CDATA[B]]></fr:tex>, we may regard it as displayed over the
equivalent total category <fr:tex display="inline"><![CDATA[\widetilde {U_{\bullet }}]]></fr:tex> by
  <fr:link href="/frct-0007/" title="Change of base of displayed categories" uri="https://www.jonmsterling.com/frct-0007/" display-uri="frct-0007" type="local">change of base</fr:link>.</html:li>
<html:li>Hence we may define the pushforward <fr:tex display="inline"><![CDATA[U_{!}E]]></fr:tex> to be the displayed category <fr:tex display="inline"><![CDATA[(U_{\bullet })_{!}E]]></fr:tex> as defined above.</html:li></html:ol>
                  </fr:mainmatter>
                </fr:tree>
              </fr:mainmatter>
            </fr:tree>
            <fr:tree show-metadata="false">
              <fr:frontmatter>
                <fr:authors>
                  <fr:contributor>
                    <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                  </fr:contributor>
                </fr:authors>
                <fr:uri>https://www.jonmsterling.com/frct-000E/</fr:uri>
                <fr:display-uri>frct-000E</fr:display-uri>
                <fr:route>/frct-000E/</fr:route>
                <fr:title text="Properties of fibrations">Properties of fibrations</fr:title>
              </fr:frontmatter>
              <fr:mainmatter>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors />
                    <fr:uri>https://www.jonmsterling.com/frct-000F/</fr:uri>
                    <fr:display-uri>frct-000F</fr:display-uri>
                    <fr:route>/frct-000F/</fr:route>
                    <fr:title text="Locally small fibrations">Locally small fibrations</fr:title>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>There are a number of (equivalent) variations on the definition of a locally small fibration. We attempt to provide some intuition for these definitions.</html:p>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors />
                        <fr:uri>https://www.jonmsterling.com/frct-000G/</fr:uri>
                        <fr:display-uri>frct-000G</fr:display-uri>
                        <fr:route>/frct-000G/</fr:route>
                        <fr:title text="Warmup: locally small family fibrations">Warmup: locally small family fibrations</fr:title>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>An ordinary category <fr:tex display="inline"><![CDATA[E]]></fr:tex> is called <html:em>locally small</html:em> when for any <fr:tex display="inline"><![CDATA[x,y\in  E]]></fr:tex> the collection of morphisms <fr:tex display="inline"><![CDATA[x\to  y]]></fr:tex> is a set.  This property of <fr:tex display="inline"><![CDATA[E]]></fr:tex> can be rephrased in terms of its <fr:link href="/frct-0006/" title="The family fibration" uri="https://www.jonmsterling.com/frct-0006/" display-uri="frct-0006" type="local">family fibration</fr:link> <fr:tex display="inline"><![CDATA[\boldsymbol {\mathcal {F}}_{E}]]></fr:tex> over <fr:tex display="inline"><![CDATA[\mathbf {Set}]]></fr:tex> as follows.</html:p>
                        <html:p>Consider an index set <fr:tex display="inline"><![CDATA[I\in  \mathbf {Set}]]></fr:tex> and two families <fr:tex display="inline"><![CDATA[u,v\in  C^I]]></fr:tex>. We may define
an <fr:tex display="inline"><![CDATA[I]]></fr:tex>-indexed collection <fr:tex display="inline"><![CDATA[{\mathopen {}\left  [u,v\right  ]\mathclose {}}_{i\in  I}]]></fr:tex> consisting (pointwise) of all the
morphisms <fr:tex display="inline"><![CDATA[u_{i}\to  v_{i}]]></fr:tex> in <fr:tex display="inline"><![CDATA[C]]></fr:tex>:</html:p>
                        <fr:tex display="block"><![CDATA[{\mathopen {}\left  [u,v\right  ]\mathclose {}}_{i} = {\mathopen {}\left \{ f \mid  f: u_{i}\to  v_{i} \right \}\mathclose {}}]]></fr:tex>
                        <html:p>If <fr:tex display="inline"><![CDATA[C]]></fr:tex> is locally small, <fr:tex display="inline"><![CDATA[{\mathopen {}\left  [u,v\right  ]\mathclose {}}_{i\in  I}]]></fr:tex> is in fact a family of sets for
any <fr:tex display="inline"><![CDATA[I\in \mathbf {Set}]]></fr:tex> as each <fr:tex display="inline"><![CDATA[{\mathopen {}\left  [u,v\right  ]\mathclose {}}_{i}]]></fr:tex> is a set. Conversely, if <fr:tex display="inline"><![CDATA[{\mathopen {}\left  [u,v\right  ]\mathclose {}}_{i\in  I}]]></fr:tex>
is a family of sets for any <fr:tex display="inline"><![CDATA[I\in  \mathbf {Set}]]></fr:tex>, then <fr:tex display="inline"><![CDATA[C]]></fr:tex> is locally small as we may
consider in particular the case that <fr:tex display="inline"><![CDATA[I=\mathbf {1}]]></fr:tex>.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors />
                        <fr:uri>https://www.jonmsterling.com/frct-000H/</fr:uri>
                        <fr:display-uri>frct-000H</fr:display-uri>
                        <fr:route>/frct-000H/</fr:route>
                        <fr:title text="A more abstract formulation of locally small family fibrations">A more abstract formulation of locally small family fibrations</fr:title>
                      </fr:frontmatter>
                      <fr:mainmatter><html:p>We will reformulate the local smallness property of the family fibration in a way that uses only the language that makes sense for an arbitrary cartesian fibration, though for now we stick with <fr:tex display="inline"><![CDATA[\boldsymbol {\mathcal {F}}_{C}]]></fr:tex>. Given <fr:tex display="inline"><![CDATA[u,v\in  \boldsymbol {\mathcal {F}}_{C}[I]]]></fr:tex>, we have a <fr:link href="/frct-000G/" title="Warmup: locally small family fibrations" uri="https://www.jonmsterling.com/frct-000G/" display-uri="frct-000G" type="local">“relative hom family”</fr:link> <fr:tex display="inline"><![CDATA[{\mathopen {}\left  [u,v\right  ]\mathclose {}}\in {\mathbf {Set}}_{/I}]]></fr:tex>. The fact that each <fr:tex display="inline"><![CDATA[{\mathopen {}\left  [u,v\right  ]\mathclose {}}_{i}]]></fr:tex> is the set of all morphisms <fr:tex display="inline"><![CDATA[u_{i}\to  v_{i}]]></fr:tex> can be rephrased more abstractly.</html:p><html:p>First we consider the restriction of <fr:tex display="inline"><![CDATA[u\in  \boldsymbol {\mathcal {F}}_{C}[I]]]></fr:tex> to <fr:tex display="inline"><![CDATA[\boldsymbol {\mathcal {F}}_{C}[{\mathopen {}\left  [u,v\right  ]\mathclose {}}]]]></fr:tex> as follows:</html:p>
 
  
  <html:figure><fr:resource hash="b217eca10f4ae32ae1b88e3d88aa63ff"><fr:resource-content><html:img src="/b217eca10f4ae32ae1b88e3d88aa63ff.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
  \DiagramSquare {
    nw/style = pullback,
    west/style = lies over,
    east/style = lies over,
    north/style = {->,exists},
    height = 1.5cm,
    nw = {\mathopen {}\left  [u,v\right  ]\mathclose {}}^{*}u,
    ne = u,
    sw = {{\mathopen {}\left  [u,v\right  ]\mathclose {}}},
    se = I,
    south = p_{{\mathopen {}\left  [u,v\right  ]\mathclose {}}},
    north = \bar {p}_{{\mathopen {}\left  [u,v\right  ]\mathclose {}}}
  }
]]></fr:resource-source></fr:resource></html:figure>
 
<html:p>Explicitly the family <fr:tex display="inline"><![CDATA[{\mathopen {}\left  [u,v\right  ]\mathclose {}}^{*}u]]></fr:tex> is indexed in a pair of an element <fr:tex display="inline"><![CDATA[i\in  I]]></fr:tex> and a morphism <fr:tex display="inline"><![CDATA[u_{i}\to  v_{i}]]></fr:tex>.
We can think of <fr:tex display="inline"><![CDATA[{\mathopen {}\left  [u,v\right  ]\mathclose {}}^{*}u]]></fr:tex> as the object of elements of <fr:tex display="inline"><![CDATA[u_{i}]]></fr:tex> indexed in pairs <fr:tex display="inline"><![CDATA[(i,u_{i}\to  v_{i})]]></fr:tex>.</html:p><html:p>There is a canonical map
<fr:tex display="inline"><![CDATA[\epsilon _{{\mathopen {}\left  [u,v\right  ]\mathclose {}}}:{\mathopen {}\left  [u,v\right  ]\mathclose {}}^{*}u\xrightarrow [p_{{\mathopen {}\left  [u,v\right  ]\mathclose {}}}]{} v]]></fr:tex> that
“evaluates” each indexing morphism <fr:tex display="inline"><![CDATA[u_{i}\to  v_{i}]]></fr:tex>.</html:p><html:p>That each <fr:tex display="inline"><![CDATA[{\mathopen {}\left  [u,v\right  ]\mathclose {}}_{i}]]></fr:tex> is the set of all morphisms <fr:tex display="inline"><![CDATA[u_{i}\to  v_{i}]]></fr:tex> can be
rephrased as a universal property: for any family <fr:tex display="inline"><![CDATA[h\in {\mathbf {Set}}_{/I}]]></fr:tex> and
morphism <fr:tex display="inline"><![CDATA[\epsilon _{h} : h^{*}u\xrightarrow [h]{} v]]></fr:tex> in <fr:tex display="inline"><![CDATA[\boldsymbol {\mathcal {F}}_{C}]]></fr:tex>, there is a
unique cartesian map <fr:tex display="inline"><![CDATA[h^{*}u\to  {\mathopen {}\left  [u,v\right  ]\mathclose {}}^{*}u]]></fr:tex> factoring <fr:tex display="inline"><![CDATA[\epsilon _{h}]]></fr:tex> through <fr:tex display="inline"><![CDATA[\epsilon _{{\mathopen {}\left  [u,v\right  ]\mathclose {}}}]]></fr:tex>
in the sense depicted below:</html:p>
 
  
  <html:figure><fr:resource hash="1f3766c4560ee428799ccf53ed5477df"><fr:resource-content><html:img src="/1f3766c4560ee428799ccf53ed5477df.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
  \begin {tikzpicture}[diagram]
    \SpliceDiagramSquare {
      height = 1.5cm,
      width = 3cm,
      west/style = lies over,
      east/style = lies over,
      north/node/style = upright desc,
      south/node/style = upright desc,
      nw = {\mathopen {}\left  [u,v\right  ]\mathclose {}}^{*}u,
      ne = v,
      sw = {{\mathopen {}\left  [u,v\right  ]\mathclose {}}},
      se = I,
      south = p_{{\mathopen {}\left  [u,v\right  ]\mathclose {}}},
      north = \epsilon _{{\mathopen {}\left  [u,v\right  ]\mathclose {}}},
    }
    \node  (h/u) [pullback,left = of nw] {$h^{*}u$};
    \node  (h) [left = of sw] {$h$};
    \draw [bend left,->] (h/u) to node [sloped,above] {$\epsilon _{h}$} (ne);
    \draw [lies over] (h/u) to (h);
    \draw [->,exists] (h) to (sw);
    \draw [->,exists] (h/u) to (nw);
    \draw [->,bend right=30] (h) to node [below] {$p_{h}$} (se);
  \end {tikzpicture}
]]></fr:resource-source></fr:resource></html:figure>
 
<html:p>To convince ourselves of this, we note that the family <fr:tex display="inline"><![CDATA[H \coloneqq  {\mathopen {}\left \{u_{i}\to  v_{i}\right \}\mathclose {}}_{i\in  I}]]></fr:tex> itself satisfies the universal property above. Indeed, fix a candidate <fr:tex display="inline"><![CDATA[h \in  {\mathbf {Set}}_{/I}]]></fr:tex> equipped with a map <fr:tex display="inline"><![CDATA[\epsilon _{h} : h^{*}u \xrightarrow [h]{} v]]></fr:tex>. Unfolding the meaning of this map in set theoretical notation, we see that it amounts to a family of maps <fr:tex display="inline"><![CDATA[\epsilon _{h}[i] : \prod _{x\in  h_i} {\mathopen {}\left \{u_i\to  v_i\right \}\mathclose {}}]]></fr:tex> for each <fr:tex display="inline"><![CDATA[i\in  I]]></fr:tex>; such a family immediately induces the desired map <fr:tex display="inline"><![CDATA[h\to  H]]></fr:tex>.</html:p></fr:mainmatter>
                    </fr:tree>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors />
                        <fr:uri>https://www.jonmsterling.com/frct-000I/</fr:uri>
                        <fr:display-uri>frct-000I</fr:display-uri>
                        <fr:route>/frct-000I/</fr:route>
                        <fr:title text="The definition of local smallness">The definition of local smallness</fr:title>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>Based on our explorations above, we are now prepared to write down (and
understand) the proper definition of local smallness for an arbitrary cartesian fibration <fr:tex display="inline"><![CDATA[E]]></fr:tex> over <fr:tex display="inline"><![CDATA[B]]></fr:tex>, which should be thought of as a (potentially large) category relative to <fr:tex display="inline"><![CDATA[B]]></fr:tex>.</html:p>
                        <fr:tree show-metadata="false">
                          <fr:frontmatter>
                            <fr:authors />
                            <fr:uri>https://www.jonmsterling.com/frct-001C/</fr:uri>
                            <fr:display-uri>frct-001C</fr:display-uri>
                            <fr:route>/frct-001C/</fr:route>
                            <fr:title text="Hom candidates">Hom candidates</fr:title>
                            <fr:taxon>Definition</fr:taxon>
                          </fr:frontmatter>
                          <fr:mainmatter><html:p>For any <fr:tex display="inline"><![CDATA[x\in  B]]></fr:tex> and displayed objects <fr:tex display="inline"><![CDATA[u,v\in  E_{x}]]></fr:tex>, we define a <html:em>hom
  candidate</html:em> for <fr:tex display="inline"><![CDATA[u,v]]></fr:tex> to be a span <fr:tex display="inline"><![CDATA[u\leftarrow  \bar {h} \rightarrow  v]]></fr:tex> in <fr:tex display="inline"><![CDATA[E]]></fr:tex> in which the left-hand leg is cartesian:</html:p>
 
  
  <html:figure><fr:resource hash="315a9321b7f7ff5fce65bec137f84450"><fr:resource-content><html:img src="/315a9321b7f7ff5fce65bec137f84450.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
  \begin {tikzpicture}[diagram]
    \SpliceDiagramSquare <l/>{
      height = 1.5cm,
      west/style = lies over,
      east/style = lies over,
      north/style = <-,
      south/style = <-,
      ne/style = ne pullback,
      ne = \bar {h},
      se = h,
      sw = x,
      nw = u,
      south = p_{h},
      north = \bar {p}_{h}
    }
    \SpliceDiagramSquare <r/>{
      height = 1.5cm,
      west/style = lies over,
      east/style = lies over,
      glue = west,
      glue target = l/,
      ne = v,
      se = x,
      north = \epsilon _{h},
      south = p_{h},
    }
  \end {tikzpicture}
]]></fr:resource-source></fr:resource></html:figure>
 
<html:p>In the above, <fr:tex display="inline"><![CDATA[h]]></fr:tex> should be thought of as a candidate for the “hom object” of <fr:tex display="inline"><![CDATA[u,v]]></fr:tex>,
and <fr:tex display="inline"><![CDATA[\epsilon _{h}]]></fr:tex> should be viewed as the structure of an “evaluation map” for <fr:tex display="inline"><![CDATA[h]]></fr:tex>.
This structure can be rephrased in terms of a displayed category <fr:tex display="inline"><![CDATA[\mathbf {H}_{E_{x}}(u,v)]]></fr:tex> over <fr:tex display="inline"><![CDATA[{B}_{/x}]]></fr:tex>:</html:p><html:ol><html:li>Given <fr:tex display="inline"><![CDATA[h\in  {B}_{/x}]]></fr:tex>, an object of <fr:tex display="inline"><![CDATA[\mathbf {H}_{E_{x}}(u,v)_{h}]]></fr:tex> is given by a hom candidate whose apex in the base is <fr:tex display="inline"><![CDATA[h]]></fr:tex> itself. We will write <fr:tex display="inline"><![CDATA[\bar {h}]]></fr:tex> metonymically
  for the entire hom candidate over <fr:tex display="inline"><![CDATA[h]]></fr:tex>.</html:li>

  <html:li><html:p>Given <fr:tex display="inline"><![CDATA[\alpha :l\to  h\in {B}_{/x}]]></fr:tex> and hom candidates <fr:tex display="inline"><![CDATA[\bar {l}\in  \mathbf {H}_{E_{x}}(u,v)_{l}]]></fr:tex> and <fr:tex display="inline"><![CDATA[\bar {h}\in  \mathbf {H}_{E_{x}}(u,v)_{h}]]></fr:tex>, a morphism <fr:tex display="inline"><![CDATA[\bar {h}\xrightarrow [\alpha ]{} \bar {l}]]></fr:tex> is given by a cartesian morphism <fr:tex display="inline"><![CDATA[\bar \alpha :\bar {l}\xrightarrow [\alpha ]{}\bar {h}]]></fr:tex> in <fr:tex display="inline"><![CDATA[E]]></fr:tex> such that the following diagram commutes:</html:p>

    
 
  
  <html:figure><fr:resource hash="301ca76b510c90f820fd6cdde2f33288"><fr:resource-content><html:img src="/301ca76b510c90f820fd6cdde2f33288.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
      \begin {tikzpicture}[diagram]
        \node  (u) {$u$};
        \node  (l) [above right = 1.5cm of u,xshift=.5cm] {$\bar {l}$};
        \node  (h) [below right = 1.5cm of u,xshift=.5cm] {$\bar {h}$};
        \node  (v) [below right = 1.5cm of l,xshift=.5cm] {$v$};
        \draw [->] (h) to node [sloped,below] {$\bar {p}_{h}$} (u);
        \draw [->] (l) to node [sloped,above] {$\bar {p}_{l}$} (u);
        \draw [->] (h) to node [sloped,below] {$\epsilon _{h}$} (v);
        \draw [->] (l) to node [sloped,above] {$\epsilon _{l}$} (v);
        \draw [->] (l) to node [upright desc] {$\bar \alpha $} (h);
      \end {tikzpicture}
    ]]></fr:resource-source></fr:resource></html:figure></html:li></html:ol></fr:mainmatter>
                        </fr:tree>
                        <fr:tree show-metadata="false">
                          <fr:frontmatter>
                            <fr:authors />
                            <fr:uri>https://www.jonmsterling.com/frct-001B/</fr:uri>
                            <fr:display-uri>frct-001B</fr:display-uri>
                            <fr:route>/frct-001B/</fr:route>
                            <fr:title text="Locally small fibration">Locally small fibration</fr:title>
                            <fr:taxon>Definition</fr:taxon>
                          </fr:frontmatter>
                          <fr:mainmatter>
                            <html:p>A cartesian fibration <fr:tex display="inline"><![CDATA[E]]></fr:tex> over <fr:tex display="inline"><![CDATA[B]]></fr:tex> is <html:em>locally small</html:em> if and only if for
each <fr:tex display="inline"><![CDATA[x\in  B]]></fr:tex> and <fr:tex display="inline"><![CDATA[u,v\in  E_{x}]]></fr:tex>, the total category <fr:tex display="inline"><![CDATA[\widetilde {\mathbf {H}_{E_{x}}(u,v)}]]></fr:tex> of <fr:link href="/frct-001C/" title="Hom candidates" uri="https://www.jonmsterling.com/frct-001C/" display-uri="frct-001C" type="local">hom candidates</fr:link>
has a terminal object. Viewed as a displayed object in <fr:tex display="inline"><![CDATA[E]]></fr:tex>, we shall write <fr:tex display="inline"><![CDATA[\overline {\mathbf {hom}}_{E_{x}}(u,v)]]></fr:tex> lying over <fr:tex display="inline"><![CDATA[\mathbf {hom}_{E_{x}}{\mathopen {}\left (u,v\right )\mathclose {}}]]></fr:tex> for the terminal hom candidate.</html:p>
                          </fr:mainmatter>
                        </fr:tree>
                      </fr:mainmatter>
                    </fr:tree>
                  </fr:mainmatter>
                </fr:tree>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors>
                      <fr:author>
                        <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                      </fr:author>
                    </fr:authors>
                    <fr:uri>https://www.jonmsterling.com/frct-000J/</fr:uri>
                    <fr:display-uri>frct-000J</fr:display-uri>
                    <fr:route>/frct-000J/</fr:route>
                    <fr:title text="Globally small fibrations">Globally small fibrations</fr:title>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>In ordinary category theory, a category <fr:tex display="inline"><![CDATA[C]]></fr:tex> is called <html:em>small</html:em> when the objects of <fr:tex display="inline"><![CDATA[C]]></fr:tex> can be arranged into a set, and so can for every <fr:tex display="inline"><![CDATA[x,y\in  C]]></fr:tex> the collection of morphisms <fr:tex display="inline"><![CDATA[x\to  y]]></fr:tex>. It is useful to separate these two conditions when we generalize them to fibrations. The latter is called <fr:link href="/frct-000F/" title="Locally small fibrations" uri="https://www.jonmsterling.com/frct-000F/" display-uri="frct-000F" type="local"><html:em>local smallness</html:em></fr:link>; the former is called <html:em>global smallness</html:em> by <fr:link href="/jacobs-1999/" title="Categorical logic and type theory" uri="https://www.jonmsterling.com/jacobs-1999/" display-uri="jacobs-1999" type="local">Jacobs</fr:link> and factors through an important concept: the <html:em>generic object</html:em>.</html:p>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors />
                        <fr:uri>https://www.jonmsterling.com/frct-001D/</fr:uri>
                        <fr:display-uri>frct-001D</fr:display-uri>
                        <fr:route>/frct-001D/</fr:route>
                        <fr:title text="Global smallness">Global smallness</fr:title>
                        <fr:taxon>Definition</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>An ordinary category is called <html:em>globally small</html:em> when it has a set of objects.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:contributor>
                            <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                          </fr:contributor>
                        </fr:authors>
                        <fr:uri>https://www.jonmsterling.com/frct-000K/</fr:uri>
                        <fr:display-uri>frct-000K</fr:display-uri>
                        <fr:route>/frct-000K/</fr:route>
                        <fr:title text="Generic objects">Generic objects</fr:title>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>Up to equivalence of categories, we may detect global smallness of a category <fr:tex display="inline"><![CDATA[C]]></fr:tex> from the perspective of the <fr:link href="/frct-0006/" title="The family fibration" uri="https://www.jonmsterling.com/frct-0006/" display-uri="frct-0006" type="local">family fibration</fr:link> <fr:tex display="inline"><![CDATA[\boldsymbol {\mathcal {F}}_{C}]]></fr:tex>. In particular, a category is equivalent to a globally small category when its family fibration has a <html:em>generic object</html:em> in the following sense.</html:p>
                        <fr:tree show-metadata="false">
                          <fr:frontmatter>
                            <fr:authors>
                              <fr:author>
                                <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                              </fr:author>
                            </fr:authors>
                            <fr:uri>https://www.jonmsterling.com/frct-001E/</fr:uri>
                            <fr:display-uri>frct-001E</fr:display-uri>
                            <fr:route>/frct-001E/</fr:route>
                            <fr:title text="Generic object">Generic object</fr:title>
                            <fr:taxon>Definition</fr:taxon>
                          </fr:frontmatter>
                          <fr:mainmatter>
                            <html:p>Let <fr:tex display="inline"><![CDATA[E]]></fr:tex> be a cartesian fibration over <fr:tex display="inline"><![CDATA[B]]></fr:tex>; a <html:em>generic object</html:em> for <fr:tex display="inline"><![CDATA[E]]></fr:tex> is defined to be an object <fr:tex display="inline"><![CDATA[\bar {u}\in  \widetilde {E}]]></fr:tex>  such that for any <fr:tex display="inline"><![CDATA[\bar {z}\in  \widetilde {E}]]></fr:tex> there exists a cartesian map <fr:tex display="inline"><![CDATA[\bar {z}\to  \bar {u}]]></fr:tex>.</html:p>
                            <html:p><html:strong>Warning.</html:strong> Our terminology differs from that of <fr:link href="/jacobs-1999/" title="Categorical logic and type theory" uri="https://www.jonmsterling.com/jacobs-1999/" display-uri="jacobs-1999" type="local">Jacobs</fr:link>; what we refer to as a <html:em>generic object</html:em> here is <fr:link href="/jacobs-1999/" title="Categorical logic and type theory" uri="https://www.jonmsterling.com/jacobs-1999/" display-uri="jacobs-1999" type="local">Jacobs’</fr:link> <html:em>weak generic object</html:em>. We prefer the unqualified terminology, as generic objects in the stronger sense are very rare.</html:p>
                          </fr:mainmatter>
                        </fr:tree>
                        <fr:tree show-metadata="false">
                          <fr:frontmatter>
                            <fr:authors />
                            <fr:uri>https://www.jonmsterling.com/frct-000L/</fr:uri>
                            <fr:display-uri>frct-000L</fr:display-uri>
                            <fr:route>/frct-000L/</fr:route>
                            <fr:title text="Globally small categories">Globally small categories</fr:title>
                            <fr:taxon>Theorem</fr:taxon>
                          </fr:frontmatter>
                          <fr:mainmatter><html:p>An ordinary category <fr:tex display="inline"><![CDATA[C]]></fr:tex> is equivalent to a globally small category if and only if the <fr:link href="/frct-0006/" title="The family fibration" uri="https://www.jonmsterling.com/frct-0006/" display-uri="frct-0006" type="local">family fibration</fr:link> <fr:tex display="inline"><![CDATA[\boldsymbol {\mathcal {F}}_{C}]]></fr:tex> has a <fr:link href="/frct-001E/" title="Generic object" uri="https://www.jonmsterling.com/frct-001E/" display-uri="frct-001E" type="local">generic object</fr:link>.</html:p>
 
   
   <fr:tree show-metadata="false" toc="false"><fr:frontmatter><fr:authors /><fr:taxon>Proof</fr:taxon></fr:frontmatter><fr:mainmatter>
<html:p>To see that this is the case, suppose that <fr:tex display="inline"><![CDATA[C]]></fr:tex> has a set of objects. Then <fr:tex display="inline"><![CDATA[C\in \mathbf {Set}]]></fr:tex> and we define <fr:tex display="inline"><![CDATA[\lfloor {C}\rfloor ]]></fr:tex> to be the displayed object <fr:tex display="inline"><![CDATA[{\mathopen {}\left \{x\right \}\mathclose {}}_{x\in  C}\in  \boldsymbol {\mathcal {F}}_{C}[C]]]></fr:tex>. Fixing <fr:tex display="inline"><![CDATA[I\in  \mathbf {Set}]]></fr:tex> and <fr:tex display="inline"><![CDATA[z\in  C^I]]></fr:tex>, we consider the cartesian map displayed over <fr:tex display="inline"><![CDATA[z : I \to  C]]></fr:tex>:</html:p>


 
  
  <html:figure><fr:resource hash="5d8243bcd025a3455631ed1ad88a335b"><fr:resource-content><html:img src="/5d8243bcd025a3455631ed1ad88a335b.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
  \DiagramSquare {
    height = 1.5cm,
    width = 3cm,
    west/style = lies over,
    east/style = lies over,
    sw = I,
    se = C,
    south = z,
    ne = {\mathopen {}\left \{x\right \}\mathclose {}}_{x\in  C},
    nw = {z = {\mathopen {}\left \{z\,i\right \}\mathclose {}}_{i\in  I}}
  }
]]></fr:resource-source></fr:resource></html:figure>
 


<html:p>Conversely assume that <fr:tex display="inline"><![CDATA[\boldsymbol {\mathcal {F}}_{C}]]></fr:tex> has a generic object <fr:tex display="inline"><![CDATA[\bar {u}\in \boldsymbol {\mathcal {F}}_{C}[U]]]></fr:tex> for some <fr:tex display="inline"><![CDATA[U\in  \mathbf {Set}]]></fr:tex>; then we may equip <fr:tex display="inline"><![CDATA[U]]></fr:tex> with the structure of a globally small category such that <fr:tex display="inline"><![CDATA[U]]></fr:tex> is equivalent to <fr:tex display="inline"><![CDATA[C]]></fr:tex>, using the canonical <fr:link href="/frct-003V/" title="Cleaving the family fibration" uri="https://www.jonmsterling.com/frct-003V/" display-uri="frct-003V" type="local">cleaving of the family fibration</fr:link>. In particular, given <fr:tex display="inline"><![CDATA[{1}\xrightarrow {{x,y}}{U}]]></fr:tex> we define a morphism from <fr:tex display="inline"><![CDATA[x]]></fr:tex> to <fr:tex display="inline"><![CDATA[y]]></fr:tex> to be given by a vertical map <fr:tex display="inline"><![CDATA[{x^{*}{\bar {u}}}\xrightarrow {{h}}{y^{*}{\bar {u}}}]]></fr:tex> in <fr:tex display="inline"><![CDATA[\boldsymbol {\mathcal {F}}_{C}{\mathopen {}\left  [1\right  ]\mathclose {}}\simeq  C]]></fr:tex>.</html:p>
</fr:mainmatter></fr:tree>
 
</fr:mainmatter>
                        </fr:tree>
                      </fr:mainmatter>
                    </fr:tree>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors />
                        <fr:uri>https://www.jonmsterling.com/frct-000P/</fr:uri>
                        <fr:display-uri>frct-000P</fr:display-uri>
                        <fr:route>/frct-000P/</fr:route>
                        <fr:title text="Globally small fibration">Globally small fibration</fr:title>
                        <fr:taxon>Definition</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>A cartesian fibration <fr:tex display="inline"><![CDATA[E]]></fr:tex> over <fr:tex display="inline"><![CDATA[B]]></fr:tex> is called <html:em>globally small</html:em> when it has a <fr:link href="/frct-001E/" title="Generic object" uri="https://www.jonmsterling.com/frct-001E/" display-uri="frct-001E" type="local">generic object</fr:link>.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                  </fr:mainmatter>
                </fr:tree>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors />
                    <fr:uri>https://www.jonmsterling.com/frct-002E/</fr:uri>
                    <fr:display-uri>frct-002E</fr:display-uri>
                    <fr:route>/frct-002E/</fr:route>
                    <fr:title text="Separators for cartesian fibrations">Separators for cartesian fibrations</fr:title>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>Let <fr:tex display="inline"><![CDATA[E]]></fr:tex> be an ordinary category. In general,
to compare two morphisms <fr:tex display="inline"><![CDATA[{x}\xrightarrow {{f,g}}{y}]]></fr:tex> in <fr:tex display="inline"><![CDATA[E]]></fr:tex>, it is not enough to see if they agree on global points <fr:tex display="inline"><![CDATA[{1}\xrightarrow {{u}}{x}]]></fr:tex>, because the behavior of <fr:tex display="inline"><![CDATA[f,g]]></fr:tex> may differ only on generalized elements. In some cases, however, there is a family of objects <fr:tex display="inline"><![CDATA[{\mathopen {}\left (s_{i}\right )\mathclose {}}_{i\in  I}\in  E]]></fr:tex> are together <html:em>adequate</html:em> for comparing morphisms of <fr:tex display="inline"><![CDATA[E]]></fr:tex> in the sense of <fr:link href="/frct-002G/" title="Separating family for a category" uri="https://www.jonmsterling.com/frct-002G/" display-uri="frct-002G" type="local">separating families</fr:link> below.</html:p>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors />
                        <fr:uri>https://www.jonmsterling.com/frct-002G/</fr:uri>
                        <fr:display-uri>frct-002G</fr:display-uri>
                        <fr:route>/frct-002G/</fr:route>
                        <fr:title text="Separating family for a category">Separating family for a category</fr:title>
                        <fr:taxon>Definition</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>Given an ordinary category <fr:tex display="inline"><![CDATA[E]]></fr:tex>, a set-indexed family <fr:tex display="inline"><![CDATA[{\mathopen {}\left (s_{i}\right )\mathclose {}}_{i\in  I}]]></fr:tex> of <fr:tex display="inline"><![CDATA[E]]></fr:tex>-objects is called a <html:em>small separating family</html:em> for <fr:tex display="inline"><![CDATA[E]]></fr:tex> when, assuming that for all <fr:tex display="inline"><![CDATA[i\in  I]]></fr:tex> and all <fr:tex display="inline"><![CDATA[{s_i}\xrightarrow {{u}}{x}]]></fr:tex> we have <fr:tex display="inline"><![CDATA[u;f=u;g]]></fr:tex>, we then have <fr:tex display="inline"><![CDATA[f=g]]></fr:tex>.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors />
                        <fr:uri>https://www.jonmsterling.com/frct-003L/</fr:uri>
                        <fr:display-uri>frct-003L</fr:display-uri>
                        <fr:route>/frct-003L/</fr:route>
                        <fr:taxon>Intuition</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>The intuition of <fr:link href="/frct-002G/" title="Separating family for a category" uri="https://www.jonmsterling.com/frct-002G/" display-uri="frct-002G" type="local">separating families</fr:link> is that to compare two morphisms <fr:tex display="inline"><![CDATA[{x}\xrightarrow {{f,g}}{y}\in  E]]></fr:tex>, it suffices to check that they behave the same on all <fr:tex display="inline"><![CDATA[s_{i}]]></fr:tex>-shaped figures when <fr:tex display="inline"><![CDATA[{\mathopen {}\left (s_{i}\right )\mathclose {}}_{i\in  I}]]></fr:tex> is a separating family for <fr:tex display="inline"><![CDATA[E]]></fr:tex>.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors />
                        <fr:uri>https://www.jonmsterling.com/frct-002F/</fr:uri>
                        <fr:display-uri>frct-002F</fr:display-uri>
                        <fr:route>/frct-002F/</fr:route>
                        <fr:title text="Well-pointedness of the category of sets">Well-pointedness of the category of sets</fr:title>
                        <fr:taxon>Example</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>In the category of sets, to compare two morphisms it is enough to check
that they agree on global points. This means that the unary family
<fr:tex display="inline"><![CDATA[{\mathopen {}\left \{\mathbf {1}_{\mathbf {Set}}\right \}\mathclose {}}]]></fr:tex> is a separator for <fr:tex display="inline"><![CDATA[\mathbf {Set}]]></fr:tex>, a property referred to more generally as <html:em>well-pointedness</html:em>.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                    <html:p>We will now generalize the notion of <fr:link href="/frct-002G/" title="Separating family for a category" uri="https://www.jonmsterling.com/frct-002G/" display-uri="frct-002G" type="local">separating family</fr:link> to the case of a cartesian fibration.</html:p>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors />
                        <fr:uri>https://www.jonmsterling.com/frct-002I/</fr:uri>
                        <fr:display-uri>frct-002I</fr:display-uri>
                        <fr:route>/frct-002I/</fr:route>
                        <fr:title text="Agreement on a class of figure shapes">Agreement on a class of figure shapes</fr:title>
                        <fr:taxon>Definition</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>Let <fr:tex display="inline"><![CDATA[\bar {s}]]></fr:tex> be a displayed object in a cartesian fibration <fr:tex display="inline"><![CDATA[E]]></fr:tex> over <fr:tex display="inline"><![CDATA[B]]></fr:tex>. A pair of displayed morphisms <fr:tex display="inline"><![CDATA[{\bar {x}}\xrightarrow {{f,g}}{\bar {y}}\in  E]]></fr:tex> are said to <html:em>agree on <fr:tex display="inline"><![CDATA[\bar {s}]]></fr:tex>-figures</html:em> when for any <fr:link href="/frct-002K/" title="Figures and figure shapes in the full subfibration" uri="https://www.jonmsterling.com/frct-002K/" display-uri="frct-002K" type="local"><fr:tex display="inline"><![CDATA[\bar {s}]]></fr:tex>-figure</fr:link> <fr:tex display="inline"><![CDATA[{\bar {z}}\xrightarrow {{h}}{\bar {x}}]]></fr:tex>, we have <fr:tex display="inline"><![CDATA[{\bar {z}}\xrightarrow {{h;f = h;g}}{\bar {y}}]]></fr:tex>.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors />
                        <fr:uri>https://www.jonmsterling.com/frct-002H/</fr:uri>
                        <fr:display-uri>frct-002H</fr:display-uri>
                        <fr:route>/frct-002H/</fr:route>
                        <fr:title text="Small separator for a fibration">Small separator for a fibration</fr:title>
                        <fr:taxon>Definition</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>Let <fr:tex display="inline"><![CDATA[E]]></fr:tex> be a cartesian fibration over <fr:tex display="inline"><![CDATA[B]]></fr:tex> such that <fr:tex display="inline"><![CDATA[B]]></fr:tex> has
binary products. A displayed object <fr:tex display="inline"><![CDATA[\bar {s}\in  E_{s}]]></fr:tex> is said to be a <html:em>small separator</html:em> for <fr:tex display="inline"><![CDATA[E]]></fr:tex> when any two vertical maps <fr:tex display="inline"><![CDATA[f,g:\bar {u}\xrightarrow [1_{x}]{}\bar {v}\in  E_{x}]]></fr:tex> are equal when they are <fr:link href="/frct-002I/" title="Agreement on a class of figure shapes" uri="https://www.jonmsterling.com/frct-002I/" display-uri="frct-002I" type="local">agree on <fr:tex display="inline"><![CDATA[\bar {s}]]></fr:tex>-figures</fr:link>.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                  </fr:mainmatter>
                </fr:tree>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors>
                      <fr:author>
                        <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                      </fr:author>
                    </fr:authors>
                    <fr:uri>https://www.jonmsterling.com/frct-002L/</fr:uri>
                    <fr:display-uri>frct-002L</fr:display-uri>
                    <fr:route>/frct-002L/</fr:route>
                    <fr:title text="Definable classes à la Bénabou">Definable classes à la <fr:link href="/jeanb%C3%A9nabou/" title="Jean Bénabou" uri="https://www.jonmsterling.com/jeanbénabou/" display-uri="jeanbénabou" type="local">Bénabou</fr:link></fr:title>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>A class of sets <fr:tex display="inline"><![CDATA[\mathfrak {C}]]></fr:tex> is sometimes said to be <html:em>formally definable</html:em> when there is a formula <fr:tex display="inline"><![CDATA[{\mathopen {}\left (x \mid  \phi _{\mathfrak {C} {\mathopen {}\left (x\right )\mathclose {}}}\right )\mathclose {}}]]></fr:tex> in the language of set theory such that a set <fr:tex display="inline"><![CDATA[S]]></fr:tex> lies in <fr:tex display="inline"><![CDATA[\mathfrak {C}]]></fr:tex> if and only if <fr:tex display="inline"><![CDATA[\phi _{\mathfrak {C}}{\mathopen {}\left (S\right )\mathclose {}}]]></fr:tex> holds. This concept is a bit sensitive, as it presupposes that we have a notion of “class” whose constituents are not
all definable in this sense.</html:p>
                    <html:p>A better behaved notion of definability for sets than the formal one is
given <html:em>model-theoretically</html:em>, i.e. relative to a model <fr:tex display="inline"><![CDATA[\mathscr {M}]]></fr:tex> of set
theory in some ambient set theory. We will refer to
an element of <fr:tex display="inline"><![CDATA[\mathscr {M}]]></fr:tex> as a set, and a subcollection of <fr:tex display="inline"><![CDATA[\mathscr {M}]]></fr:tex>
as a class.</html:p>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors />
                        <fr:uri>https://www.jonmsterling.com/frct-002U/</fr:uri>
                        <fr:display-uri>frct-002U</fr:display-uri>
                        <fr:route>/frct-002U/</fr:route>
                        <fr:title text="Representable class of sets">Representable class of sets</fr:title>
                        <fr:taxon>Definition</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>A class of sets <fr:tex display="inline"><![CDATA[\mathfrak {C}\subseteq \mathscr {M}]]></fr:tex> is called <html:em>representable</html:em> when there is a set <fr:tex display="inline"><![CDATA[C\in \mathscr {M}]]></fr:tex> such that <fr:tex display="inline"><![CDATA[U\in  C]]></fr:tex> if and only if <fr:tex display="inline"><![CDATA[U\in \mathfrak {C}]]></fr:tex>.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors />
                        <fr:uri>https://www.jonmsterling.com/frct-002V/</fr:uri>
                        <fr:display-uri>frct-002V</fr:display-uri>
                        <fr:route>/frct-002V/</fr:route>
                        <fr:title text="Definable class of sets">Definable class of sets</fr:title>
                        <fr:taxon>Definition</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>A class of sets <fr:tex display="inline"><![CDATA[\mathfrak {C}\subseteq \mathscr {M}]]></fr:tex> is called <html:em>definable</html:em> when for any representable class <fr:tex display="inline"><![CDATA[\mathfrak {S}]]></fr:tex>, the class <fr:tex display="inline"><![CDATA[\mathfrak {C}\cap \mathfrak {S}]]></fr:tex> is representable.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                    <html:p>Bénabou then generalizes these definitions to an arbitrary fibration, in such a way that the general fibered notion of definable class is equivalent in the fundamental self-indexing <fr:tex display="inline"><![CDATA[\underline {\mathscr {M}}]]></fr:tex> to that of <fr:link href="/frct-002V/" title="Definable class of sets" uri="https://www.jonmsterling.com/frct-002V/" display-uri="frct-002V" type="local">definable classes</fr:link>.</html:p>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:author>
                            <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                          </fr:author>
                        </fr:authors>
                        <fr:uri>https://www.jonmsterling.com/frct-002Q/</fr:uri>
                        <fr:display-uri>frct-002Q</fr:display-uri>
                        <fr:route>/frct-002Q/</fr:route>
                        <fr:title text="Set-theoretic intuition for Bénabou's definability">Set-theoretic intuition for <fr:link href="/jeanb%C3%A9nabou/" title="Jean Bénabou" uri="https://www.jonmsterling.com/jeanbénabou/" display-uri="jeanbénabou" type="local">Bénabou</fr:link>'s definability</fr:title>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>To motivate Bénabou’s general notion of definability, we will first develop an alternative perspective on definability for classes of sets in terms of <html:em>families</html:em> of sets.</html:p>
                        <fr:tree show-metadata="false">
                          <fr:frontmatter>
                            <fr:authors />
                            <fr:uri>https://www.jonmsterling.com/frct-002M/</fr:uri>
                            <fr:display-uri>frct-002M</fr:display-uri>
                            <fr:route>/frct-002M/</fr:route>
                            <fr:title text="Closure of a class of sets under base change">Closure of a class of sets under base change</fr:title>
                            <fr:taxon>Construction</fr:taxon>
                          </fr:frontmatter>
                          <fr:mainmatter>
                            <html:p>Let <fr:tex display="inline"><![CDATA[\mathfrak {C}\subseteq \mathscr {M}]]></fr:tex> be a class of sets; there exists a class <fr:tex display="inline"><![CDATA[\bar {\mathfrak {C}}]]></fr:tex> of <html:em>families</html:em>
of sets that contains <fr:tex display="inline"><![CDATA[{\mathopen {}\left (S_{i}\right )\mathclose {}}_{i\in  I}]]></fr:tex> exactly when each
<fr:tex display="inline"><![CDATA[S_{i}]]></fr:tex> lies in <fr:tex display="inline"><![CDATA[\mathfrak {C}]]></fr:tex>. We will refer to <fr:tex display="inline"><![CDATA[\bar {\mathfrak {C}}]]></fr:tex> as the <html:em>closure under base change</html:em> of <fr:tex display="inline"><![CDATA[\mathfrak {C}]]></fr:tex>, a name motivated by the fact that when <fr:tex display="inline"><![CDATA[{\mathopen {}\left (S_{i}\right )\mathclose {}}_{i\in  I}]]></fr:tex> lies in <fr:tex display="inline"><![CDATA[\bar {\mathfrak {C}}]]></fr:tex>,
then for any <fr:tex display="inline"><![CDATA[u:J\to  I]]></fr:tex>, the base change <fr:tex display="inline"><![CDATA[{\mathopen {}\left (S_{uj}\right )\mathclose {}}_{j\in  J}]]></fr:tex> also lies in <fr:tex display="inline"><![CDATA[\bar {\mathfrak {C}}]]></fr:tex>.</html:p>
                          </fr:mainmatter>
                        </fr:tree>
                        <fr:tree show-metadata="false">
                          <fr:frontmatter>
                            <fr:authors />
                            <fr:uri>https://www.jonmsterling.com/frct-002N/</fr:uri>
                            <fr:display-uri>frct-002N</fr:display-uri>
                            <fr:route>/frct-002N/</fr:route>
                            <fr:title text="From classes of families to classes of sets">From classes of families to classes of sets</fr:title>
                            <fr:taxon>Construction</fr:taxon>
                          </fr:frontmatter>
                          <fr:mainmatter>
                            <html:p>Conversely to <fr:link href="/frct-002M/" title="Closure of a class of sets under base change" uri="https://www.jonmsterling.com/frct-002M/" display-uri="frct-002M" type="local">the closure of a class of sets under change of base</fr:link>, we may take a class of <html:em>families</html:em> of sets <fr:tex display="inline"><![CDATA[\mathfrak {F}]]></fr:tex> to the the class of sets <fr:tex display="inline"><![CDATA[\mathfrak {F}_{1}\subseteq {\mathscr {M}}]]></fr:tex> spanned by sets <fr:tex display="inline"><![CDATA[S]]></fr:tex> such that the singleton family <fr:tex display="inline"><![CDATA[{\mathopen {}\left \{S\right \}\mathclose {}}]]></fr:tex> lies in <fr:tex display="inline"><![CDATA[\mathfrak {C}]]></fr:tex>.</html:p>
                          </fr:mainmatter>
                        </fr:tree>
                        <fr:tree show-metadata="false">
                          <fr:frontmatter>
                            <fr:authors />
                            <fr:uri>https://www.jonmsterling.com/frct-002P/</fr:uri>
                            <fr:display-uri>frct-002P</fr:display-uri>
                            <fr:route>/frct-002P/</fr:route>
                            <fr:title text="Definable class of families of sets">Definable class of families of sets</fr:title>
                            <fr:taxon>Definition</fr:taxon>
                          </fr:frontmatter>
                          <fr:mainmatter>
                            <html:p>A class of families of sets <fr:tex display="inline"><![CDATA[\mathfrak {F}]]></fr:tex> is said to be <html:em>definable</html:em> when it is stable and moreover, for any family of sets <fr:tex display="inline"><![CDATA[{\mathopen {}\left (S_{i}\right )\mathclose {}}_{i\in  I}]]></fr:tex>, there exists a subset <fr:tex display="inline"><![CDATA[J\subseteq  I]]></fr:tex> such that the base change <fr:tex display="inline"><![CDATA[{\mathopen {}\left (S_{j}\right )\mathclose {}}_{j\in  J}]]></fr:tex> lies in <fr:tex display="inline"><![CDATA[\mathfrak {F}]]></fr:tex>, and moreover, such that <fr:tex display="inline"><![CDATA[u:K\to  I]]></fr:tex> factors through <fr:tex display="inline"><![CDATA[J\subseteq  I]]></fr:tex> whenever the base change <fr:tex display="inline"><![CDATA[{\mathopen {}\left (S_{uk}\right )\mathclose {}}_{k\in  K}]]></fr:tex> lies in <fr:tex display="inline"><![CDATA[\mathfrak {F}]]></fr:tex>.</html:p>
                          </fr:mainmatter>
                        </fr:tree>
                        <fr:tree show-metadata="false">
                          <fr:frontmatter>
                            <fr:authors />
                            <fr:uri>https://www.jonmsterling.com/frct-002R/</fr:uri>
                            <fr:display-uri>frct-002R</fr:display-uri>
                            <fr:route>/frct-002R/</fr:route>
                            <fr:taxon>Intuition</fr:taxon>
                          </fr:frontmatter>
                          <fr:mainmatter>
                            <html:p>A stable class of families of sets is definable when any family of sets can be restricted to a “biggest” subfamily that lies in the class.</html:p>
                          </fr:mainmatter>
                        </fr:tree>
                        <fr:tree show-metadata="false">
                          <fr:frontmatter>
                            <fr:authors />
                            <fr:uri>https://www.jonmsterling.com/frct-002T/</fr:uri>
                            <fr:display-uri>frct-002T</fr:display-uri>
                            <fr:route>/frct-002T/</fr:route>
                            <fr:title text="Characterization of definable classes of families">Characterization of definable classes of families</fr:title>
                            <fr:taxon>Lemma</fr:taxon>
                          </fr:frontmatter>
                          <fr:mainmatter><html:p>Let <fr:tex display="inline"><![CDATA[\mathfrak {C}\subseteq \mathscr {M}]]></fr:tex> be a class of sets; then <fr:tex display="inline"><![CDATA[\bar {\mathfrak {C}}]]></fr:tex> is a definable class of families of sets if and only if <fr:tex display="inline"><![CDATA[\mathfrak {C}]]></fr:tex> is a definable class of sets.</html:p>
 
   
   <fr:tree show-metadata="false" toc="false"><fr:frontmatter><fr:authors /><fr:taxon>Proof</fr:taxon></fr:frontmatter><fr:mainmatter>
  <html:p>Suppose that <fr:tex display="inline"><![CDATA[\mathfrak {C}]]></fr:tex> is a definable class of sets. To
  check that <fr:tex display="inline"><![CDATA[\bar {\mathfrak {C}}]]></fr:tex> is a definable class of families of sets,
  we fix a family <fr:tex display="inline"><![CDATA[{\mathopen {}\left (S_{i}\right )\mathclose {}}_{i\in  I}]]></fr:tex> not necessarily lying in <fr:tex display="inline"><![CDATA[\bar {\mathfrak {C}}]]></fr:tex>. Because <fr:tex display="inline"><![CDATA[\mathfrak {C}]]></fr:tex> is definable, the intersection <fr:tex display="inline"><![CDATA[\mathfrak {C}\cap  \bigcup _{i\in  I}S_{i}]]></fr:tex> is represented by a set <fr:tex display="inline"><![CDATA[U]]></fr:tex>. We therefore take the subset <fr:tex display="inline"><![CDATA[J = {\mathopen {}\left \{i \in  I\mid  S_i\in  U\right \}\mathclose {}}\subseteq  I]]></fr:tex>, and verify that the base change <fr:tex display="inline"><![CDATA[{\mathopen {}\left (S_{j}\right )\mathclose {}}_{j\in  J}]]></fr:tex> is the largest approximation of <fr:tex display="inline"><![CDATA[{\mathopen {}\left (S_{i}\right )\mathclose {}}_{i\in  I}]]></fr:tex> by a family lying in <fr:tex display="inline"><![CDATA[\bar {\mathfrak {C}}]]></fr:tex>.</html:p>

  <html:p>Conversely suppose that <fr:tex display="inline"><![CDATA[\bar {\mathfrak {C}}]]></fr:tex> is a definable class of families of sets. To see that <fr:tex display="inline"><![CDATA[\mathfrak {C}]]></fr:tex> is definable, we fix a class <fr:tex display="inline"><![CDATA[\mathfrak {U}]]></fr:tex> represented by a set <fr:tex display="inline"><![CDATA[U\in \mathscr {M}]]></fr:tex> to check that <fr:tex display="inline"><![CDATA[\mathfrak {C}\cap \mathfrak {U}]]></fr:tex> is representable. We consider the family of sets <fr:tex display="inline"><![CDATA[{\mathopen {}\left (u\right )\mathclose {}}_{u\in  U}]]></fr:tex>; because <fr:tex display="inline"><![CDATA[\bar {\mathfrak {C}}]]></fr:tex> is definable, there is a largest subset <fr:tex display="inline"><![CDATA[V\subseteq  U]]></fr:tex> such that the change of base <fr:tex display="inline"><![CDATA[{\mathopen {}\left (v\right )\mathclose {}}_{v\in  V}]]></fr:tex> lies in <fr:tex display="inline"><![CDATA[\bar {\mathfrak {C}}]]></fr:tex>, i.e. such that each <fr:tex display="inline"><![CDATA[v\in  V]]></fr:tex> lies in <fr:tex display="inline"><![CDATA[\mathfrak {C}]]></fr:tex>. Therefore <fr:tex display="inline"><![CDATA[\mathfrak {C}\cap \mathfrak {U}]]></fr:tex> is represented by the set <fr:tex display="inline"><![CDATA[V]]></fr:tex>.</html:p>
</fr:mainmatter></fr:tree>
 
</fr:mainmatter>
                        </fr:tree>
                      </fr:mainmatter>
                    </fr:tree>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:author>
                            <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                          </fr:author>
                        </fr:authors>
                        <fr:uri>https://www.jonmsterling.com/frct-002S/</fr:uri>
                        <fr:display-uri>frct-002S</fr:display-uri>
                        <fr:route>/frct-002S/</fr:route>
                        <fr:title text="Bénabou’s notion of definability">Bénabou’s notion of definability</fr:title>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>We will now construe <fr:link href="/frct-002Q/" title="Set-theoretic intuition for Bénabou's definability" uri="https://www.jonmsterling.com/frct-002Q/" display-uri="frct-002Q" type="local">set-theoretic definability</fr:link> as the instantiation at the fundamental self-indexing <fr:tex display="inline"><![CDATA[\underline {\mathscr {M}}]]></fr:tex> of a more general notion of definability for classes of objects in a cartesian fibration, defined forthwith. The following definition of definability in a cartesian fibration is due to Bénabou, but is discussed in print by <fr:link href="/borceux-hca-2/" title="Handbook of categorical algebra 2: categories and structures" uri="https://www.jonmsterling.com/borceux-hca-2/" display-uri="borceux-hca-2" type="local">Borceux</fr:link>, <fr:link href="/jacobs-1999/" title="Categorical logic and type theory" uri="https://www.jonmsterling.com/jacobs-1999/" display-uri="jacobs-1999" type="local">Jacobs</fr:link>, and <fr:link href="/streicher-fcjb/" title="Fibred categories à la Jean Bénabou" uri="https://www.jonmsterling.com/streicher-fcjb/" display-uri="streicher-fcjb" type="local">Streicher</fr:link>.</html:p>
                        <fr:tree show-metadata="false">
                          <fr:frontmatter>
                            <fr:authors>
                              <fr:author>
                                <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                              </fr:author>
                            </fr:authors>
                            <fr:uri>https://www.jonmsterling.com/frct-002W/</fr:uri>
                            <fr:display-uri>frct-002W</fr:display-uri>
                            <fr:route>/frct-002W/</fr:route>
                            <fr:title text="Definable class in a fibration">Definable class in a fibration</fr:title>
                            <fr:taxon>Definition</fr:taxon>
                          </fr:frontmatter>
                          <fr:mainmatter><html:p>Let <fr:tex display="inline"><![CDATA[E]]></fr:tex> be a cartesian fibration over <fr:tex display="inline"><![CDATA[B]]></fr:tex>. A <html:em>definable class</html:em> <fr:tex display="inline"><![CDATA[\mathfrak {F}]]></fr:tex> in <fr:tex display="inline"><![CDATA[E]]></fr:tex> is a stable subcollection of the displayed objects of <fr:tex display="inline"><![CDATA[E]]></fr:tex> such that for any <fr:tex display="inline"><![CDATA[\bar {u}\in  E_{u}]]></fr:tex>, there exists a cartesian map <fr:tex display="inline"><![CDATA[\bar {v}\to  \bar {u}]]></fr:tex> lying over a monomorphism <fr:tex display="inline"><![CDATA[v\rightarrowtail  u]]></fr:tex> such that <fr:tex display="inline"><![CDATA[\bar {v}\in  \mathfrak {F}]]></fr:tex> and, moreover, any cartesian morphism <fr:tex display="inline"><![CDATA[\bar {w}\to \bar {u}]]></fr:tex> such that <fr:tex display="inline"><![CDATA[\bar {w}\in \mathfrak {F}]]></fr:tex> factors through <fr:tex display="inline"><![CDATA[\bar {v}\to \bar {u}]]></fr:tex>.</html:p>
 
  
  <html:figure><fr:resource hash="e7463183c4e17176f720bc881da96753"><fr:resource-content><html:img src="/e7463183c4e17176f720bc881da96753.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
  \DiagramSquare {
    height = 1.5cm,
    west/style = lies over,
    east/style = lies over,
    nw/style = pullback,
    south/style = {exists,>->},
    north/style = {->,exists},
    nw = \bar {v}\in \mathfrak {F},
    ne = \bar {u},
    se = u,
    sw = v,
  }
  \qquad 
  \begin {tikzpicture}[diagram,baseline=(l/sw.base)]
    \SpliceDiagramSquare <l/>{
      height = 1.5cm,
      width = 2.25cm,
      west/style = lies over,
      east/style = lies over,
      ne/style = pullback,
      nw = \bar {w}\in \mathfrak {F},
      sw = w,
      ne = \bar {v},
      se = v,
      south/style = {->,exists},
      north/style = {->,exists},
      south = \exists !,
      north = \exists !,
      north/node/style = upright desc,
    }
    \SpliceDiagramSquare <r/>{
      height = 1.5cm,
      glue = west,
      glue target = l/,
      east/style = lies over,
      south/style = >->,
      ne = \bar {u},
      se = u,
    }
    \draw [->,bend left=30] (l/nw) to node [above] {cart.} (r/ne);
  \end {tikzpicture}
]]></fr:resource-source></fr:resource></html:figure>
 
</fr:mainmatter>
                        </fr:tree>
                        <fr:tree show-metadata="false">
                          <fr:frontmatter>
                            <fr:authors>
                              <fr:author>
                                <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                              </fr:author>
                            </fr:authors>
                            <fr:uri>https://www.jonmsterling.com/frct-002O/</fr:uri>
                            <fr:display-uri>frct-002O</fr:display-uri>
                            <fr:route>/frct-002O/</fr:route>
                            <fr:taxon>Remark</fr:taxon>
                          </fr:frontmatter>
                          <fr:mainmatter>
                            <html:p>Let <fr:tex display="inline"><![CDATA[\mathscr {M}]]></fr:tex> be a model of <fr:link href="/lawvere-1964-etcs/" title="An elementary theory of the category of sets" uri="https://www.jonmsterling.com/lawvere-1964-etcs/" display-uri="lawvere-1964-etcs" type="local">ETCS</fr:link>; and let <fr:tex display="inline"><![CDATA[\mathfrak {C}]]></fr:tex> be a class of families of sets in <fr:tex display="inline"><![CDATA[\mathscr {M}]]></fr:tex>. Then <fr:tex display="inline"><![CDATA[\mathfrak {C}]]></fr:tex> is a class of objects in the fundamental self-indexing <fr:tex display="inline"><![CDATA[\underline {\mathscr {M}}]]></fr:tex> over <fr:tex display="inline"><![CDATA[\mathscr {M}]]></fr:tex>. Furthermore, <fr:tex display="inline"><![CDATA[\mathscr {M}]]></fr:tex> a <fr:link href="/frct-002W/" title="Definable class in a fibration" uri="https://www.jonmsterling.com/frct-002W/" display-uri="frct-002W" type="local">definable class</fr:link> in <fr:tex display="inline"><![CDATA[\underline {\mathscr {M}}]]></fr:tex> if and only if it is a <fr:link href="/frct-002P/" title="Definable class of families of sets" uri="https://www.jonmsterling.com/frct-002P/" display-uri="frct-002P" type="local">definable class of families of sets</fr:link>.</html:p>
                          </fr:mainmatter>
                        </fr:tree>
                      </fr:mainmatter>
                    </fr:tree>
                  </fr:mainmatter>
                </fr:tree>
              </fr:mainmatter>
            </fr:tree>
            <fr:tree show-metadata="false">
              <fr:frontmatter>
                <fr:authors>
                  <fr:contributor>
                    <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                  </fr:contributor>
                </fr:authors>
                <fr:uri>https://www.jonmsterling.com/frct-000N/</fr:uri>
                <fr:display-uri>frct-000N</fr:display-uri>
                <fr:route>/frct-000N/</fr:route>
                <fr:title text="Small fibrations and internal categories">Small fibrations and internal categories</fr:title>
              </fr:frontmatter>
              <fr:mainmatter>
                <html:p>The purpose of this section is to develop the relationship between <html:em>internal
  categories</html:em> (categories defined in the internal language of a category <fr:tex display="inline"><![CDATA[B]]></fr:tex>) and
cartesian fibrations over <fr:tex display="inline"><![CDATA[B]]></fr:tex>, generalizing the relationship between categories internal
to <fr:tex display="inline"><![CDATA[\mathbf {Set}]]></fr:tex> (i.e. small categories) and their family fibrations over <fr:tex display="inline"><![CDATA[\mathbf {Set}]]></fr:tex>.</html:p>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors />
                    <fr:uri>https://www.jonmsterling.com/frct-001Q/</fr:uri>
                    <fr:display-uri>frct-001Q</fr:display-uri>
                    <fr:route>/frct-001Q/</fr:route>
                    <fr:title text="Small fibration">Small fibration</fr:title>
                    <fr:taxon>Definition</fr:taxon>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>A cartesian fibration is called <html:em>small</html:em> when it is both <fr:link href="/frct-000I/" title="The definition of local smallness" uri="https://www.jonmsterling.com/frct-000I/" display-uri="frct-000I" type="local">locally small</fr:link> and <fr:link href="/frct-000J/" title="Globally small fibrations" uri="https://www.jonmsterling.com/frct-000J/" display-uri="frct-000J" type="local">globally small</fr:link>.</html:p>
                  </fr:mainmatter>
                </fr:tree>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors>
                      <fr:author>
                        <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                      </fr:author>
                    </fr:authors>
                    <fr:uri>https://www.jonmsterling.com/frct-003O/</fr:uri>
                    <fr:display-uri>frct-003O</fr:display-uri>
                    <fr:route>/frct-003O/</fr:route>
                    <fr:title text="Internal categories">Internal categories</fr:title>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>We have already seen in our discussion of  <fr:link href="/frct-000G/" title="Warmup: locally small family fibrations" uri="https://www.jonmsterling.com/frct-000G/" display-uri="frct-000G" type="local">locally small</fr:link> and <fr:link href="/frct-000L/" title="Globally small categories" uri="https://www.jonmsterling.com/frct-000L/" display-uri="frct-000L" type="local">globally small</fr:link> categories that smallness in the fibered sense appropriately generalizes the ordinary notion of smallness for categories over <fr:tex display="inline"><![CDATA[\mathbf {Set}]]></fr:tex>. Another perspective on smallness is given by the <html:em>internal language</html:em>, in which a category is viewed as an algebra for the “theory of categories” computed in another category with enough structure. The notion of internal categories is credited (independently) to <fr:link href="/alexandergrothendieck/" title="Alexander Grothendieck" uri="https://www.jonmsterling.com/alexandergrothendieck/" display-uri="alexandergrothendieck" type="local">Alexander Grothendieck</fr:link> and Charles Ehresmann.</html:p>
                    <html:p>The notion of a (meta-)category is an essentially algebraic theory. As such it is possible to compute <html:em>models</html:em> of this theory in any category that has finite limits.</html:p>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors />
                        <fr:uri>https://www.jonmsterling.com/frct-001A/</fr:uri>
                        <fr:display-uri>frct-001A</fr:display-uri>
                        <fr:route>/frct-001A/</fr:route>
                        <fr:title text="Internal category">Internal category</fr:title>
                        <fr:taxon>Definition</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>Let <fr:tex display="inline"><![CDATA[E]]></fr:tex> be a category with finite limits; then an <html:em>internal category</html:em>
in <fr:tex display="inline"><![CDATA[E]]></fr:tex> is defined by the following data:</html:p>
                        <html:ol><html:li>an object of objects <fr:tex display="inline"><![CDATA[C_{0}\in  E]]></fr:tex>,</html:li>
<html:li>an object of morphisms <fr:tex display="inline"><![CDATA[C_{1}\in  E]]></fr:tex>,</html:li>
<html:li>source and target morphisms <fr:tex display="inline"><![CDATA[s,t:C_{1}\to  C_{0}]]></fr:tex>,</html:li>
<html:li>a generic identity morphism <fr:tex display="inline"><![CDATA[C_{0}\to  C_{1}]]></fr:tex>,</html:li>
<html:li>a generic composition morphism <fr:tex display="inline"><![CDATA[C_{1}\times _{C_{0}}C_{1}\to  C_{1}]]></fr:tex>,</html:li>
<html:li>satisfying a number of laws corresponding to those of a category.</html:li></html:ol>
                        <html:p>For the details of these laws, we refer to any standard source.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:contributor>
                            <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                          </fr:contributor>
                        </fr:authors>
                        <fr:uri>https://www.jonmsterling.com/frct-000V/</fr:uri>
                        <fr:display-uri>frct-000V</fr:display-uri>
                        <fr:route>/frct-000V/</fr:route>
                        <fr:title text="The externalization of an internal category">The externalization of an internal category</fr:title>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <fr:tree show-metadata="false">
                          <fr:frontmatter>
                            <fr:authors />
                            <fr:uri>https://www.jonmsterling.com/frct-001R/</fr:uri>
                            <fr:display-uri>frct-001R</fr:display-uri>
                            <fr:route>/frct-001R/</fr:route>
                            <fr:title text="Externalization">Externalization</fr:title>
                            <fr:taxon>Construction</fr:taxon>
                          </fr:frontmatter>
                          <fr:mainmatter>
                            <html:p>Let <fr:tex display="inline"><![CDATA[C]]></fr:tex> be an internal category in <fr:tex display="inline"><![CDATA[E]]></fr:tex>. We may define a fibered category <fr:tex display="inline"><![CDATA[{\mathopen {}\left  [C\right  ]\mathclose {}}]]></fr:tex> over <fr:tex display="inline"><![CDATA[E]]></fr:tex> called the <html:em>externalization</html:em> of <fr:tex display="inline"><![CDATA[C]]></fr:tex>.</html:p>
                            <html:ol><html:li>Given <fr:tex display="inline"><![CDATA[x\in  E]]></fr:tex>, an object of <fr:tex display="inline"><![CDATA[{\mathopen {}\left  [C\right  ]\mathclose {}}_{x}]]></fr:tex> is defined to be a morphism <fr:tex display="inline"><![CDATA[x\to  C_{0}]]></fr:tex> in <fr:tex display="inline"><![CDATA[E]]></fr:tex>.</html:li>

  <html:li><html:p>Given <fr:tex display="inline"><![CDATA[x,y\in  E]]></fr:tex> and <fr:tex display="inline"><![CDATA[f:x\to  y]]></fr:tex> and <fr:tex display="inline"><![CDATA[u \in  {\mathopen {}\left  [C\right  ]\mathclose {}}_{x}]]></fr:tex> and <fr:tex display="inline"><![CDATA[v\in  {\mathopen {}\left  [C\right  ]\mathclose {}}_{y}]]></fr:tex>, a morphism <fr:tex display="inline"><![CDATA[u\xrightarrow [f]{} v]]></fr:tex> is defined to be a morphism <fr:tex display="inline"><![CDATA[h : x\to  C_{1}]]></fr:tex> in <fr:tex display="inline"><![CDATA[E]]></fr:tex> such that the following diagram commutes:</html:p>

    
 
  
  <html:figure><fr:resource hash="1e37082a2d8adf73fbe8bc458424a0a5"><fr:resource-content><html:img src="/1e37082a2d8adf73fbe8bc458424a0a5.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
      \begin {tikzpicture}[diagram]
        \node  (x) {$x$};
        \node  (y) [below = of x] {$y$};
        \node  (C/1) [right = of x] {$C_{1}$};
        \node  (C/0) [below = of C/1] {$C_{0}$};
        \node  (C/0') [above = of C/1] {$C_{0}$};
        \draw [->] (x) to node [upright desc] {$h$} (C/1);
        \draw [->] (C/1) to node [right] {$t$} (C/0);
        \draw [->] (C/1) to node [right] {$s$} (C/0');
        \draw [->] (y) to node [below] {$v$} (C/0);
        \draw [->] (x) to node [left] {$f$} (y);
        \draw [->] (x) to node [sloped,above] {$u$} (C/0');
      \end {tikzpicture}
    ]]></fr:resource-source></fr:resource></html:figure></html:li></html:ol>
                          </fr:mainmatter>
                        </fr:tree>
                        <fr:tree show-metadata="false">
                          <fr:frontmatter>
                            <fr:authors />
                            <fr:uri>https://www.jonmsterling.com/frct-000W/</fr:uri>
                            <fr:display-uri>frct-000W</fr:display-uri>
                            <fr:route>/frct-000W/</fr:route>
                            <fr:title text="Cartesian lifts in the externalization">Cartesian lifts in the externalization</fr:title>
                            <fr:taxon>Lemma</fr:taxon>
                          </fr:frontmatter>
                          <fr:mainmatter><html:p>The <fr:link href="/frct-001R/" title="Externalization" uri="https://www.jonmsterling.com/frct-001R/" display-uri="frct-001R" type="local">externalization</fr:link> is a cartesian fibration.</html:p>
 
   
   <fr:tree show-metadata="false" toc="false"><fr:frontmatter><fr:authors /><fr:taxon>Proof</fr:taxon></fr:frontmatter><fr:mainmatter>
  <html:p>Given an object <fr:tex display="inline"><![CDATA[v\in  {\mathopen {}\left  [C\right  ]\mathclose {}}_{y}]]></fr:tex> and a morphism <fr:tex display="inline"><![CDATA[f:x\to  y]]></fr:tex> in <fr:tex display="inline"><![CDATA[E]]></fr:tex>, we may define a cartesian lift <fr:tex display="inline"><![CDATA[f^{*}v\xrightarrow [f]{} v]]></fr:tex> by setting <fr:tex display="inline"><![CDATA[f^{*}v = v\circ  f : x \to  C_{0}]]></fr:tex>.</html:p>
</fr:mainmatter></fr:tree>
 
</fr:mainmatter>
                        </fr:tree>
                        <fr:tree show-metadata="false">
                          <fr:frontmatter>
                            <fr:authors />
                            <fr:uri>https://www.jonmsterling.com/frct-000X/</fr:uri>
                            <fr:display-uri>frct-000X</fr:display-uri>
                            <fr:route>/frct-000X/</fr:route>
                            <fr:title text="Globally small externalization">Globally small externalization</fr:title>
                            <fr:taxon>Lemma</fr:taxon>
                          </fr:frontmatter>
                          <fr:mainmatter><html:p>The <fr:link href="/frct-001R/" title="Externalization" uri="https://www.jonmsterling.com/frct-001R/" display-uri="frct-001R" type="local">externalization</fr:link> is globally small</html:p>
 
   
   <fr:tree show-metadata="false" toc="false"><fr:frontmatter><fr:authors /><fr:taxon>Proof</fr:taxon></fr:frontmatter><fr:mainmatter>
  <html:p>We may choose a <fr:link href="/frct-000K/" title="Generic objects" uri="https://www.jonmsterling.com/frct-000K/" display-uri="frct-000K" type="local">generic object</fr:link> for <fr:tex display="inline"><![CDATA[{\mathopen {}\left  [C\right  ]\mathclose {}}]]></fr:tex>, namely the identity element <fr:tex display="inline"><![CDATA[(C_{0},1_{C_{0}})\in  \widetilde {{\mathopen {}\left  [C\right  ]\mathclose {}}}]]></fr:tex>. Given any object <fr:tex display="inline"><![CDATA[(x,u)\in  \widetilde {{\mathopen {}\left  [C\right  ]\mathclose {}}}]]></fr:tex> the cartesian map <fr:tex display="inline"><![CDATA[(x,u)\to  (C_{0},1_{C_{0}})]]></fr:tex> is given as follows:</html:p>

  
 
  
  <html:figure><fr:resource hash="4762475f1b1bff8893dbac58f2d4b60b"><fr:resource-content><html:img src="/4762475f1b1bff8893dbac58f2d4b60b.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
    \begin {tikzpicture}[diagram]
      \node  (x) {$x$};
      \node  (y) [below = of x] {$C_{0}$};
      \node  (C/1) [right = of x] {$C_{1}$};
      \node  (C/0) [below = of C/1] {$C_{0}$};
      \node  (C/0') [above = of C/1] {$C_{0}$};
      \draw [->] (x) to node [upright desc] {$\mathsf {idn}_{u}$} (C/1);
      \draw [->] (C/1) to node [right] {$t$} (C/0);
      \draw [->] (C/1) to node [right] {$s$} (C/0');
      \draw [->] (y) to node [below] {$1_{C_{0}}$} (C/0);
      \draw [->] (x) to node [left] {$u$} (y);
      \draw [->] (x) to node [sloped,above] {$u$} (C/0');
    \end {tikzpicture}
  ]]></fr:resource-source></fr:resource></html:figure>
 

</fr:mainmatter></fr:tree>
 
</fr:mainmatter>
                        </fr:tree>
                        <fr:tree show-metadata="false">
                          <fr:frontmatter>
                            <fr:authors>
                              <fr:author>
                                <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                              </fr:author>
                            </fr:authors>
                            <fr:uri>https://www.jonmsterling.com/frct-000Y/</fr:uri>
                            <fr:display-uri>frct-000Y</fr:display-uri>
                            <fr:route>/frct-000Y/</fr:route>
                            <fr:title text="Locally small externalization">Locally small externalization</fr:title>
                            <fr:taxon>Lemma</fr:taxon>
                          </fr:frontmatter>
                          <fr:mainmatter><html:p>The <fr:link href="/frct-001R/" title="Externalization" uri="https://www.jonmsterling.com/frct-001R/" display-uri="frct-001R" type="local">externalization</fr:link> is locally small.</html:p>
 
   
   <fr:tree show-metadata="false" toc="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:taxon>Proof</fr:taxon></fr:frontmatter><fr:mainmatter>
<html:p>Fix <fr:tex display="inline"><![CDATA[x\in  E]]></fr:tex> and <fr:tex display="inline"><![CDATA[u,v\in  {\mathopen {}\left  [C\right  ]\mathclose {}}_{x}]]></fr:tex>, we must exhibit a terminal object to the (total) category <fr:tex display="inline"><![CDATA[\widetilde {\mathbf {H}_{{\mathopen {}\left  [C\right  ]\mathclose {}}_{x}}(u,v)}]]></fr:tex> of <fr:link href="/frct-000I/" title="The definition of local smallness" uri="https://www.jonmsterling.com/frct-000I/" display-uri="frct-000I" type="local">“hom candidates”</fr:link>. First we define <fr:tex display="inline"><![CDATA[{\mathopen {}\left  [u,v\right  ]\mathclose {}}]]></fr:tex> to be the following pullback in <fr:tex display="inline"><![CDATA[E]]></fr:tex>:</html:p>


 
  
  <html:figure><fr:resource hash="0782a129619fdeb5bad29ee69ccaaf94"><fr:resource-content><html:img src="/0782a129619fdeb5bad29ee69ccaaf94.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
  \DiagramSquare {
    nw/style = pullback,
    ne = C_{1},
    se = C_{0}\times  C_{0},
    east = {(s,t)},
    south = {(u,v)},
    sw = x,
    nw = {\mathopen {}\left  [u,v\right  ]\mathclose {}},
    west = p,
    north = q,
    west/style = {->,exists},
    north/style = {->,exists},
  }
]]></fr:resource-source></fr:resource></html:figure>
 


<html:p>We define <fr:tex display="inline"><![CDATA[\overline {p}:{\mathopen {}\left  [u,v\right  ]\mathclose {}}^{*}{u}\xrightarrow [p]{} u\in  {\mathopen {}\left  [C\right  ]\mathclose {}}_{{\mathopen {}\left  [u,v\right  ]\mathclose {}}}]]></fr:tex> to be
the cartesian lift of <fr:tex display="inline"><![CDATA[u\in  {\mathopen {}\left  [C\right  ]\mathclose {}}_{x}]]></fr:tex> along <fr:tex display="inline"><![CDATA[p:{\mathopen {}\left  [u,v\right  ]\mathclose {}}\to  x]]></fr:tex>:</html:p>


 
  
  <html:figure><fr:resource hash="3b2996e19115dff5cd110f6fb334dc02"><fr:resource-content><html:img src="/3b2996e19115dff5cd110f6fb334dc02.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
  \DiagramSquare {
    height = 1.5cm,
    nw/style = pullback,
    west/style = lies over,
    east/style = lies over,
    north/style = {->,exists},
    ne = u,
    nw = {\mathopen {}\left  [u,v\right  ]\mathclose {}}^{*}u,
    sw = {\mathopen {}\left  [u,v\right  ]\mathclose {}},
    se = x,
    south = p,
    north = \overline {p},
  }
]]></fr:resource-source></fr:resource></html:figure>
 


<html:p>We need to define a displayed evaluation map
<fr:tex display="inline"><![CDATA[\epsilon  : {\mathopen {}\left  [u,v\right  ]\mathclose {}}^{*}u\xrightarrow [p]{} v]]></fr:tex>; unraveling the definition of a displayed
morphism in the externalization of <fr:tex display="inline"><![CDATA[C]]></fr:tex>, we choose the following diagram:</html:p>


 
  
  <html:figure><fr:resource hash="cbec150a738cc44fff728e111549fb7f"><fr:resource-content><html:img src="/cbec150a738cc44fff728e111549fb7f.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
  \begin {tikzpicture}[diagram]
    \SpliceDiagramSquare {
      ne = C_{1},
      se = C_{0},
      east = t,
      nw = {\mathopen {}\left  [u,v\right  ]\mathclose {}},
      sw = x,
      west = p,
      south = v,
      north = q,
      north/style = {magenta,->},
      north/node/style = upright desc,
    }
    \node  (nne) [above = of ne] {$C_{0}$};
    \node  (nnw) [above = of nw] {$x$};
    \draw [->] (ne) to node [right] {$s$} (nne);
    \draw [->] (nw) to node [left] {$p$} (nnw);
    \draw [->] (nnw) to node [above] {$u$} (nne);
    \draw [->] (nw) to node [desc] {${\mathopen {}\left  [u,v\right  ]\mathclose {}}^{*}{u}$} (nne);
  \end {tikzpicture}
]]></fr:resource-source></fr:resource></html:figure>
 


<html:p>Putting all this together, we assert that the terminal object of
<fr:tex display="inline"><![CDATA[\widetilde {\mathbf {H}_{{\mathopen {}\left  [C\right  ]\mathclose {}}_{x}}(u,v)}]]></fr:tex> is the following span in <fr:tex display="inline"><![CDATA[{\mathopen {}\left  [C\right  ]\mathclose {}}]]></fr:tex>:</html:p>


 
  
  <html:figure><fr:resource hash="b4a72578154761402ad06d001d807c1f"><fr:resource-content><html:img src="/b4a72578154761402ad06d001d807c1f.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
  \begin {tikzpicture}[diagram]
    \SpliceDiagramSquare <l/>{
      height = 1.5cm,
      west/style = lies over,
      east/style = lies over,
      north/style = <-,
      south/style = <-,
      ne/style = ne pullback,
      ne = {\mathopen {}\left  [u,v\right  ]\mathclose {}}^{*}{u},
      se = {\mathopen {}\left  [u,v\right  ]\mathclose {}},
      sw = x,
      nw = u,
      south = p,
      north = \bar {p},
    }
    \SpliceDiagramSquare <r/>{
      height = 1.5cm,
      west/style = lies over,
      east/style = lies over,
      glue = west,
      glue target = l/,
      ne = v,
      se = x,
      north = \epsilon ,
      south = p,
    }
  \end {tikzpicture}
]]></fr:resource-source></fr:resource></html:figure>
 


<html:p>Fixing another such candidate hom span <fr:tex display="inline"><![CDATA[{\mathopen {}\left \{u \leftarrow  \bar {h}\rightarrow  v\right \}\mathclose {}}\in \widetilde {\mathbf {H}_{{\mathopen {}\left  [C\right  ]\mathclose {}}_{x}}(u,v)}]]></fr:tex>, we <fr:link href="/frct-000I/" title="The definition of local smallness" uri="https://www.jonmsterling.com/frct-000I/" display-uri="frct-000I" type="local">must exhibit</fr:link> a unique cartesian morphism <fr:tex display="inline"><![CDATA[\bar \alpha  : \bar {h}\to  {\mathopen {}\left  [u,v\right  ]\mathclose {}}^{*}{u}]]></fr:tex> making the following diagram commute:</html:p>


 
  
  <html:figure><fr:resource hash="a0593f282d12f527669aa660e54ecfb6"><fr:resource-content><html:img src="/a0593f282d12f527669aa660e54ecfb6.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
  \begin {tikzpicture}[diagram]
    \node  (u) {$u$};
    \node  (h) [above right = 1.5cm of u,xshift=.5cm] {$\bar {h}$};
    \node  (hom) [below right = 1.5cm of u,xshift=.5cm] {${\mathopen {}\left  [u,v\right  ]\mathclose {}}^{*}{u}$};
    \node  (v) [below right = 1.5cm of h,xshift=.5cm] {$v$};
    \draw [->] (hom) to node [sloped,below] {$\bar {p}$} (u);
    \draw [->] (h) to node [sloped,above] {$\bar {p}_{h}$} (u);
    \draw [->] (hom) to node [sloped,below] {$\epsilon $} (v);
    \draw [->] (h) to node [sloped,above] {$\epsilon _{h}$} (v);
    \draw [->] (h) to node [upright desc] {$\bar \alpha $} (hom);
  \end {tikzpicture}
]]></fr:resource-source></fr:resource></html:figure>
 


<html:p>First we note that the evaluation map <fr:tex display="inline"><![CDATA[\epsilon _{h} : \bar {h}\to  v]]></fr:tex> amounts
to an internal morphism <fr:tex display="inline"><![CDATA[h\to  C_{1}]]></fr:tex> satisfying the appropriate
compatibility conditions. Therefore we may define the base <fr:tex display="inline"><![CDATA[\alpha :h\to  {\mathopen {}\left  [u,v\right  ]\mathclose {}}]]></fr:tex> of
the universal map using the universal property of the pullback that defines <fr:tex display="inline"><![CDATA[{\mathopen {}\left  [u,v\right  ]\mathclose {}}]]></fr:tex>:</html:p>


 
  
  <html:figure><fr:resource hash="dd50c215e2ef5908a6e365e1027d7b70"><fr:resource-content><html:img src="/dd50c215e2ef5908a6e365e1027d7b70.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
  \begin {tikzpicture}[diagram]
    \SpliceDiagramSquare {
      nw/style = pullback,
      ne = C_{1},
      se = C_{0}\times  C_{0},
      east = {(s,t)},
      south = {(u,v)},
      sw = x,
      nw = {\mathopen {}\left  [u,v\right  ]\mathclose {}},
      west = p,
      north = q,
      north/node/style = upright desc,
      west/node/style = upright desc,
    }
    \node  (h) [above left = of nw] {$h$};
    \draw [->,bend right=30] (h) to node [left] {$p_h$} (sw);
    \draw [->,bend left=30] (h) to node [sloped,above] {$\epsilon _h$} (ne);
    \draw [->,exists] (h) to node [desc] {$\alpha $} (nw);
  \end {tikzpicture}
]]></fr:resource-source></fr:resource></html:figure>
 


<html:p>The morphism <fr:tex display="inline"><![CDATA[\alpha :h\to  {\mathopen {}\left  [u,v\right  ]\mathclose {}}]]></fr:tex> defined above is the <html:em>unique</html:em> map in <fr:tex display="inline"><![CDATA[E]]></fr:tex>
satisfying the conditions required of the base for <fr:tex display="inline"><![CDATA[\bar \alpha ]]></fr:tex>; therefore, it
suffices to show that there exists a cartesian morphism
<fr:tex display="inline"><![CDATA[\bar \alpha :\bar {h}\xrightarrow [\alpha ]{}{\mathopen {}\left  [u,v\right  ]\mathclose {}}^{*}u]]></fr:tex> since it will be unique if it
exists. We define <fr:tex display="inline"><![CDATA[\bar \alpha ]]></fr:tex> using the universal property of the cartesian lift:</html:p>


 
  
  <html:figure><fr:resource hash="548b857e21f669a1215268ca4a9b7673"><fr:resource-content><html:img src="/548b857e21f669a1215268ca4a9b7673.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
  \begin {tikzpicture}[diagram]
    \SpliceDiagramSquare <l/>{
      ne/style = pullback,
      nw/style = dotted pullback,
      west/style = lies over,
      east/style = lies over,
      height = 1.5cm,
      se = {\mathopen {}\left  [u,v\right  ]\mathclose {}},
      ne = {\mathopen {}\left  [u,v\right  ]\mathclose {}}^{*}u,
      sw = h,
      nw = \bar {h},
      south = \alpha ,
      north = \bar \alpha ,
      north/style = {->,exists},
      north/node/style = upright desc,
      south/node/style = upright desc,
    }
    \SpliceDiagramSquare <r/>{
      glue = west,
      glue target = l/,
      east/style = lies over,
      height = 1.5cm,
      ne = u,
      se = x,
      south = p,
      north = \bar {p},
      north/node/style = upright desc,
      south/node/style = upright desc,
    }
    \draw [->,bend left=30] (l/nw) to node [above] {$\bar {p}_{h}$} (r/ne);
    \draw [->,bend right=30] (l/sw) to node [below] {$p_{h}$} (r/se);
  \end {tikzpicture}
]]></fr:resource-source></fr:resource></html:figure>
 


<html:p>That <fr:tex display="inline"><![CDATA[\bar {\alpha }:\bar {h}\xrightarrow [\alpha ]{}{\mathopen {}\left  [u,v\right  ]\mathclose {}}^{*}u]]></fr:tex> is cartesian follows from <fr:link href="/frct-0014/" title="The generalized pullback lemma" uri="https://www.jonmsterling.com/frct-0014/" display-uri="frct-0014" type="local">the generalized pullback lemma for cartesian morphisms</fr:link>: it suffices
to observe that both <fr:tex display="inline"><![CDATA[\bar {p}_{h}:\bar {h}\to  u]]></fr:tex> and its second factor
<fr:tex display="inline"><![CDATA[\bar {p}:{\mathopen {}\left  [u,v\right  ]\mathclose {}}^{*}u\to  u]]></fr:tex> are cartesian.</html:p>
</fr:mainmatter></fr:tree>
 
</fr:mainmatter>
                        </fr:tree>
                      </fr:mainmatter>
                    </fr:tree>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors />
                        <fr:uri>https://www.jonmsterling.com/frct-0011/</fr:uri>
                        <fr:display-uri>frct-0011</fr:display-uri>
                        <fr:route>/frct-0011/</fr:route>
                        <fr:title text="The full internal subcategory associated to a displayed object">The full internal subcategory associated to a displayed object</fr:title>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>The <fr:link href="/frct-0010/" title="The full subfibration associated to a displayed object" uri="https://www.jonmsterling.com/frct-0010/" display-uri="frct-0010" type="local">full subfibration</fr:link> associated to a displayed object <fr:tex display="inline"><![CDATA[\bar {u}]]></fr:tex> of a <fr:link href="/frct-001B/" title="Locally small fibration" uri="https://www.jonmsterling.com/frct-001B/" display-uri="frct-001B" type="local">locally small</fr:link> cartesian fibration <fr:tex display="inline"><![CDATA[E]]></fr:tex> over <fr:tex display="inline"><![CDATA[B]]></fr:tex> can be seen to be equivalent to the externalization of an internal category <fr:tex display="inline"><![CDATA[{\mathopen {}\left \langle \bar {u}\right \rangle \mathclose {}}]]></fr:tex> in <fr:tex display="inline"><![CDATA[B]]></fr:tex>.</html:p>
                        <fr:tree show-metadata="false">
                          <fr:frontmatter>
                            <fr:authors />
                            <fr:uri>https://www.jonmsterling.com/frct-003Q/</fr:uri>
                            <fr:display-uri>frct-003Q</fr:display-uri>
                            <fr:route>/frct-003Q/</fr:route>
                            <fr:title text="The internal category associated to a displayed object">The internal category associated to a displayed object</fr:title>
                            <fr:taxon>Construction</fr:taxon>
                          </fr:frontmatter>
                          <fr:mainmatter><html:p>Let <fr:tex display="inline"><![CDATA[\bar {u}]]></fr:tex> be a displayed object in a <fr:link href="/frct-001B/" title="Locally small fibration" uri="https://www.jonmsterling.com/frct-001B/" display-uri="frct-001B" type="local">locally small</fr:link> fibration <fr:tex display="inline"><![CDATA[E]]></fr:tex> over <fr:tex display="inline"><![CDATA[B]]></fr:tex>. We will define the <fr:link href="/frct-001A/" title="Internal category" uri="https://www.jonmsterling.com/frct-001A/" display-uri="frct-001A" type="local">internal category</fr:link> <fr:tex display="inline"><![CDATA[{\mathopen {}\left \langle \bar {u}\right \rangle \mathclose {}}]]></fr:tex> in <fr:tex display="inline"><![CDATA[B]]></fr:tex> associated to <fr:tex display="inline"><![CDATA[\bar {u}]]></fr:tex>. In particular, we let the object of objects <fr:tex display="inline"><![CDATA[{\mathopen {}\left \langle \bar {u}\right \rangle \mathclose {}}_{0}]]></fr:tex> be <fr:tex display="inline"><![CDATA[u]]></fr:tex> itself; defining the object of arrows <fr:tex display="inline"><![CDATA[{\mathopen {}\left \langle \bar {u}\right \rangle \mathclose {}}_{1}]]></fr:tex> is more complex, making critical use of the local smallness of <fr:tex display="inline"><![CDATA[E]]></fr:tex> over <fr:tex display="inline"><![CDATA[B]]></fr:tex>.</html:p><html:p>We will think of the fiber category <fr:tex display="inline"><![CDATA[E_{u\times  u}]]></fr:tex> as the category of objects indexed in the <html:em>boundary</html:em> (source and target) of a morphism. Restricting <fr:tex display="inline"><![CDATA[\bar {u}]]></fr:tex> along the source and target projections, we obtain the displayed objects of “points of the source” and “points of the target” respectively:</html:p>
 
  
  <html:figure><fr:resource hash="24c85c92203941398db367b63411ec63"><fr:resource-content><html:img src="/24c85c92203941398db367b63411ec63.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
  \DiagramSquare {
    height = 1.5cm,
    nw/style = pullback,
    west/style = lies over,
    east/style = lies over,
    nw = \bar {\partial }_{1},
    sw = u\times  u,
    se = u,
    ne = \bar {u},
    south = \pi _{1},
    north = \bar {\pi }_{1},
  }
  \qquad 
  \DiagramSquare {
    height = 1.5cm,
    nw/style = pullback,
    west/style = lies over,
    east/style = lies over,
    nw = \bar {\partial }_{2},
    sw = u\times  u,
    se = u,
    ne = \bar {u},
    south = \pi _{2},
    north = \bar {\pi }_{2}
  }
]]></fr:resource-source></fr:resource></html:figure>
 
<html:p>Because <fr:tex display="inline"><![CDATA[E]]></fr:tex> is <fr:link href="/frct-001B/" title="Locally small fibration" uri="https://www.jonmsterling.com/frct-001B/" display-uri="frct-001B" type="local">locally small</fr:link>, there is an object <fr:tex display="inline"><![CDATA[\mathbf {hom}_{E_{u\times  u}}{\mathopen {}\left (\bar \partial _{1},\bar \partial _{2}\right )\mathclose {}}\in  {B}_{/u\times  u}]]></fr:tex> that behaves as the “generic hom set”. We define <fr:tex display="inline"><![CDATA[{\mathopen {}\left \langle \bar {u}\right \rangle \mathclose {}}_{1}\in  B]]></fr:tex> and its source and target projections to be this very object.</html:p></fr:mainmatter>
                        </fr:tree>
                        <fr:tree show-metadata="false">
                          <fr:frontmatter>
                            <fr:authors />
                            <fr:uri>https://www.jonmsterling.com/frct-001S/</fr:uri>
                            <fr:display-uri>frct-001S</fr:display-uri>
                            <fr:route>/frct-001S/</fr:route>
                            <fr:title text="Characterization of the externalization">Characterization of the externalization</fr:title>
                            <fr:taxon>Theorem</fr:taxon>
                          </fr:frontmatter>
                          <fr:mainmatter><html:p>The <fr:link href="/frct-001R/" title="Externalization" uri="https://www.jonmsterling.com/frct-001R/" display-uri="frct-001R" type="local">externalization</fr:link> <fr:tex display="inline"><![CDATA[{\mathopen {}\left  [{\mathopen {}\left \langle \bar {u}\right \rangle \mathclose {}}\right  ]\mathclose {}}]]></fr:tex> of the internal category <fr:tex display="inline"><![CDATA[{\mathopen {}\left \langle \bar {u}\right \rangle \mathclose {}}]]></fr:tex> <fr:link href="/frct-003Q/" title="The internal category associated to a displayed object" uri="https://www.jonmsterling.com/frct-003Q/" display-uri="frct-003Q" type="local">associated to</fr:link> a displayed object <fr:tex display="inline"><![CDATA[\bar {u}]]></fr:tex> in a <fr:link href="/frct-001B/" title="Locally small fibration" uri="https://www.jonmsterling.com/frct-001B/" display-uri="frct-001B" type="local">locally small</fr:link> fibered category <fr:tex display="inline"><![CDATA[E]]></fr:tex> over <fr:tex display="inline"><![CDATA[B]]></fr:tex> is equivalent to the <fr:link href="/frct-0010/" title="The full subfibration associated to a displayed object" uri="https://www.jonmsterling.com/frct-0010/" display-uri="frct-0010" type="local">full internal subfibration</fr:link> <fr:tex display="inline"><![CDATA[\mathbf {Full}{\mathopen {}\left (\bar {u}\right )\mathclose {}}]]></fr:tex>.</html:p>
 
   
   <fr:tree show-metadata="false" toc="false"><fr:frontmatter><fr:authors /><fr:taxon>Proof</fr:taxon></fr:frontmatter><fr:mainmatter>
  <html:p>We will define a fibred equivalence <fr:tex display="inline"><![CDATA[F : {\mathopen {}\left  [{\mathopen {}\left \langle \bar {u}\right \rangle \mathclose {}}\right  ]\mathclose {}}\to  \mathbf {Full}{\mathopen {}\left (\bar {u}\right )\mathclose {}}]]></fr:tex> over <fr:tex display="inline"><![CDATA[B]]></fr:tex>.</html:p>

  <html:ol><html:li>Fix <fr:tex display="inline"><![CDATA[x\in  B]]></fr:tex> and <fr:tex display="inline"><![CDATA[\chi _{x} \in  {\mathopen {}\left  [{\mathopen {}\left \langle \bar {u}\right \rangle \mathclose {}}\right  ]\mathclose {}}_{x}]]></fr:tex>, i.e. <fr:tex display="inline"><![CDATA[\chi _{x} : x\to  u]]></fr:tex>; we define <fr:tex display="inline"><![CDATA[F{\mathopen {}\left (\chi _{x}\right )\mathclose {}}]]></fr:tex> to be an arbitrary cartesian map <fr:tex display="inline"><![CDATA[\phi _{x} : \bar {x}\xrightarrow [\chi _{x}]{} \bar {u}]]></fr:tex>. (Here we have used the <fr:link href="/frct-000R/" title="Foundational assumptions" uri="https://www.jonmsterling.com/frct-000R/" display-uri="frct-000R" type="local">axiom of choice for collections</fr:link>.)</html:li>

    <html:li><html:p>Fix <fr:tex display="inline"><![CDATA[f : x\to  y\in  B]]></fr:tex> and <fr:tex display="inline"><![CDATA[\chi _{x} :x\to  u]]></fr:tex> and <fr:tex display="inline"><![CDATA[\chi _{y}:y\to  u]]></fr:tex> and a diagram representing a displayed morphism <fr:tex display="inline"><![CDATA[h]]></fr:tex> from <fr:tex display="inline"><![CDATA[\chi _{x}]]></fr:tex> to <fr:tex display="inline"><![CDATA[\chi _{y}]]></fr:tex> over <fr:tex display="inline"><![CDATA[f]]></fr:tex> as below:</html:p>

      
 
  
  <html:figure><fr:resource hash="c6184c09aa495eddce3dbb68932c8f54"><fr:resource-content><html:img src="/c6184c09aa495eddce3dbb68932c8f54.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
        \begin {tikzpicture}[diagram]
          \node  (x) {$x$};
          \node  (y) [below = of x] {$y$};
          \node  (C/1) [right = of x] {${\mathopen {}\left  [{\mathopen {}\left \langle \bar {u}\right \rangle \mathclose {}}\right  ]\mathclose {}}_{1}$};
          \node  (C/0) [below = of C/1] {$u$};
          \node  (C/0') [above = of C/1] {$u$};
          \draw [->,magenta] (x) to node [upright desc] {$h$} (C/1);
          \draw [->] (C/1) to node [right] {$t$} (C/0);
          \draw [->] (C/1) to node [right] {$s$} (C/0');
          \draw [->] (y) to node [below] {$\chi _{y}$} (C/0);
          \draw [->] (x) to node [left] {$f$} (y);
          \draw [->] (x) to node [sloped,above] {$\chi _{x}$} (C/0');
        \end {tikzpicture}
      ]]></fr:resource-source></fr:resource></html:figure>
 


      <html:p>We must define <fr:tex display="inline"><![CDATA[F{\mathopen {}\left (h\right )\mathclose {}}:\bar {x}\xrightarrow [f]{} \bar {y}]]></fr:tex>, fixing arbitrary
      cartesian maps <fr:tex display="inline"><![CDATA[\bar \chi _{x}:\bar {x}\xrightarrow [\chi _{x}]{}\bar {u}]]></fr:tex> and
      <fr:tex display="inline"><![CDATA[\bar \chi _{y}:\bar {y}\xrightarrow [\chi _{y}]{}\bar {u}]]></fr:tex>. First we lift <fr:tex display="inline"><![CDATA[h:x\to  {\mathopen {}\left  [{\mathopen {}\left \langle \bar {u}\right \rangle \mathclose {}}\right  ]\mathclose {}}_{1}]]></fr:tex>
      into <fr:tex display="inline"><![CDATA[E]]></fr:tex> using the universal property of the cartesian lift:</html:p>

      
 
  
  <html:figure><fr:resource hash="f98b962f29d54d4842ee47405af87a6b"><fr:resource-content><html:img src="/f98b962f29d54d4842ee47405af87a6b.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
        \begin {tikzpicture}[diagram]
          \SpliceDiagramSquare <0/>{
            height = 1.5cm,
            west/style = lies over,
            east/style = lies over,
            width = 2.5cm,
            north/node/style = upright desc,
            ne/style = pullback,
            north/style = {->,exists},
            nw = \bar {x},
            sw = x,
            se = {\mathopen {}\left  [{\mathopen {}\left \langle \bar {u}\right \rangle \mathclose {}}\right  ]\mathclose {}}_{1},
            ne = {\mathopen {}\left  [{\mathopen {}\left \langle \bar {u}\right \rangle \mathclose {}}\right  ]\mathclose {}}_{1}^{*}\bar \partial _{1},
            south = h,
            north = \bar {h},
          }
          \SpliceDiagramSquare <1/>{
            glue = west,
            glue target = 0/,
            height = 1.5cm,
            width = 2.5cm,
            north/node/style = upright desc,
            south/node/style = upright desc,
            east/style = lies over,
            ne/style = pullback,
            ne = \bar \partial _{1},
            se = u\times  u,
            south = p,
            north = \bar {p},
          }
          \SpliceDiagramSquare <2/>{
            glue = west,
            glue target = 1/,
            height = 1.5cm,
            width = 2.5cm,
            north/node/style = upright desc,
            south/node/style = upright desc,
            east/style = lies over,
            ne = \bar {u},
            se = u,
            south = \pi _{1},
            north = \bar \pi _{1},
          }
          \draw [->,bend left=30] (0/nw) to node [above] {$\bar \chi _{x}$} (2/ne);
          \draw [->,bend right=30] (0/se) to node [below] {$s$} (2/se);
        \end {tikzpicture}
      ]]></fr:resource-source></fr:resource></html:figure>
 


      <html:p>By composition with the “evaluation map” for our hom object, we have a map <fr:tex display="inline"><![CDATA[\bar {x}\xrightarrow [f;\chi _{y}]{}\bar {u}]]></fr:tex>:</html:p>

      
 
  
  <html:figure><fr:resource hash="9271e363f2a7d16737c7082afb750d36"><fr:resource-content><html:img src="/9271e363f2a7d16737c7082afb750d36.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
        \begin {tikzpicture}[diagram]
          \SpliceDiagramSquare <0/>{
            height = 1.5cm,
            west/style = lies over,
            east/style = lies over,
            south/node/style = upright desc,
            width = 2.5cm,
            nw = \bar {x},
            sw = x,
            se = {\mathopen {}\left  [{\mathopen {}\left \langle \bar {u}\right \rangle \mathclose {}}\right  ]\mathclose {}}_{1},
            ne = {\mathopen {}\left  [{\mathopen {}\left \langle \bar {u}\right \rangle \mathclose {}}\right  ]\mathclose {}}_{1}^{*}\bar \partial _{1},
            south = h,
            north = \bar {h},
          }
          \SpliceDiagramSquare <1/>{
            glue = west,
            glue target = 0/,
            height = 1.5cm,
            width = 2.5cm,
            south/node/style = upright desc,
            east/style = lies over,
            ne/style = pullback,
            ne = \bar \partial _{2},
            se = u\times  u,
            south = p,
            north = \bar {\epsilon },
          }
          \SpliceDiagramSquare <2/>{
            glue = west,
            glue target = 1/,
            height = 1.5cm,
            width = 2.5cm,
            south/node/style = upright desc,
            east/style = lies over,
            ne = \bar {u},
            se = u,
            south = \pi _{2},
            north = \bar \pi _{2},
          }
          \draw [->,bend right=30] (0/se) to node [upright desc] {$t$} (2/se);
          \node  (y) [between = 0/sw and 2/se, yshift=-2cm] {$y$};
          \draw [bend right=30,->] (0/sw) to node [sloped,below] {$f$} (y);
          \draw [bend right=30,->] (y) to node [sloped,below] {$\chi _{y}$} (2/se);
        \end {tikzpicture}
      ]]></fr:resource-source></fr:resource></html:figure>
 


      <html:p>Next we define <fr:tex display="inline"><![CDATA[F{\mathopen {}\left (h\right )\mathclose {}}:\bar {x}\xrightarrow [f]{}\bar {y}]]></fr:tex> using the universal property of (another) cartesian lift:</html:p>

      
 
  
  <html:figure><fr:resource hash="f92fdcc217fedc2d8540940b1a61204f"><fr:resource-content><html:img src="/f92fdcc217fedc2d8540940b1a61204f.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
        \begin {tikzpicture}[diagram]
          \SpliceDiagramSquare <l/>{
            height = 1.5cm,
            east/style = lies over,
            west/style = lies over,
            ne/style = pullback,
            north/style = {->,exists},
            north/node/style = upright desc,
            ne = \bar {y},
            nw = \bar {x},
            se = y,
            sw = x,
            south = f,
            north = F{\mathopen {}\left (h\right )\mathclose {}},
            width = 2.5cm,
          }
          \SpliceDiagramSquare <r/>{
            glue = west,
            glue target = l/,
            height = 1.5cm,
            east/style = lies over,
            north/node/style = upright desc,
            ne = \bar {u},
            se = u,
            south = \chi _{y},
            north = \bar \chi _{y},
          }
          \draw [->,bend left=30] (l/nw) to node [above] {$\bar {h};\bar {\epsilon };\bar \pi _{2}$} (r/ne);
        \end {tikzpicture}
      ]]></fr:resource-source></fr:resource></html:figure></html:li></html:ol>
</fr:mainmatter></fr:tree>
 
</fr:mainmatter>
                        </fr:tree>
                      </fr:mainmatter>
                    </fr:tree>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors />
                        <fr:uri>https://www.jonmsterling.com/frct-000Z/</fr:uri>
                        <fr:display-uri>frct-000Z</fr:display-uri>
                        <fr:route>/frct-000Z/</fr:route>
                        <fr:title text="The internalization of a small fibration">The internalization of a small fibration</fr:title>
                      </fr:frontmatter>
                      <fr:mainmatter><html:p>Let <fr:tex display="inline"><![CDATA[E]]></fr:tex> be a <fr:link href="/frct-001Q/" title="Small fibration" uri="https://www.jonmsterling.com/frct-001Q/" display-uri="frct-001Q" type="local">small fibration</fr:link> over <fr:tex display="inline"><![CDATA[B]]></fr:tex> a category with finite limits, i.e. a cartesian fibration that is both <fr:link href="/frct-001B/" title="Locally small fibration" uri="https://www.jonmsterling.com/frct-001B/" display-uri="frct-001B" type="local">locally small</fr:link> and <fr:link href="/frct-000P/" title="Globally small fibration" uri="https://www.jonmsterling.com/frct-000P/" display-uri="frct-000P" type="local">globally small</fr:link>. We will show that <fr:tex display="inline"><![CDATA[E]]></fr:tex> is equivalent to the <fr:link href="/frct-001R/" title="Externalization" uri="https://www.jonmsterling.com/frct-001R/" display-uri="frct-001R" type="local">externalization</fr:link> <fr:tex display="inline"><![CDATA[{\mathopen {}\left  [C\right  ]\mathclose {}}]]></fr:tex> of an <fr:link href="/frct-001A/" title="Internal category" uri="https://www.jonmsterling.com/frct-001A/" display-uri="frct-001A" type="local">internal category</fr:link> <fr:tex display="inline"><![CDATA[C]]></fr:tex> in <fr:tex display="inline"><![CDATA[B]]></fr:tex>, namely the <fr:link href="/frct-003Q/" title="The internal category associated to a displayed object" uri="https://www.jonmsterling.com/frct-003Q/" display-uri="frct-003Q" type="local">full internal subcategory</fr:link> associated to the <fr:link href="/frct-001E/" title="Generic object" uri="https://www.jonmsterling.com/frct-001E/" display-uri="frct-001E" type="local">generic object</fr:link> <fr:tex display="inline"><![CDATA[\bar {u}\in  E]]></fr:tex>.</html:p>
 
   
   <fr:tree show-metadata="false" toc="false"><fr:frontmatter><fr:authors /><fr:taxon>Proof</fr:taxon></fr:frontmatter><fr:mainmatter>
  <html:p>By the <fr:link href="/frct-001S/" title="Characterization of the externalization" uri="https://www.jonmsterling.com/frct-001S/" display-uri="frct-001S" type="local">characterization of the externalization</fr:link> we know that the <fr:link href="/frct-001R/" title="Externalization" uri="https://www.jonmsterling.com/frct-001R/" display-uri="frct-001R" type="local">externalization</fr:link> of <fr:tex display="inline"><![CDATA[C]]></fr:tex> so-defined is equivalent to the full subfibration <fr:tex display="inline"><![CDATA[\mathbf {Full}{\mathopen {}\left (\bar {u}\right )\mathclose {}}]]></fr:tex> of <fr:tex display="inline"><![CDATA[E]]></fr:tex> spanned by objects that are “classified” by <fr:tex display="inline"><![CDATA[\bar {u}]]></fr:tex>. Because <fr:tex display="inline"><![CDATA[\bar {u}]]></fr:tex> is generic, we know that <html:em>every</html:em> object of <fr:tex display="inline"><![CDATA[E]]></fr:tex> is classified by <fr:tex display="inline"><![CDATA[\bar {u}]]></fr:tex>, so we are done.</html:p>
</fr:mainmatter></fr:tree>
 
</fr:mainmatter>
                    </fr:tree>
                  </fr:mainmatter>
                </fr:tree>
              </fr:mainmatter>
            </fr:tree>
            <fr:tree show-metadata="false">
              <fr:frontmatter>
                <fr:authors>
                  <fr:contributor>
                    <fr:link href="/carloangiuli/" title="Carlo Angiuli" uri="https://www.jonmsterling.com/carloangiuli/" display-uri="carloangiuli" type="local">Carlo Angiuli</fr:link>
                  </fr:contributor>
                  <fr:contributor>
                    <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                  </fr:contributor>
                </fr:authors>
                <fr:uri>https://www.jonmsterling.com/frct-0012/</fr:uri>
                <fr:display-uri>frct-0012</fr:display-uri>
                <fr:route>/frct-0012/</fr:route>
                <fr:title text="Other kinds of fibrations">Other kinds of fibrations</fr:title>
              </fr:frontmatter>
              <fr:mainmatter>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors>
                      <fr:author>
                        <fr:link href="/carloangiuli/" title="Carlo Angiuli" uri="https://www.jonmsterling.com/carloangiuli/" display-uri="carloangiuli" type="local">Carlo Angiuli</fr:link>
                      </fr:author>
                      <fr:author>
                        <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                      </fr:author>
                    </fr:authors>
                    <fr:uri>https://www.jonmsterling.com/frct-0015/</fr:uri>
                    <fr:display-uri>frct-0015</fr:display-uri>
                    <fr:route>/frct-0015/</fr:route>
                    <fr:title text="Cocartesian fibrations">Cocartesian fibrations</fr:title>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <html:p>Cocartesian fibrations are a dual notion to cartesian fibrations, in which the variance of indexing is reversed.</html:p>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:author>
                            <fr:link href="/carloangiuli/" title="Carlo Angiuli" uri="https://www.jonmsterling.com/carloangiuli/" display-uri="carloangiuli" type="local">Carlo Angiuli</fr:link>
                          </fr:author>
                        </fr:authors>
                        <fr:uri>https://www.jonmsterling.com/frct-0016/</fr:uri>
                        <fr:display-uri>frct-0016</fr:display-uri>
                        <fr:route>/frct-0016/</fr:route>
                        <fr:title text="Cocartesian morphism">Cocartesian morphism</fr:title>
                        <fr:taxon>Definition</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter><html:p>Let <fr:tex display="inline"><![CDATA[E]]></fr:tex> be displayed over <fr:tex display="inline"><![CDATA[B]]></fr:tex>, and let <fr:tex display="inline"><![CDATA[f:x\to  y \in  B]]></fr:tex>; a morphism
<fr:tex display="inline"><![CDATA[\bar {f}:\bar {x}\xrightarrow [f]{} \bar {y}]]></fr:tex> in <fr:tex display="inline"><![CDATA[E]]></fr:tex> is called <html:em>cocartesian</html:em> over <fr:tex display="inline"><![CDATA[f]]></fr:tex> when for
any <fr:tex display="inline"><![CDATA[m:y\to  u]]></fr:tex> and <fr:tex display="inline"><![CDATA[\bar {h}:\bar {x}\xrightarrow [f;m]{} \bar {u}]]></fr:tex> there exists a unique
<fr:tex display="inline"><![CDATA[\bar {m} : \bar {y}\xrightarrow [m]{} \bar {u}]]></fr:tex> with <fr:tex display="inline"><![CDATA[\bar {f};\bar {m} = \bar {h}]]></fr:tex>:</html:p>
 
  
  <html:figure><fr:resource hash="16c2b74a4cb317004de9f6eaea2c9496"><fr:resource-content><html:img src="/16c2b74a4cb317004de9f6eaea2c9496.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
  \begin {tikzpicture}[diagram]
    \SpliceDiagramSquare {
      west/style = lies over,
      east/style = lies over,
      north/node/style = upright desc,
      height = 1.5cm,
      nw = \bar {x},
      ne = \bar {y},
      sw = x,
      north = \bar {f},
      south = f,
      se = y,
      ne/style = ne pullback,
    }
    \node  (u') [above right = 1.5cm of ne,xshift=.5cm] {$\bar {u}$};
    \node  (u) [above right = 1.5cm of se,xshift=.5cm] {$u$};
    \draw [lies over] (u') to (u);
    \draw [->,bend left=30] (nw) to node [sloped,above] {$\bar {h}$} (u');
    \draw [->] (se) to node [sloped,below] {$m$} (u);
    \draw [->,exists] (ne) to node [desc] {$\bar {m}$} (u');
  \end {tikzpicture}
]]></fr:resource-source></fr:resource></html:figure>
 
<html:p>We use a “pushout corner” to indicate <fr:tex display="inline"><![CDATA[\bar {x}\to \bar {y}]]></fr:tex> as a cocartesian morphism, a notation justified by our discussion of <fr:link href="/frct-0019/" title="The dual self-indexing" uri="https://www.jonmsterling.com/frct-0019/" display-uri="frct-0019" type="local">the dual self-indexing</fr:link>.</html:p></fr:mainmatter>
                    </fr:tree>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:author>
                            <fr:link href="/carloangiuli/" title="Carlo Angiuli" uri="https://www.jonmsterling.com/carloangiuli/" display-uri="carloangiuli" type="local">Carlo Angiuli</fr:link>
                          </fr:author>
                        </fr:authors>
                        <fr:uri>https://www.jonmsterling.com/frct-0017/</fr:uri>
                        <fr:display-uri>frct-0017</fr:display-uri>
                        <fr:route>/frct-0017/</fr:route>
                        <fr:title text="Cocartesian fibration">Cocartesian fibration</fr:title>
                        <fr:taxon>Definition</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>A displayed category <fr:tex display="inline"><![CDATA[E]]></fr:tex> over <fr:tex display="inline"><![CDATA[B]]></fr:tex> is a <html:em>cocartesian fibration</html:em> when for each <fr:tex display="inline"><![CDATA[f : x \to  y\in  B]]></fr:tex> and <fr:tex display="inline"><![CDATA[\bar {x}\in  E_{x}]]></fr:tex>, there exists a displayed object <fr:tex display="inline"><![CDATA[\bar {y}\in  E_{y}]]></fr:tex> and a <html:em>cocartesian</html:em> morphism <fr:tex display="inline"><![CDATA[\bar {f} : \bar {x}\xrightarrow [f]{} \bar {y}]]></fr:tex>.</html:p>
                        <html:p>Cocartesian fibrations are also known as <html:em>opfibrations</html:em>.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:author>
                            <fr:link href="/carloangiuli/" title="Carlo Angiuli" uri="https://www.jonmsterling.com/carloangiuli/" display-uri="carloangiuli" type="local">Carlo Angiuli</fr:link>
                          </fr:author>
                          <fr:author>
                            <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                          </fr:author>
                        </fr:authors>
                        <fr:uri>https://www.jonmsterling.com/frct-0018/</fr:uri>
                        <fr:display-uri>frct-0018</fr:display-uri>
                        <fr:route>/frct-0018/</fr:route>
                        <fr:title text="The total opposite of a displayed category">The total opposite of a displayed category</fr:title>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <fr:tree show-metadata="false">
                          <fr:frontmatter>
                            <fr:authors />
                            <fr:uri>https://www.jonmsterling.com/frct-001I/</fr:uri>
                            <fr:display-uri>frct-001I</fr:display-uri>
                            <fr:route>/frct-001I/</fr:route>
                            <fr:title text="Total opposite category">Total opposite category</fr:title>
                            <fr:taxon>Construction</fr:taxon>
                          </fr:frontmatter>
                          <fr:mainmatter>
                            <html:p>Let <fr:tex display="inline"><![CDATA[E]]></fr:tex> be displayed over <fr:tex display="inline"><![CDATA[B]]></fr:tex>; we define its <html:em>total opposite</html:em> <fr:tex display="inline"><![CDATA[E^{\tilde {\mathsf {o}}}]]></fr:tex> displayed over <fr:tex display="inline"><![CDATA[B^{\mathsf {op}}]]></fr:tex> as follows:</html:p>
                            <html:ol><html:li>An object of <fr:tex display="inline"><![CDATA[E^{\tilde {\mathsf {o}}}_{x}]]></fr:tex> is given by an object of <fr:tex display="inline"><![CDATA[E_{x}]]></fr:tex>.</html:li>
  <html:li>Given <fr:tex display="inline"><![CDATA[f : x \to  y\in  B^{\mathsf {op}}]]></fr:tex>, a displayed morphism <fr:tex display="inline"><![CDATA[\bar {x}\xrightarrow [f]{} \bar {y}]]></fr:tex> in <fr:tex display="inline"><![CDATA[E^{\tilde {\mathsf {o}}}]]></fr:tex> is given by a displayed morphism <fr:tex display="inline"><![CDATA[\bar {y}\xrightarrow [f]{} \bar {x}]]></fr:tex> in <fr:tex display="inline"><![CDATA[E]]></fr:tex>.</html:li></html:ol>
                            <html:p><html:strong>Warning.</html:strong> Do not confuse this construction with the <fr:link href="/frct-001Z/" title="The opposite of an uncloven fibration" uri="https://www.jonmsterling.com/frct-001Z/" display-uri="frct-001Z" type="local">opposite fibered category</fr:link>, which produces a displayed category over <fr:tex display="inline"><![CDATA[B]]></fr:tex> and not <fr:tex display="inline"><![CDATA[B^{\mathsf {op}}]]></fr:tex>.</html:p>
                          </fr:mainmatter>
                        </fr:tree>
                        <fr:tree show-metadata="false">
                          <fr:frontmatter>
                            <fr:authors />
                            <fr:uri>https://www.jonmsterling.com/frct-001J/</fr:uri>
                            <fr:display-uri>frct-001J</fr:display-uri>
                            <fr:route>/frct-001J/</fr:route>
                            <fr:taxon>Exercise</fr:taxon>
                          </fr:frontmatter>
                          <fr:mainmatter>
                            <html:p>Let <fr:tex display="inline"><![CDATA[E]]></fr:tex> be displayed over <fr:tex display="inline"><![CDATA[B]]></fr:tex>. Prove that the <fr:link href="/frct-000A/" title="The total category and its projection" uri="https://www.jonmsterling.com/frct-000A/" display-uri="frct-000A" type="local">total category</fr:link>
<fr:tex display="inline"><![CDATA[\widetilde {E^{\tilde {\mathsf {o}}}}]]></fr:tex> is <fr:tex display="inline"><![CDATA[{\mathopen {}\left (\widetilde {E}\right )\mathclose {}}^{\mathsf {op}}]]></fr:tex>, and its projection functor is
<fr:tex display="inline"><![CDATA[{\mathopen {}\left (p_{E}\right )\mathclose {}}^{\mathsf {op}} : \widetilde {E}^{\mathsf {op}}\to B^{\mathsf {op}}]]></fr:tex>.</html:p>
                          </fr:mainmatter>
                        </fr:tree>
                        <fr:tree show-metadata="false">
                          <fr:frontmatter>
                            <fr:authors />
                            <fr:uri>https://www.jonmsterling.com/frct-001K/</fr:uri>
                            <fr:display-uri>frct-001K</fr:display-uri>
                            <fr:route>/frct-001K/</fr:route>
                            <fr:taxon>Exercise</fr:taxon>
                          </fr:frontmatter>
                          <fr:mainmatter>
                            <html:p>Let <fr:tex display="inline"><![CDATA[E]]></fr:tex> be displayed over <fr:tex display="inline"><![CDATA[B]]></fr:tex>, and let <fr:tex display="inline"><![CDATA[f:x\to  y\in  B]]></fr:tex>. Prove that a
morphism <fr:tex display="inline"><![CDATA[\bar {f}:\bar {x}\xrightarrow [f]{}\bar {y}]]></fr:tex> is cartesian over <fr:tex display="inline"><![CDATA[f]]></fr:tex> in <fr:tex display="inline"><![CDATA[E]]></fr:tex> if and only
if <fr:tex display="inline"><![CDATA[\bar {f}:\bar {y}\xrightarrow [f]{}\bar {x}]]></fr:tex> is cocartesian over <fr:tex display="inline"><![CDATA[f]]></fr:tex> in <fr:tex display="inline"><![CDATA[E^{\tilde {\mathsf {o}}}]]></fr:tex>.</html:p>
                          </fr:mainmatter>
                        </fr:tree>
                        <fr:tree show-metadata="false">
                          <fr:frontmatter>
                            <fr:authors />
                            <fr:uri>https://www.jonmsterling.com/frct-001L/</fr:uri>
                            <fr:display-uri>frct-001L</fr:display-uri>
                            <fr:route>/frct-001L/</fr:route>
                            <fr:taxon>Exercise</fr:taxon>
                          </fr:frontmatter>
                          <fr:mainmatter>
                            <html:p>Prove that a displayed category <fr:tex display="inline"><![CDATA[E]]></fr:tex> is a cartesian fibration over <fr:tex display="inline"><![CDATA[B]]></fr:tex> if and only if <fr:tex display="inline"><![CDATA[E^{\tilde {\mathsf {o}}}]]></fr:tex> is a cocartesian fibration over <fr:tex display="inline"><![CDATA[B^{\mathsf {op}}]]></fr:tex>.</html:p>
                          </fr:mainmatter>
                        </fr:tree>
                      </fr:mainmatter>
                    </fr:tree>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:author>
                            <fr:link href="/carloangiuli/" title="Carlo Angiuli" uri="https://www.jonmsterling.com/carloangiuli/" display-uri="carloangiuli" type="local">Carlo Angiuli</fr:link>
                          </fr:author>
                        </fr:authors>
                        <fr:uri>https://www.jonmsterling.com/frct-002X/</fr:uri>
                        <fr:display-uri>frct-002X</fr:display-uri>
                        <fr:route>/frct-002X/</fr:route>
                        <fr:title text="Revisiting the fundamental self-indexing">Revisiting the fundamental self-indexing</fr:title>
                        <fr:taxon>Example</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>Recall that the <fr:link href="/frct-001X/" title="The fundamental self-indexing" uri="https://www.jonmsterling.com/frct-001X/" display-uri="frct-001X" type="local">fundamental self-indexing</fr:link> <fr:tex display="inline"><![CDATA[\underline {B}]]></fr:tex> of a category <fr:tex display="inline"><![CDATA[B]]></fr:tex> is a displayed category with <fr:tex display="inline"><![CDATA[\underline {B}_{x} = {B}_{/x}]]></fr:tex>. Recall that <fr:link href="/frct-001Y/" title="Pullbacks and cartesian maps" uri="https://www.jonmsterling.com/frct-001Y/" display-uri="frct-001Y" type="local"><fr:tex display="inline"><![CDATA[\underline {B}]]></fr:tex> is a cartesian fibration over <fr:tex display="inline"><![CDATA[B]]></fr:tex> if and only if <fr:tex display="inline"><![CDATA[B]]></fr:tex> has pullbacks</fr:link>. However, <fr:tex display="inline"><![CDATA[\underline {B}]]></fr:tex> is unconditionally a <html:em>cocartesian</html:em> fibration.</html:p>
                        <fr:tree show-metadata="false">
                          <fr:frontmatter>
                            <fr:authors>
                              <fr:author>
                                <fr:link href="/carloangiuli/" title="Carlo Angiuli" uri="https://www.jonmsterling.com/carloangiuli/" display-uri="carloangiuli" type="local">Carlo Angiuli</fr:link>
                              </fr:author>
                            </fr:authors>
                            <fr:uri>https://www.jonmsterling.com/frct-002Y/</fr:uri>
                            <fr:display-uri>frct-002Y</fr:display-uri>
                            <fr:route>/frct-002Y/</fr:route>
                            <fr:taxon>Exercise</fr:taxon>
                          </fr:frontmatter>
                          <fr:mainmatter>
                            <html:p>Prove that <fr:link href="/frct-001X/" title="The fundamental self-indexing" uri="https://www.jonmsterling.com/frct-001X/" display-uri="frct-001X" type="local">the fundamental self-indexing</fr:link> <fr:tex display="inline"><![CDATA[\underline {B}]]></fr:tex> is a cocartesian fibration for any category <fr:tex display="inline"><![CDATA[B]]></fr:tex>.</html:p>
                          </fr:mainmatter>
                        </fr:tree>
                      </fr:mainmatter>
                    </fr:tree>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:author>
                            <fr:link href="/carloangiuli/" title="Carlo Angiuli" uri="https://www.jonmsterling.com/carloangiuli/" display-uri="carloangiuli" type="local">Carlo Angiuli</fr:link>
                          </fr:author>
                          <fr:author>
                            <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                          </fr:author>
                        </fr:authors>
                        <fr:uri>https://www.jonmsterling.com/frct-0019/</fr:uri>
                        <fr:display-uri>frct-0019</fr:display-uri>
                        <fr:route>/frct-0019/</fr:route>
                        <fr:title text="The dual self-indexing">The dual self-indexing</fr:title>
                        <fr:taxon>Example</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>Dually to the <fr:link href="/frct-001X/" title="The fundamental self-indexing" uri="https://www.jonmsterling.com/frct-001X/" display-uri="frct-001X" type="local">fundamental self-indexing</fr:link>, every category <fr:tex display="inline"><![CDATA[B]]></fr:tex> can also be displayed over itself via its <html:em>coslices</html:em> <fr:tex display="inline"><![CDATA[B^{\setminus  x}]]></fr:tex>.</html:p>
                        <fr:tree show-metadata="false">
                          <fr:frontmatter>
                            <fr:authors>
                              <fr:author>
                                <fr:link href="/carloangiuli/" title="Carlo Angiuli" uri="https://www.jonmsterling.com/carloangiuli/" display-uri="carloangiuli" type="local">Carlo Angiuli</fr:link>
                              </fr:author>
                            </fr:authors>
                            <fr:uri>https://www.jonmsterling.com/frct-002Z/</fr:uri>
                            <fr:display-uri>frct-002Z</fr:display-uri>
                            <fr:route>/frct-002Z/</fr:route>
                            <fr:title text="The dual self-indexing">The dual self-indexing</fr:title>
                            <fr:taxon>Construction</fr:taxon>
                          </fr:frontmatter>
                          <fr:mainmatter><html:p>Let <fr:tex display="inline"><![CDATA[B]]></fr:tex> be a category. Define the displayed category <fr:tex display="inline"><![CDATA[\overline {B}]]></fr:tex> over <fr:tex display="inline"><![CDATA[B]]></fr:tex> as follows:</html:p><html:ol><html:li>For <fr:tex display="inline"><![CDATA[x\in  B]]></fr:tex>, define <fr:tex display="inline"><![CDATA[\overline {B}_{x}]]></fr:tex> as the collection of pairs <fr:tex display="inline"><![CDATA[(\bar {x}\in  B,p_{x}:x\to \bar {x})]]></fr:tex>.</html:li>
<html:li>For <fr:tex display="inline"><![CDATA[f : x\to  y\in  B]]></fr:tex>, define <fr:tex display="inline"><![CDATA[\overline {B}_{f}]]></fr:tex> to be the collection of commuting squares in the following configuration:</html:li></html:ol>
 
  
  <html:figure><fr:resource hash="14d2f81d44733a02e09e79f9d6461260"><fr:resource-content><html:img src="/14d2f81d44733a02e09e79f9d6461260.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
  \DiagramSquare {
    height = 1.7cm,
    sw = \bar {x},
    se = \bar {y},
    nw = x,
    ne = y,
    west = p_{x},
    east = p_{y},
    south = \bar {f},
    north = f,
    west/style = {->,exists},
    east/style = {->,exists},
    south/style = {->,exists},
  }
]]></fr:resource-source></fr:resource></html:figure>
 
</fr:mainmatter>
                        </fr:tree>
                        <fr:tree show-metadata="false">
                          <fr:frontmatter>
                            <fr:authors />
                            <fr:uri>https://www.jonmsterling.com/frct-001M/</fr:uri>
                            <fr:display-uri>frct-001M</fr:display-uri>
                            <fr:route>/frct-001M/</fr:route>
                            <fr:taxon>Exercise</fr:taxon>
                          </fr:frontmatter>
                          <fr:mainmatter>
                            <html:p>Prove that <fr:tex display="inline"><![CDATA[\overline {B}]]></fr:tex> is a cocartesian fibration if and only if
<fr:tex display="inline"><![CDATA[B]]></fr:tex> has pushouts.</html:p>
                          </fr:mainmatter>
                        </fr:tree>
                        <fr:tree show-metadata="false">
                          <fr:frontmatter>
                            <fr:authors />
                            <fr:uri>https://www.jonmsterling.com/frct-001N/</fr:uri>
                            <fr:display-uri>frct-001N</fr:display-uri>
                            <fr:route>/frct-001N/</fr:route>
                            <fr:taxon>Exercise</fr:taxon>
                          </fr:frontmatter>
                          <fr:mainmatter>
                            <html:p>Prove that the <fr:link href="/frct-000A/" title="The total category and its projection" uri="https://www.jonmsterling.com/frct-000A/" display-uri="frct-000A" type="local">total category</fr:link> of <fr:tex display="inline"><![CDATA[\overline {B}]]></fr:tex> is the
arrow category <fr:tex display="inline"><![CDATA[B^{\to }]]></fr:tex>, and the projection is the <html:em>domain</html:em> functor.</html:p>
                          </fr:mainmatter>
                        </fr:tree>
                        <fr:tree show-metadata="false">
                          <fr:frontmatter>
                            <fr:authors>
                              <fr:author>
                                <fr:link href="/carloangiuli/" title="Carlo Angiuli" uri="https://www.jonmsterling.com/carloangiuli/" display-uri="carloangiuli" type="local">Carlo Angiuli</fr:link>
                              </fr:author>
                            </fr:authors>
                            <fr:uri>https://www.jonmsterling.com/frct-0030/</fr:uri>
                            <fr:display-uri>frct-0030</fr:display-uri>
                            <fr:route>/frct-0030/</fr:route>
                            <fr:taxon>Exercise</fr:taxon>
                          </fr:frontmatter>
                          <fr:mainmatter>
                            <html:p>Prove that <fr:tex display="inline"><![CDATA[\overline {B}]]></fr:tex> is a cartesian fibration for any category <fr:tex display="inline"><![CDATA[B]]></fr:tex>.</html:p>
                          </fr:mainmatter>
                        </fr:tree>
                      </fr:mainmatter>
                    </fr:tree>
                  </fr:mainmatter>
                </fr:tree>
                <fr:tree show-metadata="false">
                  <fr:frontmatter>
                    <fr:authors>
                      <fr:author>
                        <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                      </fr:author>
                    </fr:authors>
                    <fr:uri>https://www.jonmsterling.com/frct-0013/</fr:uri>
                    <fr:display-uri>frct-0013</fr:display-uri>
                    <fr:route>/frct-0013/</fr:route>
                    <fr:title text="Right fibrations">Right fibrations</fr:title>
                  </fr:frontmatter>
                  <fr:mainmatter>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:author>
                            <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                          </fr:author>
                        </fr:authors>
                        <fr:uri>https://www.jonmsterling.com/frct-001O/</fr:uri>
                        <fr:display-uri>frct-001O</fr:display-uri>
                        <fr:route>/frct-001O/</fr:route>
                        <fr:title text="Right fibration">Right fibration</fr:title>
                        <fr:taxon>Definition</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>A cartesian fibration <fr:tex display="inline"><![CDATA[E]]></fr:tex> over <fr:tex display="inline"><![CDATA[B]]></fr:tex> is said to be a <html:em>right fibration</html:em> when all displayed morphisms in <fr:tex display="inline"><![CDATA[E]]></fr:tex> are cartesian.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors />
                        <fr:uri>https://www.jonmsterling.com/frct-003P/</fr:uri>
                        <fr:display-uri>frct-003P</fr:display-uri>
                        <fr:route>/frct-003P/</fr:route>
                        <fr:taxon>Remark</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter>
                        <html:p>Recall that for every <fr:tex display="inline"><![CDATA[b\in  B]]></fr:tex>, the collection of displayed objects <fr:tex display="inline"><![CDATA[E_{b}]]></fr:tex> and vertical maps <fr:tex display="inline"><![CDATA[E_{1_{b}}]]></fr:tex> <fr:link href="/frct-0005/" title="Fiber categories and vertical maps" uri="https://www.jonmsterling.com/frct-0005/" display-uri="frct-0005" type="local">forms a category</fr:link>. When <fr:tex display="inline"><![CDATA[E]]></fr:tex> is a right fibration over <fr:tex display="inline"><![CDATA[B]]></fr:tex>, this category is in fact a <html:em>groupoid</html:em>.</html:p>
                      </fr:mainmatter>
                    </fr:tree>
                    <fr:tree show-metadata="false">
                      <fr:frontmatter>
                        <fr:authors>
                          <fr:author>
                            <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                          </fr:author>
                        </fr:authors>
                        <fr:uri>https://www.jonmsterling.com/frct-001P/</fr:uri>
                        <fr:display-uri>frct-001P</fr:display-uri>
                        <fr:route>/frct-001P/</fr:route>
                        <fr:title text="Characterization of right fibrations">Characterization of right fibrations</fr:title>
                        <fr:taxon>Theorem</fr:taxon>
                      </fr:frontmatter>
                      <fr:mainmatter><html:p>A cartesian fibration <fr:tex display="inline"><![CDATA[E]]></fr:tex> over <fr:tex display="inline"><![CDATA[B]]></fr:tex> is a right fibration if and only if all its vertical maps are isomorphisms.</html:p>
 
   
   <fr:tree show-metadata="false" toc="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:taxon>Proof</fr:taxon></fr:frontmatter><fr:mainmatter>

  <html:p>Suppose that <fr:tex display="inline"><![CDATA[E]]></fr:tex> is a right fibration over <fr:tex display="inline"><![CDATA[B]]></fr:tex>, and fix <fr:tex display="inline"><![CDATA[b\in  B]]></fr:tex>,
  <fr:tex display="inline"><![CDATA[\bar {b}\in  E_{b}]]></fr:tex>, and a vertical map <fr:tex display="inline"><![CDATA[f:\bar {b}\xrightarrow [1_{b}]{} \bar {b}]]></fr:tex>.
  Using the hypothesis that <fr:tex display="inline"><![CDATA[f]]></fr:tex> is cartesian, it has a unique section
  <fr:tex display="inline"><![CDATA[g:\bar {b}\xrightarrow [1_{b}]{} \bar {b}]]></fr:tex> as follows:</html:p>

  
 
  
  <html:figure><fr:resource hash="3bb0689df3da00833221a2780da46578"><fr:resource-content><html:img src="/3bb0689df3da00833221a2780da46578.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
    \begin {tikzpicture}[diagram]
      \SpliceDiagramSquare {
        west/style = lies over,
        east/style = lies over,
        north/node/style = upright desc,
        height = 1.5cm,
        nw = \bar {b},
        ne = \bar {b},
        north = f,
        sw = b,
        se = b,
        south/style = double,
        nw/style = pullback,
      }
      \node  (u') [above left = 1.5cm of nw,xshift=-.5cm] {$\bar {b}$};
      \node  (u) [above left = 1.5cm of sw,xshift=-.5cm] {$b$};
      \draw [lies over] (u') to (u);
      \draw [double,bend left=30] (u') to (ne);
      \draw [double] (u) to (sw);
      \draw [->,exists] (u') to node [desc] {$g$} (nw);
    \end {tikzpicture}
  ]]></fr:resource-source></fr:resource></html:figure>
 


  <html:p>Likewise, because <fr:tex display="inline"><![CDATA[g]]></fr:tex> is cartesian, <fr:tex display="inline"><![CDATA[f]]></fr:tex> is the unique section of <fr:tex display="inline"><![CDATA[g]]></fr:tex>; thus <fr:tex display="inline"><![CDATA[f]]></fr:tex> is an
  isomorphism in <fr:tex display="inline"><![CDATA[E_{b}]]></fr:tex>.</html:p>

  <html:p>Conversely, suppose that <fr:tex display="inline"><![CDATA[E]]></fr:tex> is a cartesian fibration whose vertical maps are
  isomorphisms. Fix <fr:tex display="inline"><![CDATA[f:x\to  y \in  B]]></fr:tex> and an arbitrary displayed morphism
  <fr:tex display="inline"><![CDATA[\bar {g}:\bar {x}\xrightarrow [f]{}\bar {y}]]></fr:tex>. Then <fr:tex display="inline"><![CDATA[\bar {g}]]></fr:tex> is the precomposition of a
  cartesian lift <fr:tex display="inline"><![CDATA[\bar {f}:\bar {x}'\xrightarrow [f]{}\bar {y}]]></fr:tex> with a vertical map:</html:p>

  
 
  
  <html:figure><fr:resource hash="f892a99d7676a1ce1a65887823ec14d8"><fr:resource-content><html:img src="/f892a99d7676a1ce1a65887823ec14d8.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
    \begin {tikzpicture}[diagram]
      \SpliceDiagramSquare {
        west/style = lies over,
        east/style = lies over,
        north/node/style = upright desc,
        height = 1.5cm,
        nw = \bar {x}',
        ne = \bar {y},
        sw = x,
        north = \bar {f},
        south = f,
        se = y,
        nw/style = pullback,
      }
      \node  (u') [above left = 1.5cm of nw,xshift=-.5cm] {$\bar {x}$};
      \node  (u) [above left = 1.5cm of sw,xshift=-.5cm] {$x$};
      \draw [lies over] (u') to (u);
      \draw [->,bend left=30] (u') to node [sloped,above] {$\bar {g}$} (ne);
      \draw [double] (u) to (sw);
      \draw [->,exists] (u') to node [desc] {$i$} (nw);
    \end {tikzpicture}
  ]]></fr:resource-source></fr:resource></html:figure>
 


  <html:p>Because vertical maps are isomorphisms and <fr:tex display="inline"><![CDATA[\bar {f}]]></fr:tex> is cartesian, we can observe that <fr:tex display="inline"><![CDATA[\bar {g}]]></fr:tex> is cartesian as follows, writing <fr:tex display="inline"><![CDATA[\bar {m} : \bar {u}\xrightarrow [m]{} \bar {x}']]></fr:tex> for the unique factorization of <fr:tex display="inline"><![CDATA[\bar {h}]]></fr:tex> through <fr:tex display="inline"><![CDATA[\bar {f}]]></fr:tex> over <fr:tex display="inline"><![CDATA[m]]></fr:tex>:</html:p>

  
 
  
  <html:figure><fr:resource hash="37c879543740ec94e3bbc2d7a47ba974"><fr:resource-content><html:img src="/37c879543740ec94e3bbc2d7a47ba974.svg" /></fr:resource-content><fr:resource-source type="latex" part="preamble"><![CDATA[
   
  \RequirePackage{tikz}
 \RequirePackage{amsmath}
 \usetikzlibrary{backgrounds, intersections, calc, spath3, fit}

 \definecolor{catccolor}{RGB}{255,244,138}
 \tikzstyle{dot}=[circle, draw=black, fill=black, minimum size=1mm, inner sep=0mm]
 \tikzstyle{catc}=[catccolor!60]
 \tikzstyle{catd}=[orange!40]
 \tikzstyle{cate}=[red!40]
 \tikzstyle{catf}=[blue!10]
 \tikzstyle{catg}=[green!25]


 \tikzstyle{blue halo}=[fill=blue!10, opacity=0.7, rounded corners]
 \tikzstyle{white halo}=[fill=white, opacity=0.7, rounded corners]

 \NewDocumentCommand\CreateRect{D<>{} m m}{
   \path
     coordinate (#1nw)
     ++(#2,-#3) coordinate (#1se)
     coordinate (#1sw) at (#1se -| #1nw)
     coordinate (#1ne) at (#1nw -| #1se)
   ;

   \path[spath/save = #1north] (#1nw) to (#1ne);
   \path[spath/save = #1west] (#1nw) to (#1sw);
   \path[spath/save = #1east] (#1ne) to (#1se);
   \path[spath/save = #1south] (#1sw) to (#1se);
 }

   
  \usepackage{tikz, tikz-cd, mathtools, amssymb, stmaryrd}
 \usetikzlibrary{matrix,arrows}
 \usetikzlibrary{backgrounds,fit,positioning,calc,shapes}
 \usetikzlibrary{decorations.pathreplacing}
 \usetikzlibrary{decorations.pathmorphing}
 \usetikzlibrary{decorations.markings}

 \tikzset{
   desc/.style={sloped, fill=white,inner sep=2pt},
   upright desc/.style={fill=white,inner sep=2pt},
   pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pullback 45/.style = {
     append after command={
       \pgfextra{
         \draw[rotate = 45] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   ne pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,-.5cm)$) -- ++(-0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   sw pullback/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (.2cm,.5cm)$) -- ++(0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   dotted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [densely dotted] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   muted pullback/.style = {
     append after command={
       \pgfextra{
         \draw [gray] ($(\tikzlastnode) + (.2cm,-.5cm)$) -- ++(0.3cm,0) -- ++(0,0.3cm);
       }
     }
   },
   pushout/.style = {
     append after command={
       \pgfextra{
         \draw ($(\tikzlastnode) + (-.2cm,.5cm)$) -- ++(-0.3cm,0) -- ++(0,-0.3cm);
       }
     }
   },
   between/.style args={#1 and #2}{
     at = ($(#1)!0.5!(#2)$)
   },
   diagram/.style = {
     on grid,
     node distance=2cm,
     commutative diagrams/every diagram,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
     }
   },
   fibration/.style = {
     -{Triangle[open]}
   },
   etale/.style = {
     -{Triangle[open]}
   },
   etale cover/.style= {
     >={Triangle[open]},->.>
   },
   opfibration/.style = {
     -{Triangle}
   },
   lies over/.style = {
     |-{Triangle[open]}
   },
   op lies over/.style = {
     |-{Triangle}
   },
   embedding/.style = {
     {right hook}->
   },
   open immersion/.style = {
     {right hook}-{Triangle[open]}
   },
   closed immersion/.style = {
     {right hook}-{Triangle}
   },
   closed immersion*/.style = {
     {left hook}-{Triangle}
   },
   embedding*/.style = {
     {left hook}->
   },
   open immersion*/.style = {
     {left hook}-{Triangle[open]}
   },
   exists/.style = {
     densely dashed
   },
 }

 \newlength{\dontworryaboutit}

 \tikzset{
   inline diagram/.style = {
     commutative diagrams/every diagram,
     commutative diagrams/cramped,
     line width = .5pt,
     every node/.append style = {
       commutative diagrams/every cell,
       anchor = base,
       inner sep = 0pt
     },
     every path/.append style = {
       outer xsep = 2pt
     }
   }
 }

 \tikzset{
   square/nw/.style = {},
   square/ne/.style = {},
   square/se/.style = {},
   square/sw/.style = {},
   square/north/.style = {->},
   square/south/.style = {->},
   square/west/.style = {->},
   square/east/.style = {->},
   square/north/node/.style = {above},
   square/south/node/.style = {below},
   square/west/node/.style = {left},
   square/east/node/.style = {right},
 }

 \ExplSyntaxOn

 \bool_new:N \l_jon_glue_west

 \keys_define:nn { jon-tikz/diagram } {
   nw .tl_set:N = \l_jon_tikz_diagram_nw,
   sw .tl_set:N = \l_jon_tikz_diagram_sw,
   ne .tl_set:N = \l_jon_tikz_diagram_ne,
   se .tl_set:N = \l_jon_tikz_diagram_se,

   width .tl_set:N = \l_jon_tikz_diagram_width,
   height .tl_set:N = \l_jon_tikz_diagram_height,

   north .tl_set:N = \l_jon_tikz_diagram_north,
   south .tl_set:N = \l_jon_tikz_diagram_south,
   west .tl_set:N = \l_jon_tikz_diagram_west,
   east .tl_set:N = \l_jon_tikz_diagram_east,

   nw/style .code:n = {\tikzset{square/nw/.style = {#1}}},
   sw/style .code:n = {\tikzset{square/sw/.style = {#1}}},
   ne/style .code:n = {\tikzset{square/ne/.style = {#1}}},
   se/style .code:n = {\tikzset{square/se/.style = {#1}}},

   glue .choice:,
   glue / west .code:n = {\bool_set:Nn \l_jon_glue_west \c_true_bool},

   glue~target .tl_set:N = \l_jon_tikz_glue_target,

   north/style .code:n = {\tikzset{square/north/.style = {#1}}},
   north/node/style .code:n = {\tikzset{square/north/node/.style = {#1}}},
   south/style .code:n = {\tikzset{square/south/.style = {#1}}},
   south/node/style .code:n = {\tikzset{square/south/node/.style = {#1}}},
   west/style .code:n = {\tikzset{square/west/.style = {#1}}},
   west/node/style .code:n = {\tikzset{square/west/node/.style = {#1}}},
   east/style .code:n = {\tikzset{square/east/.style = {#1}}},
   east/node/style .code:n = {\tikzset{square/east/node/.style = {#1}}},

   draft .meta:n = {
     nw = {\__jon_tikz_diagram_fmt_placeholder:n {nw}},
     sw = {\__jon_tikz_diagram_fmt_placeholder:n {sw}},
     se = {\__jon_tikz_diagram_fmt_placeholder:n {se}},
     ne = {\__jon_tikz_diagram_fmt_placeholder:n {ne}},
     north = {\__jon_tikz_diagram_fmt_placeholder:n {north}},
     south = {\__jon_tikz_diagram_fmt_placeholder:n {south}},
     west = {\__jon_tikz_diagram_fmt_placeholder:n {west}},
     east = {\__jon_tikz_diagram_fmt_placeholder:n {east}},
   }
 }

 \tl_set:Nn \l_jon_tikz_diagram_width { 2cm }
 \tl_set:Nn \l_jon_tikz_diagram_height { 2cm }


 \cs_new:Npn \__jon_tikz_diagram_fmt_placeholder:n #1 {
   \texttt{\textcolor{red}{#1}}
 }

 \keys_set:nn { jon-tikz/diagram } {
   glue~target = {},
 }


 \cs_new:Nn \__jon_tikz_render_square:nn {
   \group_begin:
   \keys_set:nn {jon-tikz/diagram} {#2}
   \bool_if:nTF \l_jon_glue_west {
     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~\l_jon_tikz_glue_target ne,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (\l_jon_tikz_glue_target ne) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (\l_jon_tikz_glue_target se) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   } {
     \node (#1nw) [square/nw] {$\l_jon_tikz_diagram_nw$};
     \node (#1sw) [below = \l_jon_tikz_diagram_height~of~#1nw,square/sw] {$\l_jon_tikz_diagram_sw$};
     \draw[square/west] (#1nw) to node [square/west/node] {$\l_jon_tikz_diagram_west$} (#1sw);

     \node (#1ne) [right = \l_jon_tikz_diagram_width~of~#1nw,square/ne] {$\l_jon_tikz_diagram_ne$};
     \node (#1se) [below = \l_jon_tikz_diagram_height~of~#1ne,square/se] {$\l_jon_tikz_diagram_se$};
     \draw[square/north] (#1nw) to node [square/north/node] {$\l_jon_tikz_diagram_north$} (#1ne);
     \draw[square/east] (#1ne) to node [square/east/node] {$\l_jon_tikz_diagram_east$} (#1se);
     \draw[square/south] (#1sw) to node [square/south/node] {$\l_jon_tikz_diagram_south$} (#1se);
   }
   \group_end:
 }

 \NewDocumentCommand\SpliceDiagramSquare{D<>{}m}{
   \__jon_tikz_render_square:nn {#1} {#2}
 }


 \NewDocumentCommand\DiagramSquare{D<>{}O{}m}{
   \begin{tikzpicture}[diagram,#2,baseline=(#1sw.base)]
     \__jon_tikz_render_square:nn {#1} {#3}
   \end{tikzpicture}
 }

 \ExplSyntaxOff

  ]]></fr:resource-source><fr:resource-source type="latex" part="body"><![CDATA[
    \begin {tikzpicture}[diagram]
      \SpliceDiagramSquare {
        west/style = lies over,
        east/style = lies over,
        north/node/style = upright desc,
        height = 1.5cm,
        nw = \bar {x},
        ne = \bar {y},
        sw = x,
        north = \bar {g},
        south = f,
        se = y,
        nw/style = pullback,
      }
      \node  (u') [above left = 1.5cm of nw,xshift=-1cm] {$\bar {u}$};
      \node  (u) [above left = 1.5cm of sw,xshift=-1cm] {$u$};
      \draw [lies over] (u') to (u);
      \draw [->,bend left=30] (u') to node [sloped,above] {$\bar {h}$} (ne);
      \draw [->] (u) to node [sloped,below] {$m$} (sw);
      \draw [->,exists] (u') to node [desc] {$\bar {m};i^{-1}$} (nw);
    \end {tikzpicture}
  ]]></fr:resource-source></fr:resource></html:figure>
 

</fr:mainmatter></fr:tree>
 
</fr:mainmatter>
                    </fr:tree>
                  </fr:mainmatter>
                </fr:tree>
              </fr:mainmatter>
            </fr:tree>
          </fr:mainmatter>
        </fr:tree>
        <fr:tree show-metadata="true" expanded="false" toc="false" numbered="false">
          <fr:frontmatter>
            <fr:authors />
            <fr:uri>https://www.forester-notes.org/index/</fr:uri>
            <fr:display-uri>https://www.forester-notes.org/index/</fr:display-uri>
            <fr:route>https://www.forester-notes.org/index/</fr:route>
            <fr:title text="Forester">Forester</fr:title>
          </fr:frontmatter>
          <fr:mainmatter>
            <html:p><html:em>Forester</html:em> is a tool for authoring, exploring, and sharing scientific and mathematical hypertexts. It is your lab notebook, your journal, your blackboard, and the home of your lecture notes.</html:p>
            <html:p>Forester is maintained by <fr:link href="https://www.forester-notes.org/jonmsterling/" title="Jon Sterling" uri="https://www.forester-notes.org/jonmsterling/" display-uri="https://www.forester-notes.org/jonmsterling/" type="local">Jon Sterling</fr:link> and <fr:link href="https://www.forester-notes.org/kentookura/" title="Kento Okura" uri="https://www.forester-notes.org/kentookura/" display-uri="https://www.forester-notes.org/kentookura/" type="local">Kento Okura</fr:link>.</html:p>
            <html:ul><html:li><fr:link href="https://www.forester-notes.org/jms-0065/" title="Project information" uri="https://www.forester-notes.org/jms-0065/" display-uri="https://www.forester-notes.org/jms-0065/" type="local">Project information</fr:link></html:li>
  <html:li><fr:link href="https://www.forester-notes.org/30FM/" title="Forester Blog" uri="https://www.forester-notes.org/30FM/" display-uri="https://www.forester-notes.org/30FM/" type="local">Forester blog</fr:link></html:li>
  <html:li><fr:link href="https://www.forester-notes.org/5CDY/" title="Presentations" uri="https://www.forester-notes.org/5CDY/" display-uri="https://www.forester-notes.org/5CDY/" type="local">Presentations</fr:link></html:li>
  <html:li><fr:link href="https://www.forester-notes.org/jms-005P/" title="Release notes" uri="https://www.forester-notes.org/jms-005P/" display-uri="https://www.forester-notes.org/jms-005P/" type="local">Release notes</fr:link></html:li></html:ul>
          </fr:mainmatter>
        </fr:tree>
      </fr:mainmatter>
    </fr:tree>
    <fr:tree show-metadata="false" hidden-when-empty="true">
      <fr:frontmatter>
        <fr:authors />
        <fr:title text="Contributions">Contributions</fr:title>
      </fr:frontmatter>
      <fr:mainmatter />
    </fr:tree>
  </fr:backmatter>
</fr:tree>
