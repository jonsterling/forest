<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <author>
    <name>Jon Sterling</name>
    <uri>https://www.jonmsterling.com/jonmsterling/</uri>
  </author>
  <updated>2025-04-25T15:53:38+01:00</updated>
  <title>Jon Sterling › Blog</title>
  <id>https://www.jonmsterling.com/jms-007W/</id>
  <link rel="alternate" href="https://www.jonmsterling.com/jms-007W/" />
  <link rel="self" href="https://www.jonmsterling.com/jms-007W/atom.xml" />
  <entry>
    <title>We have AI at home…</title>
    <published>2025-04-25T15:53:38+01:00</published>
    <updated>2025-04-25T15:53:38+01:00</updated>
    <author>
      <name>Jon Sterling</name>
      <uri>https://www.jonmsterling.com/jonmsterling/</uri>
    </author>
    <link rel="alternate" type="text/html" href="https://www.jonmsterling.com/jms-01AS/" />
    <id>https://www.jonmsterling.com/jms-01AS/</id>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">
        <p>On Tuesday, I travelled by train to Sheffield to take part in the <a href="https://www.jonmsterling.com/yamcats-37/">Yorkshire and Midlands Category Theory Seminar 37</a> meeting, where I would be <a href="https://www.jonmsterling.com/sterling-2025-yamcats-37/">speaking</a> about my <a href="https://www.jonmsterling.com/pugh-sterling-2025/">paper</a> that compares partial map classifiers with Sierpiński cones in synthetic (domain/category) theory, which I <a href="https://www.jonmsterling.com/jms-01A6/">summarised previously</a>.</p>
        <section>
          <header>
            <h2>A pleasant surprise</h2>
          </header>
          <p>I was preparing for my chalk talk when I realised that I could not remember the details of the proof of the main result and they couldn’t really be reconstructed from the abbreviated proof in the paper.</p>
          <p>Luckily, I had actually formalised this result in Agda! I did not mention my formalisation in the paper because I do not think of formalisations as scientific contributions except in certain cases (that is a conversation for another day). But I did indeed formalise it because the proof was subtle enough that I needed computerised assistance back when I proved it the first time. The result I obtained was frustratingly weak, and seemed to require some annoying side conditions in order to go through; the formalisation helped me be certain that these side conditions were in fact sufficient.</p>
          <p>Anyway, I was messing around with the code and what I realised was that I had missed a trick back then: <strong>one of the side conditions was actually unnecessary</strong>, and it seems kind of likely that the other one is unnecessary too. I am certain I would not have noticed this if I hadn't had the proof assistant, which made it easy for me to try something out and see if it worked. I should have time to update the paper to claim the strong result prior to the <a href="https://www.jonmsterling.com/lics-2025/">LICS</a> camera-ready deadline next month.</p>
        </section>
        <section>
          <header>
            <h2>Arise, symbolic AI!</h2>
          </header>
          <p>There is a lot of discussion lately of the impact that some current machine learning techniques, marketed as “Artificial Intelligence”, can have on formalisation of mathematics in proof assistants. Some of the <a href="https://www.math.ucla.edu/~tao/">most esteemed</a> members of the mathematical community have gone <em>all in</em> on this trend <span style="font-size: smaller">(is it a requirement of scientific fame and esteem that you begin to cause trouble in areas of research that you know nothing about?)</span>, but I think that evaluating LLMs on Olympiad questions is really missing the point of what computers can do to assist mathematicians. Olympiads are a good fit for LLMs, because kids who participate in Olympiads are behaving much more like LLMs than human mathematicians—the mathematics Olympiad is the ultimate feat of pattern-recognition without understanding, and they are certainly a good fit for the <em>Might Makes Right</em> approach being taken within AI today.</p>
          <p>Agda (and Lean and Rocq and Isabelle) are “Artificial Intelligences” in the most progressive sense—they augment the limited context that a human can store in their mind at once, and are nimble tools for working mathematicians to check and verify their ideas, and (most importantly) they do not proceed by creating a fetish of illusion and misdirection that deceives the public. Their capabilities are limited, but well-circumscribed. I think often about how important it is to know in a definite sense what a tool can and cannot do, and I increasingly think that this is actually part of what makes something a <em>tool</em>. Some of my colleagues have compared LLMs to calculators, in order to make the case that we should get ready for them to be used as everyday tools; but LLMs are not simply tools in the sense that a calculator is a tool.</p>
        </section>
      </div>
    </content>
  </entry>
  <entry>
    <title>Putting Mac OS X Tiger back to work</title>
    <published>2025-04-17T14:06:00Z</published>
    <updated>2025-04-17T14:06:00Z</updated>
    <author>
      <name>Jon Sterling</name>
      <uri>https://www.jonmsterling.com/jonmsterling/</uri>
    </author>
    <link rel="alternate" type="text/html" href="https://www.jonmsterling.com/jms-01AH/" />
    <id>https://www.jonmsterling.com/jms-01AH/</id>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">
        <p>Over the Christmas holiday, I bought an iMac off eBay for £50. Why was it so cheap? Because it is a 2006 model firing on a single gigabyte of RAM with an Intel Core 2 Duo processor, running Mac OS X Tiger. When I was a kid, I dreamed of having a computer like this—for me, the white plastic era will always be peak Apple design, and Tiger’s version of Aqua was the most polished and refined form of the design language that they ever managed to produce. My first Macintosh was a white polycarbonate unibody MacBook running Leopard—and at the time I greatly regretted having just missed the Tiger era for the gaudy and overly darkened feel of Leopard with its sinister-coloured window controls. I did not know at the time how much worse things would get…</p>
        <p>My excuse for purchasing this machine was that I “needed” to run Mac OS X Tiger as “research” for my experimental project <a href="https://github.com/jonsterling/aquaui">AquaUI</a>, which imagines how the Aqua design language could have evolved if it had been allowed to. But really, I wanted to relive my rare trips to Apple retailers as a kid, where I would spend minutes doing nothing but just moving the scrollbar while watching its stationary “wave” texture, or highlighting buttons to see them burst with blue radiance.</p>
        <p>(I spoke about many of the topics covered in this post in my appearance on the <a href="https://kodsnack.se/">Kodsnack podcast</a> hosted by Fredrik Björeman: <em><a href="https://kodsnack.se/international/626/">Episode 626, “The great flattening of everything”</a></em>.)</p>
        <section>
          <header>
            <h2>Day One: what can you do 19 year old iMac?</h2>
          </header>
          <p>When the delivery came, I took the machine gingerly out of its battered and taped over original packaging and turned it on to a feeling of great excitement, which quickly gave way to loss and melancholy: so much of what computers are “for” involves the World Wide Web, and the forced transition to HTTPS/TLS has stolen access to the Web from users of many working computers of access to the Web (unless they gut the machine by downgrading to a modern but severely less polished operating system, like Linux). The old Intel Macs are a prime example of this loss—although some <a href="https://tenfourfox.blogspot.com/">volunteer projects exist</a> to enable safe access to the Web for PowerPC machines, older Intel Macintoshes have received comparatively less attention. Capitalist forced obsolescence comes to all, however, and there will no doubt come a time when the “necessary” “security” routines will simply not be executable with the kinds of hardware resources that could be mustered in 2006, no matter the system architecture. After playing around and finding much of the functionality crippled due to being barred from the Internet, I had to ask myself, <strong>What should I even do with this thing?</strong></p>
          <p>The iMac lay dormant in my <a href="https://www.jonmsterling.com/jms-00GP/">College</a> room for the next few months while I figured out an answer to that question.</p>
          <figure><img width="300px" src="https://www.jonmsterling.com/bafkrmiejjxl32uo7vfhgpkbkxuiww4vabuu745bhajcrleqi7uz4blqjay.gif" />

    <figcaption>My iMac sleeping peacefully in my office at <a href="https://www.jonmsterling.com/jms-00GP/">Clare College</a> Memorial Court, connected to a vintage A1048 keyboard and Apple Pro Mouse (as it should be!). Nearby is my iPod Classic, which I use for about an hour each day and charge once every 6-8 weeks.</figcaption></figure>
        </section>
        <section>
          <header>
            <h2>With a little love, <em>everything</em> has a use</h2>
          </header>
          <p>Last week I finally realised that there is a lot I can still do with this machine. I turned it on when I had a bit of free time, and found that it remains very snappy—software opens instantly without hanging, and in fact the built-in programs are significantly less bug-ridden than they were in subsequent versions of Mac OS X and its (unworthy) successor macOS. To put this into perspective, the “outdated” iMac’s performance was far better than that of my last Intel iMac from 2020 with sixteen times the RAM and several times the processor cores.</p>
          <p>It is well-known that hardware capabilities get better and better each year, but this did not translate into improved performance for users until after the Apple Silicon transition—when the hardware improvement was so great that it was able to outpace the deathmarch of inefficient software, for a time. Don’t worry, the “transition to AI” is going to destroy all those gains soon and we’ll be back where we started.</p>
          <figure><img width="300px" src="https://www.jonmsterling.com/bafkrmiaaxhqvbslbd3sb6mafhlrxswbdbwipj4bzhuewlg7il73mhq7l7y.jpeg" />

    <figcaption>Mac OS X Tiger is still King—with the peak versions of Finder, Preview, and iTunes.</figcaption></figure>
          <p>But I digress. Even if you can’t use the Web, there are many things that a 19 year old iMac running Mac OS X Tiger is better at than a more recently manufactured machine. For example, Tiger was the last version of Mac OS X in which Preview.app (the PDF and image viewer) had a working search interface; from the subsequent version (Leopard) all the way until the present day, searching is somehow both too fuzzy and not fuzzy enough, and there seems to be no combination of quotation marks that will lead to reasonable results appearing in the search pane. (Same with Mail.app, which has somehow got <em>even worse</em> in the past year; you can’t connect to email on such an old machine anyway, so the point is moot.)</p>
          <p>Similarly, iTunes 7 was the functional peak for Apple’s music management and playback software (although iTunes 6 was visually superior), and people who have only used Apple’s current “Music” app will not be able to understand what they are missing. Likewise, the version of Finder shipped with Tiger was the most polished and least buggy version they ever produced; it is really amazing to switch back and forth between macOS 15.3 and Mac OS X 10.4, and find that most of the bugs or usability problems I have encountered on a daily basis for the past decade or so are actually <em>regressions</em>.</p>
          <section>
            <header>
              <h3>The perfect music and PDF reading workstation</h3>
            </header>
            <p>So I transferred my music and PDF libraries to the iMac—this was easy to do by creating a local WiFi network from the iMac, a functionality that has been removed in macOS(!). Indeed, modern macOS has replaced some (but not all) aspects of this functionality with what is called “Internet Sharing”, but this feature does not work reliably and in many cases the needful functionalities are unpredictably grayed out and disabled without any message explaining why. Death by a thousand papercuts... But I digress: I set up a local WiFi network with a file server easily using the old <em>System Preferences</em> application (don’t get me started on the bizarre redesign of System Settings introduced in macOS Ventura), and easily transferred everything I wanted to the iMac and then I was off to the races.</p>
            <p>I listen to music and study papers on this machine, and it gives me so much joy to <em>use</em> this masterpiece of practical industrial design every day—I even write referee reports on it using an ancient version of <a href="https://www.omnigroup.com/omnioutliner/">OmniOutliner</a>, a venerable piece of software that I have to say has not improved much in the past two decades. After installing a copy of <a href="https://macintoshgarden.org/apps/scrivener">Scrivener 2.5</a> (don’t worry, I own a license for <a href="https://www.literatureandlatte.com/">Scrivener 3.0</a> and you should too!), I find myself creative writing in my free time like it’s 2006.</p>
          </section>
          <section>
            <header>
              <h3>What about my iPod Classic?</h3>
            </header>
            <p>Some of you may be aware that I use an iPod Classic every day. The thing is a godsend—the best mobile device I own. I bought it with a fresh battery and SSD, and the damn battery lasts for months before I have to recharge it. That is the kind of technology that was taken from us and replaced by resource-intensive devices governed by the logic of planned obsolescence. But I have it back—my world is not the same as your world, but it is a world I am glad to have returned to.</p>
            <p>Naturally, the first thing I wanted to do was use the iMac as a hub for synchronising the iPod with iTunes. This will work, but what I did not anticipate is that one of my main uses of the iPod is to listen to podcasts, and podcasts cannot be downloaded on the iMac because of the vicious imposition of TLS on all parts of the web that didn’t need it (<a href="https://letsencrypt.org/">Let’s Encrypt</a> really ought to have been called <em>Let’s Kill The Open Web</em>). So I continue synchronising my iPod with my modern day MacBook Air—and it is a testament to Apple’s historical approach to backward compatibility that this is still possible (and even integrated with the otherwise terrible Podcasts app!).</p>
          </section>
        </section>
        <section>
          <header>
            <h2>Is retrocomputing sustainable?</h2>
          </header>
          <p>I constantly feel a pang in the back of my throat when I think about retrocomputing over the long term. We are scrounging around for intact pieces of old technology, but there will come a time when these are too scarce, or when we have really lost the ability to repair them. It is like living in a post-apocalyptic film where a cataclysm has made all manufacturing impossible—but today the cataclysm is not a war or even a virus, but just the simple vicious logic of Capital and a technology industry that has hitched itself to the most ignorant and anti-human trends emanating from the most technologically ignorant people on Wall Street.</p>
          <p>Retrocomputing is decidedly <em>not</em> sustainable, in the same sense that living on a stash of canned foods that can no longer be manufactured cannot be sustainable. But also unsustainable is the present day technological treadmill of consumer goods containing precious metals and dangerous chemicals being produced in the billions and sent directly almost directly to the landfill.</p>
          <p>I think a better question to ask is whether retrocomputing is <em>progressive</em>. I think that retrocomputing can be progressive insofar as it is part of a practice of looking <em>forward</em>—how can we build sovereign technology that respects constrained resources as well as users of different abilities, and cannot be taken away or made useless by Capital and the irrational whims of the stock market. Such a project <em>must</em> have a significant design component, and this cannot be done amateurishly; looking to the iconic design languages of the past for inspiration and education is, then, deeply progressive in this environment.</p>
          <p>The tragedy of Mac OS X is not that Apple took it away and replaced it with something inferior: the tragedy is that free software communities have never managed to produce something even remotely approaching its level of fit and finish. Volunteer projects do not deserve my ire, which I reserve for our economic system in which nearly <em>all</em> competent design work is confined to corporate environments, and then wiped away when the wind shifts.</p>
        </section>
        <section>
          <header>
            <h2>Bring back the joy in computing!</h2>
          </header>
          <p>Forget your troubles and find something that makes you smile, and reminds you of what is possible when a team brimming with talent comes together to build something beautiful.</p>
          <p>Write to me with any joyful and quirky projects, hardware or software, that you would like to share.</p>
        </section>
      </div>
    </content>
  </entry>
  <entry>
    <title>Ventriloquy of the Mid-Century Man</title>
    <published>2025-04-06T21:42:56Z</published>
    <updated>2025-04-06T21:42:56Z</updated>
    <author>
      <name>Jon Sterling</name>
      <uri>https://www.jonmsterling.com/jonmsterling/</uri>
    </author>
    <link rel="alternate" type="text/html" href="https://www.jonmsterling.com/jms-019W/" />
    <id>https://www.jonmsterling.com/jms-019W/</id>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">
        <p>Moments before leaving for a meeting in Barbados with my colleagues <a href="https://www.jonmsterling.com/anilmadhavapeddy/">Anil Madhavapeddy</a> and <a href="https://www.tunbury.org/">Mark Elvers</a>, I hastily loaded Arthur C. Clarke’s <a href="https://www.jonmsterling.com/clarke-1979/">The Fountains of Paradise</a> onto my Kindle for airplane reading. I really want to love “hard science fiction” — I spent months with Asimov’s <em>Foundation</em> in 2022 — but I must admit that I am struggling with the limitations of this genre.</p>
        <figure><img width="200px" src="https://www.jonmsterling.com/bafkrmicus43xa6wklmijk6ljw34mnvajzuofcpdkwkvyhodxflyj3c6jji.jpg" />
 <figcaption>The cover of <a href="https://www.jonmsterling.com/clarke-1979/">The Fountains of Paradise</a>.</figcaption></figure>
        <p>In her <a href="https://www.theparisreview.org/interviews/6253/the-art-of-fiction-no-221-ursula-k-le-guin">2013 interview with The Paris Review</a>, <a href="https://www.jonmsterling.com/ursulakleguin/">Ursula Le Guin</a> questioned the hard/soft divide in science fiction, pointing out that the distinction seems to be based on authors and readers of sci-fi arbitrarily deciding which of the sciences are “Science” and which aren’t.</p>
        <blockquote>The “hard”–science fiction writers dismiss everything except, well, physics, astronomy, and maybe chemistry. Biology, sociology, anthropology—that’s not science to them, that’s soft stuff. They’re not that interested in what human beings do, really. But I am. I draw on the social sciences a great deal. I get a lot of ideas from them, particularly from anthropology. When I create another planet, another world, with a society on it, I try to hint at the complexity of the society I’m creating, instead of just referring to an empire or something like that.</blockquote>
        <p>There is a good point here, and Le Guin’s attention to social sciences and anthropology and history was indeed a strength, but Asimov was also preoccupied with the same throughout <em>Foundation</em>. So what is the difference, aside from the fact that <em>Foundation</em> was written by a man? Well, it cannot be unrelated to Asimov being a man, but perhaps we will get to the point sooner by referring to a specific type of man — the <em>Mid-Century Man</em>.</p>
        <p>The Mid-Century Man has no time for the usual literary rules governing the development of characters and their arc of growth. He is interested in science and humanity, yes, but through the lens of his own avatar whom he transplants directly from our world of his time into the futuristic world of his story. This hapless transplant finds himself, with no volition, speaking the author’s words through his own lips… He hears his own voice prattle on about “the last refuge of the incompetent” and can do absolutely nothing about it.</p>
        <p>The inclination of the Mid-Century Man to spill no ink that might distract from his speculations (flavoured with thematic orientalism, as in the case of <a href="https://www.jonmsterling.com/clarke-1979/">Fountains</a>) is not limited to hard science fiction — Herbert falls prey to the same tendancy in <em>Dune</em>, which I adore, but he is saved by his mastery of the tragedy-form: indeed, we are already weeping with Paul over Chani’s fate a quarter of the way through <em>Dune Messiah</em>.</p>
        <p>In contrast, there is little that is compelling about the characters of <a href="https://www.jonmsterling.com/clarke-1979/">The Fountains of Paradise</a>, nor those of <em>2001: A Space Odyssey</em>, and the same holds for Asimov’s <em>Foundation</em>. The mostly one-dimensional characters of these works are foils for the authors’ speculative ideas about technology or “future history”, and a shorter work could have been written that omits the ventriloquy act entirely and just directly makes the point the author so strongly wished to make.</p>
        <p>Will <a href="https://www.jonmsterling.com/clarke-1979/">Fountains</a> be the last “hard science fiction” book I read? Surely not… There is still much to enjoy and marvel over — and there is a true sense in which Clarke’s elevator to Heaven is compelling enough to outweigh even the worst of his flimsy characterisation.</p>
      </div>
    </content>
  </entry>
  <entry>
    <title>Winter in Eden and Return to Eden: an imperfect conclusion</title>
    <published>2025-03-23T10:33:44Z</published>
    <updated>2025-03-23T10:33:44Z</updated>
    <author>
      <name>Jon Sterling</name>
      <uri>https://www.jonmsterling.com/jonmsterling/</uri>
    </author>
    <link rel="alternate" type="text/html" href="https://www.jonmsterling.com/jms-019O/" />
    <id>https://www.jonmsterling.com/jms-019O/</id>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">
        <p>Two months ago I <a href="https://www.jonmsterling.com/jms-015W/">reviewed</a> Harry Harrison’s delightful <a href="https://www.jonmsterling.com/harrison-1984/">West of Eden</a>, a piece of speculative fiction that considers a world in which the Cretaceous–Paleogene extinction event never occurred, and one species of dinosaur went on to evolve over the subsequent 66 million years into a highly sophisticated society stratified by uneven linguistic abilities. The most intelligent stratum of this species calls itself <em>Yilanè</em>, which is at once an ethnonym and a classification of linguistic ability.</p>
        <p>In Harrison’s Eden, reptiles of all kinds dominate Africa (<em>Entoban</em> in Yilanè) whereas mankind (<em>Tanu</em> and <em>Sasku</em> in their languages) and other mammals live in North America (<em>Gendasi</em> in Yilanè), confined at first mainly to its colder northern reaches. The icy winds of climate change blow across Entoban and northern Gendasi alike, which leads mankind to migrate south just as the Yilanè begin to colonise southern Gendasi. The encounter of Tanu and Yilanè is predictably violent—when the Tanu encounter the torpid Yilanè males basking on the birthing beaches of Alpèasak (the new Yilanè colony in our own Florida), they slay them immediately and spark a war of the species that shapes the entire trilogy.</p>
        <figure><img height="200px" src="https://www.jonmsterling.com/bafkrmiabjfjguelr6ayscwbzqonts26dkvhmephxe2g5gy5dvjbxuctjem.jpg" />
  <img height="200px" src="https://www.jonmsterling.com/bafkrmiacwpt7ky5yniefejcq7nqp7cdlphmvu6ka6zrxgnn63p4t7g4dwi.jpg" />
  <img height="200px" src="https://www.jonmsterling.com/bafkrmih7i2jw3w4f353s2sotl3ywcssizf5crvycejoxcuvwlinmax5u7a.jpg" />

 <figcaption>Covers of the Eden Trilogy.</figcaption></figure>
        <p>That is the premise of <a href="https://www.jonmsterling.com/harrison-1984/">West of Eden</a>, the first book of the Eden Trilogy, which tells the story of a young Tanu man named Kerrick who is kidnapped and raised by Yilanè in Alpèasak. The next two books, <a href="https://www.jonmsterling.com/harrison-1986/">Winter in Eden</a> and <a href="https://www.jonmsterling.com/harrison-1988/">Return to Eden</a>, concern the continuing struggle of Tanu and their Sasku allies to survive in the South while being pursued by a genocidal Yilanè expedition, and of the minority faction of Yilanè called the <em>Daughters of Life</em> who aim to establish a peaceful city in South America.</p>
        <p>Although <a href="https://www.jonmsterling.com/harrison-1986/">Winter in Eden</a> and <a href="https://www.jonmsterling.com/harrison-1988/">Return to Eden</a> share the charm of the <a href="https://www.jonmsterling.com/harrison-1984/">first book</a>, they do not quite live up to its promise. Without revealing anything that might spoil the Trilogy (which I do still recommend), there are several imperfections that give a reader the distinct impression of rushed writing—especially in <a href="https://www.jonmsterling.com/harrison-1988/">Return</a>.</p>
        <ul><li>Throughout <a href="https://www.jonmsterling.com/harrison-1988/">Return to Eden</a> the toponyms <em>Gendasi</em> and <em>Entoban</em> are frequently mixed up, leading to a great deal of confusion. For example, Vaintè says “But Entoban is large, most of it unknown to us, warm and filled with good meat” but this could only refer to Gendasi in the context of the novel. I am apparently not the only person to notice this oversight, as can be seen by perusing the <a href="https://www.amazon.co.uk/Return-Eden-Harry-Harrison/dp/0246126132">Amazon reviews</a>.</li>
 <li>Relatedly, there is no explicit toponym for South America, which plays an important role in the story. Indeed, South America appears to be referred to as part of Gendasi, which makes sense considering the land bridge that joins it to North America, but in that case it is surprising that Gendasi is glossed as North America rather than The Americas.</li>
 <li>Several interesting story-lines appear to be dropped on the floor. What of the scientist Ambalasei’s fate, and will the radical city <em>Ambalasokei</em> survive?</li></ul>
        <p>Perhaps what was needed most was more time. Despite these imperfections, I don’t regret my time in Eden—and I dream of returning there one day.</p>
      </div>
    </content>
  </entry>
  <entry>
    <title>West of Eden: you can judge a book by its cover</title>
    <published>2025-01-25T16:36:23Z</published>
    <updated>2025-01-25T16:36:23Z</updated>
    <author>
      <name>Jon Sterling</name>
      <uri>https://www.jonmsterling.com/jonmsterling/</uri>
    </author>
    <link rel="alternate" type="text/html" href="https://www.jonmsterling.com/jms-015W/" />
    <id>https://www.jonmsterling.com/jms-015W/</id>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">
        <p>I have found that one could do far worse than perusing the <a href="https://www.reddit.com/r/CoolSciFiCovers/">r/CoolSciFiCovers</a> subreddit and picking things to read at random. This week I chose <a href="https://www.jonmsterling.com/harrison-1984/">West of Eden</a> based on its outstanding cover art, and it turned out to be a very enjoyable read.</p>
        <figure><img width="200px" src="https://www.jonmsterling.com/bafkrmiabjfjguelr6ayscwbzqonts26dkvhmephxe2g5gy5dvjbxuctjem.jpg" />
 <figcaption>The cover of <a href="https://www.jonmsterling.com/harrison-1984/">West of Eden</a>, by Harry Harrison and illustrated by Bill Sanderson.</figcaption></figure>
        <p>The premise is that the impact causing the mass extinction of non-avian dinosaurs never occurred, and neolithic Man unknowingly shares the Earth with a very advanced and highly stratified female-dominated race of intelligent lizards whose males have two penises (<del>don’t ask me why!</del> <ins>apparently this is common in nature</ins>). When climate change threatens both the human and lizard civilisations, they are forced to migrate and, in doing so, discover each other’s presence and clash violently.</p>
        <p>Some aspects of the story are a little old-fashioned—I barely need to discuss the instinctive disgust and “racial hatred” felt by the humans and the lizards for each other, but the narrative ultimately challenges this feeling by revealing each culture to be civilised in its own terms, if not in terms that would lead to a cooperative multi-species stewardship of the Earth.</p>
        <p>The initial inability of the intelligent lizards to fathom that the “filthy ustuzou”—the lizard phrase for humans and other mammalian creatures—may be sentient and even conscious entities of moral force is challenged by their experience, and by a religious extremist trend within their society that recognises the intrinsic value of all forms of conscious life. In a time where current science continues to reveal, bit by bit, the overconfident ignorance and moral wickedness of those who have insisted that the “lower forms of life” on our own Earth are without sentience, value, moral force (the octopus, the elephant, etc.), it is hard to read this without thinking about our own “filthy ustuzou” and the future consequences of our vicious behaviour toward them.</p>
      </div>
    </content>
  </entry>
  <entry>
    <title>We must fund intellectual infrastructure for the long term</title>
    <published>2024-11-17T11:29:18Z</published>
    <updated>2024-11-17T11:29:18Z</updated>
    <author>
      <name>Jon Sterling</name>
      <uri>https://www.jonmsterling.com/jonmsterling/</uri>
    </author>
    <link rel="alternate" type="text/html" href="https://www.jonmsterling.com/jms-013G/" />
    <id>https://www.jonmsterling.com/jms-013G/</id>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">
        <p><strong>How can we effectively and sustainably fund the intellectual infrastructure for generational human advancement?</strong> <em>Intellectual infrastructure</em>—which I would define to encompass the <em>tools</em> used to develop, teach, and learn science—is mistreated by essentially all extant funding models that I am aware of.</p>
        <p>To be clear, when I speak of “tools” I mean not only software (like <a href="https://lean-lang.org/">Lean</a>, <a href="https://coq.inria.fr/">Coq/Rocq</a>, <a href="https://wiki.portal.chalmers.se/agda/pmwiki.php">Agda</a>, <a href="https://isabelle.in.tum.de/">Isabelle</a>, <a href="https://www.forester-notes.org/index/">Forester</a>, <a href="https://www.sagemath.org/">SageMath</a>, or <a href="https://www.wolfram.com/mathematica/">Mathematica</a>)—but also more broadly intellectual tools like the <a href="https://ncatlab.org/nlab/show/HomePage">nLab</a> and <a href="https://www.forester-notes.org/stacks-project/">The Stacks project</a> whose main aim is not necessarily to contribute new ideas but to consolidate what is known in order to lay the groundwork for the future.</p>
        <section>
          <header>
            <h2>Funding intellectual infrastructure using research grants</h2>
          </header>
          <p>In a traditional research grant proposal, one describes a scientific vision instrumented by several key deliverables that can be achieved in anywhere from the space of a year to several years.</p>
          <p>There are three main problems with research grants as far as the funding of intellectual infrastructure.</p>
          <section>
            <header>
              <h3>Inadequate timescale of research grants</h3>
            </header>
            <p>Research grants are usually time-limited (for example, five years tends to be on the longer side for grants), whereas the sustainable intellectual infrastructure that can actually be safely adopted in critical areas must be funded stably on the scale of decades rather than years.</p>
          </section>
          <section>
            <header>
              <h3>Unquantified impact of intellectual infrastructure</h3>
            </header>
            <p>Funding is, as a rule, devoted to projects that promise (1) significant and (2) essentially predictable intellectual contributions. Intellectual infrastructure typically does not yield a direct intellectual contribution, but when neglected for too long can impede these intellectual contributions in invisible ways. Funders of research grants are, however, reluctant to fund what they cannot quantify.</p>
          </section>
          <section>
            <header>
              <h3>“implicit” production of intellectual infrastructure</h3>
            </header>
            <p>Because intellectual infrastructure is nearly always developed by a combination of volunteer labour and student labour, funders are reluctant to devote resources to what they anticipate will be done anyway without their intervention—or, given that many PhD studentships are sponsored by such bodies, there may be a perception that the existing model is <em>already</em> adequately funding the production of intellectual infrastructure.</p>
          </section>
        </section>
        <section>
          <header>
            <h2>Funding intellectual infrastructure on the FRO model</h2>
          </header>
          <p>An interesting and encouraging development is the emergence of the <a href="https://www.convergentresearch.org/"><em>Focused Research Organisation</em></a> model, which recognises and aims to solve <a href="https://www.jonmsterling.com/jms-013K/">Problem jms-013K/</a> and <a href="https://www.jonmsterling.com/jms-013L/">Problem jms-013L/</a>. For example, the most excellent <a href="https://www.jonmsterling.com/leanfro/">Lean Focused Research Organization</a> describes their mission as follows:</p>
          <blockquote>
            <p>We are excited to share the news of the Lean Focused Research Organization (FRO)! A new nonprofit dedicated to advancing the Formal Mathematics revolution, we aim to tackle the challenges of scalability, usability, and proof automation in the <a href="https://lean-lang.org/">Lean proof assistant</a>. Our 5-year mission is to empower Lean towards self-sustainability. Please check our <a href="https://lean-fro.org/about/roadmap-y2">current roadmap</a> for details. (<a href="https://lean-fro.org/about/">Lean FRO, Mission</a>)</p>
          </blockquote>
          <p>I think that this is a great development indeed, and it will be good for Lean and therefore good for our community. But I think that the FRO model cannot address <a href="https://www.jonmsterling.com/jms-013J/">Problem jms-013J/</a>—the inadequate timescale. Even the reference to “self-sustainability” in the <a href="https://www.jonmsterling.com/leanfro/">Lean FRO</a> mission statement suggests an assumption that there is anything “<em>self</em>-sustaining” whatsoever about the infrastructure that makes scientific and intellectual progress possible.</p>
          <p>It is one thing (a very good thing indeed) to solve usability problems and address pain points that prevent institutional and industrial adoption of intellectual tools in the near term. I have every reason to believe that the <a href="https://www.jonmsterling.com/leanfro/">Lean FRO</a> will be be very successful in this area (and they have made great strides already). An FRO naturally does not aim to solve all problems, and we should certainly not judge them on that unrealistic basis; but we should use the experience to better understand where the gaps are in our current models for the funding and production of intellectual infrastructure.</p>
        </section>
        <section>
          <header>
            <h2>Problems with the bimodal theory/practice cycle</h2>
          </header>
          <p>The bimodal “practice—then theory—then practice” model presupposed by the dichotomy between <a href="https://www.jonmsterling.com/jms-013H/">traditional research grants</a> and <a href="https://www.jonmsterling.com/jms-013I/">focused research organisations and other short-term “moon-shots”</a> neglects the dialectical interplay between theory and practice, in ways that can have real consequences for human intellectual advancement. Indeed, it seems to me that the model of dividing funding between traditional research grants and FROs is based on the idea that progress occurs in a two step cycle:</p>
          <ol><li>First the “real science” reaches the point where it is strong enough that it could be applied in a practical way, but this application would be impossible to achieve within the research grant funding model.</li>
  <li>So an FRO is spun up to pick up where the science left off, and develop the application to the point that it can be practically adopted in institutions and industry.</li>
  <li>(Repeat!)</li></ol>
          <p>I do not think that the cycle above can lead to sustainable intellectual infrastructure, which requires (1) <strong>a more responsive interplay between theory and practice</strong>, and (2) <strong>long-term continuity of lessons and advances</strong> that cannot be achieved on the current model of “once or twice per decade post-mortems” in the form of successive research grant and FRO proposals.</p>
        </section>
        <section>
          <header>
            <h2>Unsustainable tool enhancement is a barrier to progress</h2>
          </header>
          <p>I am going to say something strange, and I hope that I will not be misunderstood.</p>
          <p>By concentrating an immense amount of funding into “developing the application” without regard for the evolving theoretical basis and sustaining the development over a timescale of decades, <strong>we can unintentionally and disastrously raise the bar for high-impact advances by increasing product inertia in unsustainable ways</strong>. For example, I would estimate that it costs upwards of £1–2M to create an excellent IDE—so when a five year program results in an excellent IDE for a <em>specific</em> language along the understandably narrow mission of an FRO, <strong>the funders may have unintentionally raised the financial baseline for any future transformative impact by at least £1M</strong>.</p>
          <p><strong>We <em>do not need</em> to make any guesses or conjectures as to whether increased inertia is a likely outcome of these new funding models</strong>—as this has already occurred, incontrovertibly, as a consequence of the existing industrial-adoption-based model of production of programming languages, where a large corporation can put millions of funding into a language of relatively low quality (and thus raise <em>significantly</em> the usability of the tooling) to the point that making a competently designed language meet the minimum standard for adoption would cost far more than is possible to fund on the academic model.</p>
          <p><strong>Obviously the solution to this problem is <em>not</em> to slow the march of tool enhancement—quite the opposite.</strong> But we must find a way to achieve these enhancements without making future improvements of a more radical nature prohibitively expensive. I think that the key to unlocking the long-term sustainability of intellectual tool enhancement to develop a <strong><em>unified</em> and <em>responsive</em> theory/practice funding model</strong> that can exercise leadership on the scale of decades.</p>
        </section>
        <section>
          <header>
            <h2>A call to action for a sustainable theory/practice spiral</h2>
          </header>
          <p><strong>I am calling for the endowment and funding of independent research institutions on a permanent or decades-long basis</strong>, whose mission is not bound to a specific tool (e.g. Lean or Coq or <a href="https://www.forester-notes.org/index/">Forester</a>) but rather to a set of scientific principles and society-level goals to be achieved on a <strong>generational timescale</strong>.</p>
          <p>It may seem as though open-ended endowments of this kind are a pipedream, but I would draw your attention to the example of the <a href="https://www.cmu.edu/hoskinson/"><em>Hoskinson Center for Formal Mathematics</em></a> at <a href="https://www.jonmsterling.com/cmu/">Carnegie Mellon University</a> established in 2021 by a gift from billionaire Charles Hoskinson; although the Center is mainly focused on Lean, <strong>I see no reason why institutions of this nature could not be endowed on a permanent basis</strong> with a broader technical approach.</p>
          <p><strong>For future endowments, it will be important to place an emphasis on the funding of permanent staff over the funding of research students and postdocs</strong>—whose near-term career needs are often in deep and irreconcilable conflict with the mission of an institution that aims to make generational social impact. If you have resources that could be brought to bear on such an ambitious project, or are connected with someone who does, please get in touch with me (<code>js2878@cl.cam.ac.uk</code>). <mark>It is time for us to build <em>and</em> sustain the scaffolding for the next three centuries of Science.</mark></p>
        </section>
        <section>
          <header>
            <h2>Acknowledgments</h2>
          </header>
          <p>My sincere thanks to <a href="https://www.jonmsterling.com/johancommelin/">Johan Commelin</a> for his comments and encouragement.</p>
        </section>
      </div>
    </content>
  </entry>
  <entry>
    <title>Tips for using plain text email on macOS</title>
    <published>2024-03-10T00:00:00Z</published>
    <updated>2024-03-10T00:00:00Z</updated>
    <author>
      <name>Jon Sterling</name>
      <uri>https://www.jonmsterling.com/jonmsterling/</uri>
    </author>
    <link rel="alternate" type="text/html" href="https://www.jonmsterling.com/jms-00QB/" />
    <id>https://www.jonmsterling.com/jms-00QB/</id>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">
        <p>I am a proponent of using plain text (or Markdown-formatted) emails rather than HTML-formatted emails. Although there are some legitimate uses for rich formatting in email, I find the well is poisoned: <a href="https://www.jonmsterling.com/jms-00QC/">HTML-formatted email manipulates, surveils, and controls</a>.</p>
        <section>
          <header>
            <h2>A renaissance for plain text email?</h2>
          </header>
          <p>Although plain text email has gone the way of the dinosaur in most parts of society, it remains used among many technical communities (such as the Linux kernel developers, etc.). Recently, <a href="https://sr.ht/">SourceHut</a> has emerged as a free and open source code forge whose workflow is entirely based on plain text email as described on the <a href="https://useplaintext.email/">useplaintext.email</a> website. Naturally, this has led to both curiosity and friction as users attempt to adapt to working technology of the 1990s that Capital has made increasingly difficult to interact with using present-day software. As a maintainer of several projects on <a href="https://sr.ht/">SourceHut</a>, I have seen many of my valued collaborators completely fall on the ground when it comes to following the <a href="https://useplaintext.email/etiquette">etiquette recommendations for plaintext emails</a> (especially text wrapping) and this is certainly not for lack of trying on their part. The available technological options are just that difficult to use.</p>
          <p>The main viable tools for working with plain text email are terminal-based: for example, <a href="https://aerc-mail.org/">aerc</a> and <a href="http://mutt.org/">mutt</a> and its derivatives. These are, however, a non-starter for most users (even technical users): for example, they are difficult to configure, and integrating with address books from standard email providers is nearly impossible or requires a Nobel prize; a bigger problem is that for most of these tools, one must store passwords in plain text (or use some very complicated authentication scheme that a typical user will be unable to set up).</p>
        </section>
        <p>The only viable modern GUI client recommended by <a href="https://useplaintext.email/">useplaintext.email</a> for macOS is <a href="https://www.jonmsterling.com/jms-00QE/">MailMate</a>. Unfortunately, <a href="https://www.jonmsterling.com/jms-00QE/">MailMate</a>’s visible settings do not have any option for wrapping text, which would contradict its viability for plaintext email users. Furthermore, the versions of <a href="https://www.jonmsterling.com/jms-00QE/">MailMate</a> available for download from its website (both the released version and the prerelease) seem to be incompatible with macOS Sonoma. By doing a bit of spelunking, I have found that both these problems can be solved (at least for now).</p>
        <section>
          <header>
            <h2>Using <a href="https://www.jonmsterling.com/jms-00QE/">MailMate</a> for plain text email</h2>
          </header>
          <section>
            <header>
              <h3>Download the prerelease of <a href="https://www.jonmsterling.com/jms-00QE/">MailMate</a></h3>
            </header>
            <p>First, download the latest prerelease binary for <a href="https://www.jonmsterling.com/jms-00QE/">MailMate</a> from this directory: <a href="http://updates.mailmate-app.com/archives/">http://updates.mailmate-app.com/archives/?C=M;O=D</a>. I found that the this program can take a very long time to open for the first time, but after this it is speedy.</p>
          </section>
          <section>
            <header>
              <h3>Enable <code>format=flowed</code></h3>
            </header>
            <p>Second, enable <code>format=flowed</code> using the following completely undocumented command:</p>
            <pre>defaults write com.freron.MailMate MmFormatFlowedEnabled -bool true</pre>
            <p>Note that this option is so undocumented that it does not even appear in the list of <a href="https://manual.mailmate-app.com/hidden_preferences.html">hidden preferences</a>. There is some discussion of this on the <a href="https://lists.freron.com/mailmate/2021-May/014194.html">mailing list</a>.</p>
          </section>
          <p>Although the <a href="https://www.ietf.org/rfc/rfc3676.txt"><code>format=flowed</code> standard</a> standard is very rarely implemented by clients, email sent using this flag will be formatted correctly by <a href="https://lists.sr.ht/">SourceHut Lists</a>.</p>
        </section>
      </div>
    </content>
  </entry>
  <entry>
    <title>Day tensors of fibered categories</title>
    <published>2023-09-20T00:00:00Z</published>
    <updated>2023-12-17T00:00:00Z</updated>
    <author>
      <name>Jon Sterling</name>
      <uri>https://www.jonmsterling.com/jonmsterling/</uri>
    </author>
    <link rel="alternate" type="text/html" href="https://www.jonmsterling.com/jms-009F/" />
    <id>https://www.jonmsterling.com/jms-009F/</id>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">
        <p>I have been thinking about monoidal closed structures induced by <a href="https://mathoverflow.net/questions/229358/non-cartesian-monoidal-model-structure-on-a-slice-category/229371229371">slicing over a monoid</a>, which has been considered by <a href="https://www.jonmsterling.com/combette-munch-2018/">Combette and Munch-Maccagnoni</a> as a potential denotational semantics of destructors à la C++. It occurred to me that this construction is, in fact, <em>almost</em> a degenerate case of Day convolution on an internal monoidal category — and this made me realize that there might be a nice way to understand Day convolution in the language of <a href="https://www.jonmsterling.com/frct-003I/">fibered categories</a>. In fact, many of these results (in particular the relativization to internal monoidal categories) are probably a special case of Theorem 11.22 of <a href="https://www.jonmsterling.com/shulman-2013/">Shulman’s paper on enriched indexed categories</a>.</p>
        <section>
          <header>
            <h2>The “Day tensor” of <a href="https://www.jonmsterling.com/frct-0002/">fibered  categories</a></h2>
          </header>
          <p>Let <code>E</code> and <code>F</code> be two <a href="https://www.jonmsterling.com/frct-0002/">fibered categories</a> over a semimonoidal category <code>{\mathopen {}\left (<code>B</code>,\otimes ,\alpha \right )\mathclose {}}</code>. We may define the “Day tensor” product <code><code>E</code>\otimes _<code>B</code> <code>F</code></code> of <code>E</code> and <code>F</code> to be the following fibered category over <code>B</code>:</p>
          <code>
  <code>E</code>\otimes _<code>B</code><code>F</code> :\equiv  \otimes _!<code>{\mathopen {}\left (\pi _1^*<code>E</code>\times _{<code>B</code>\times <code>B</code>} \pi _2^*<code>F</code>\right )\mathclose {}}</code>
</code>
          <p>Note that <code>f_!</code> refers to the left adjoint of base change <code>f^*</code> for <a href="https://www.jonmsterling.com/frct-0002/">fibered categories</a>, <a href="https://www.jonmsterling.com/streicher-fcjb/">which is <em>not</em> postcomposition</a>.</p>
        </section>
        <section>
          <header>
            <h2>Stepping through the <a href="https://www.jonmsterling.com/jms-009A/">Day tensor of fibered categories</a></h2>
          </header>
          <p>To understand the construction of the <a href="https://www.jonmsterling.com/jms-009A/">Day tensor</a>, we will go through it step-by-step. Let <code>E</code> and <code>F</code> be two <a href="https://www.jonmsterling.com/frct-0002/">fibered categories</a> over a semimonoidal category <code>{\mathopen {}\left (<code>B</code>,\otimes ,\alpha \right )\mathclose {}}</code>.</p>
          <ol><li>Given that <code>E</code> and <code>F</code> are displayed over <code>B</code>, we may restrict them to lie the two disjoint regions of <code><code>B</code>\times <code>B</code></code> by <a href="https://www.jonmsterling.com/frct-0007/">base change</a> along the two projections:
    
 
  
  <figure><img src="https://www.jonmsterling.com/df449435ed3b37209db1d6ef137fc486.svg" /></figure>
 

    The above can be seen as <em>cartesian lift</em> in the 2-bifibration of fibered categories over <code>\mathbf {Cat}</code>.</li>

  <li>Next, we took the fiber product of fibered categories, giving a vertical span over <code>B</code>:
    <code>
      \pi _1^*<code>E</code> \leftarrow  \pi _1^*<code>E</code>\times _{<code>B</code>\times <code>B</code>} \pi _2^*<code>F</code> \rightarrow  \pi _2^*<code>F</code>
    </code>
    Of course, this corresponds to pullback in <code>\mathbf {Cat}</code> or cartesian product in <code>{<code>\mathbf {Cat}</code>}<code>_{/<code>B</code>}</code></code>.</li>

  <li>Finally, we take a <em><a href="https://www.jonmsterling.com/frct-0017/">cocartesian lift</a></em> along the tensor functor <code><code>{<code>B</code>\times <code>B</code>}\xrightarrow {{\otimes }}{<code>B</code>}</code></code> to obtain the <a href="https://www.jonmsterling.com/jms-009A/">Day tensor</a>:
    
 
  
  <figure><img src="https://www.jonmsterling.com/43f4442d917db759fe384a5852d00688.svg" /></figure>
 

    Note: the <a href="https://www.jonmsterling.com/frct-0017/">cocartesian lift</a> above does not correspond to composition in <code>\mathbf {Cat}</code> except in the discrete case.</li></ol>
        </section>
        <p>Under appropriate assumptions, we may also compute a “<a href="https://www.jonmsterling.com/jms-009G/">Day hom</a>” by adjointness.</p>
        <section>
          <header>
            <h2>The “Day hom” of fibered categories</h2>
          </header>
<p>Let <code>E</code> and <code>F</code> be two <a href="https://www.jonmsterling.com/frct-0002/">fibered categories</a> over a semimonoidal category <code>{\mathopen {}\left (<code>B</code>,\otimes ,\alpha \right )\mathclose {}}</code>. We may define the “Day hom” <code><code>E</code>\multimap _<code>B</code> <code>F</code></code> of <code>E</code> and <code>F</code> to be the following <a href="https://www.jonmsterling.com/frct-0002/">fibered category</a> over <code>B</code>:</p><code>
  <code>E</code>\multimap _<code>B</code><code>F</code> :\equiv 
  <code>{\mathopen {}\left (\pi _1\right )\mathclose {}}</code>_*<code>{\mathopen {}\left (
    \pi _2^*<code>E</code>\Rightarrow _{<code>B</code>\times <code>B</code>} \otimes ^*<code>F</code>
  \right )\mathclose {}}</code>
</code>
 
   
   <section>
  <p>First of all, we note that the pullback functor <code>{<code>{<code>\mathbf {Cat}</code>}<code>_{/<code>B</code>}</code></code>}\xrightarrow {{\pi _1^*}}{<code>{<code>\mathbf {Cat}</code>}<code>_{/<code>B</code>\times <code>B</code>}</code></code>}</code> has a right adjoint <code>\pi _1^*\dashv  <code>{\mathopen {}\left (\pi _1\right )\mathclose {}}</code>_*</code>, as <code>{<code>B</code>\times <code>B</code>}\xrightarrow {{\pi _1}}{<code>B</code>}</code> is (as any cartesian fibration) a Conduché functor, i.e. an <a href="https://www.jonmsterling.com/jms-0031/">exponentiable arrow</a> in <code>\mathbf {Cat}</code>. We have already assumed that <code>E</code> is a Cartesian fibration, and thus so is its <a href="https://www.jonmsterling.com/frct-0007/">restriction</a> <code>\pi _1^*E</code>; it therefore follows that <code>\pi _1^*E</code> is <a href="https://www.jonmsterling.com/jms-0031/">exponentiable</a>. With that out of the way, we may compute the hom by adjoint calisthenics:</p>

  <code>
    \begin {aligned}
      &amp;<code>\mathbf {hom}<code>_{<code>{<code>\mathbf {Cat}</code>}<code>_{/<code>B</code>}</code></code>}</code><code>{\mathopen {}\left (X\otimes _B <code>E</code>,<code>F</code>\right )\mathclose {}}</code></code>
      \\
      &amp;\quad \equiv 
      <code>\mathbf {hom}<code>_{<code>{<code>\mathbf {Cat}</code>}<code>_{/<code>B</code>}</code></code>}</code><code>{\mathopen {}\left (
        \otimes _!<code>{\mathopen {}\left (
          \pi _1^*X\times _{B\times  B}\pi _2^*<code>E</code>
        \right )\mathclose {}}</code>
      ,<code>F</code>\right )\mathclose {}}</code></code>
      \\
      &amp;\quad \simeq 
      <code>\mathbf {hom}<code>_{
        <code>{<code>\mathbf {Cat}</code>}<code>_{/<code>B</code>\times <code>B</code>}</code></code>
      }</code><code>{\mathopen {}\left (\pi _1^*X\times _{B\times  B}\pi _2^*<code>E</code>,\otimes ^*<code>F</code>\right )\mathclose {}}</code></code>
      \\
      &amp;\quad \simeq 
      <code>\mathbf {hom}<code>_{<code>{<code>\mathbf {Cat}</code>}<code>_{/<code>B</code>\times <code>B</code>}</code></code>}</code><code>{\mathopen {}\left (
        \pi _1^*X
      ,\pi _2^*<code>E</code>\Rightarrow  \otimes ^*<code>F</code>\right )\mathclose {}}</code></code>
      \\
      &amp;\quad \simeq 
      <code>\mathbf {hom}<code>_{<code>{<code>\mathbf {Cat}</code>}<code>_{/<code>B</code>}</code></code>}</code><code>{\mathopen {}\left (X,
        <code>{\mathopen {}\left (\pi _1\right )\mathclose {}}</code>_*<code>{\mathopen {}\left (
          \pi _2^*<code>E</code>\Rightarrow  \otimes ^*<code>F</code>
        \right )\mathclose {}}</code>
      \right )\mathclose {}}</code></code>
    \end {aligned}
  </code>
</section>
 
        </section>
        <section>
          <header>
            <h2>The “Day unit” of fibered categories</h2>
          </header>
          <p>Let <code>{\mathopen {}\left (<code>B</code>,\otimes ,I,\alpha ,\lambda ,\rho \right )\mathclose {}}</code> be a monoidal category. We may define a “Day unit” for <a href="https://www.jonmsterling.com/frct-0002/">fibered categories</a> over <code>B</code> to be given by the discrete fibration <code><code>{<code>B</code>}<code>_{/I}</code></code>\to  <code>B</code></code>, which corresponds under the Grothendieck construction to the presheaf represented by <code>I</code>.</p>
        </section>
        <section>
          <header>
            <h2>The <a href="https://www.jonmsterling.com/jms-009C/">Day tensor</a> preserves cartesian fibrations</h2>
          </header>
          <p>If <code>E</code> and <code>F</code> are cartesian fibrations over a semimonoidal category <code>{\mathopen {}\left (<code>B</code>,\otimes ,\alpha \right )\mathclose {}}</code>, then the <a href="https://www.jonmsterling.com/jms-009C/">Day tensor</a> <code><code>E</code>\otimes _<code>B</code><code>F</code></code> is also a cartesian fibration.</p>
        </section>
        <p>I believe, but did not check carefully, that when <code>E</code> and <code>F</code> are <em>discrete</em> fibrations over a semimonoidal category <code>{\mathopen {}\left (<code>B</code>,\otimes ,\alpha \right )\mathclose {}}</code> then the <a href="https://www.jonmsterling.com/jms-009A/">Day tensor</a> is precisely the discrete fibration corresponding to the (contravariant) Day convolution of the presheaves corresponding to <code>E</code> and <code>F</code>. Likewise when <code>{\mathopen {}\left (<code>B</code>,\otimes ,I,\alpha ,\lambda ,\rho \right )\mathclose {}}</code> is monoidal, it appears that the <a href="https://www.jonmsterling.com/jms-009B/">Day unit</a> corresponds precisely to the traditional one.</p>
        <p>There remain some interesting directions to explore. First of all, the claims above would obviously lead to a new construction of the Day convolution monoidal structure on the 1-category of discrete fibrations on <code>B</code> that coincides with the traditional one up to the Grothendieck construction. <mark>But in general, we should expect to exhibit both <code>{<code>\mathbf {Cat}</code>}<code>_{/<code>B</code>}</code></code> and <code>\mathbf {Fib}_{<code>B</code>}</code> as <strong>monoidal bicategories</strong>, a result that I have not seen before.</mark></p>
        <section>
          <header>
            <h2>A monoidal bicategory of fibered categories</h2>
          </header>
          <p>Let <code>{\mathopen {}\left (<code>B</code>,\otimes ,I,\alpha ,\lambda ,\rho \right )\mathclose {}}</code> be a fibered category. Then the <a href="https://www.jonmsterling.com/jms-009B/">Day tensor</a> and <a href="https://www.jonmsterling.com/jms-009B/">unit</a> extend to a monoidal structure on the <em>bicategory</em> of fibered categories over <code>B</code>.</p>
        </section>
        <p><a href="https://www.jonmsterling.com/jms-009E/">Conjecture jms-009E/</a> is highly non-trivial, as monoidal bicategories are extremely difficult to construct explicitly. I am hoping that <a href="https://www.jonmsterling.com/mikeshulman/">Mike Shulman</a>’s ideas involving <a href="https://www.jonmsterling.com/shulman-2010/">monoidal double categories</a> could potentially help.</p>
      </div>
    </content>
  </entry>
  <entry>
    <title>On the relationship between QTT and STC</title>
    <published>2023-09-17T00:00:00Z</published>
    <updated>2023-09-17T00:00:00Z</updated>
    <author>
      <name>Jon Sterling</name>
      <uri>https://www.jonmsterling.com/jonmsterling/</uri>
    </author>
    <link rel="alternate" type="text/html" href="https://www.jonmsterling.com/jms-0094/" />
    <id>https://www.jonmsterling.com/jms-0094/</id>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">
<p>I have been thinking again about the relationship between <a href="https://www.jonmsterling.com/atkey-2018/">quantitative type theory</a> and <a href="https://www.jonmsterling.com/sterling-2021-thesis/">synthetic Tait computability</a> and other approaches to type refinements. One of the defining characteristics of <a href="https://www.jonmsterling.com/atkey-2018/">QTT</a> that I thought distinguished it from <a href="https://www.jonmsterling.com/sterling-2021-thesis/">STC</a> was the treatment of types: <strong>in <a href="https://www.jonmsterling.com/atkey-2018/">QTT</a>, types only depend on the “computational” / unrefined aspect of their context, whereas types in <a href="https://www.jonmsterling.com/sterling-2021-thesis/">STC</a> are allowed to depend on everything</strong>. In the past, I mistakenly believed that this was due to the <em>realizability-style interpretation</em> of <a href="https://www.jonmsterling.com/atkey-2018/">QTT</a>, in contrast with <a href="https://www.jonmsterling.com/sterling-2021-thesis/">STC</a>’s <em>gluing interpretation</em>. It is now clear to me that (1) <a href="https://www.jonmsterling.com/atkey-2018/">QTT</a> is actually glued (in the sense of <em>q-realizability</em>, no pun intended), and (2) <mark>the nonstandard interpretation of types in <a href="https://www.jonmsterling.com/atkey-2018/">QTT</a> corresponds to adding an <em>additional</em> axiom to <a href="https://www.jonmsterling.com/sterling-2021-thesis/">STC</a>, namely the tininess of the generic proposition.</mark></p><p>It has been suggested to me by <a href="https://www.jonmsterling.com/neelkrishnaswami/">Neel Krishnaswami</a> that this property of <a href="https://www.jonmsterling.com/atkey-2018/">QTT</a> may not be desirable in all cases (sometimes you want the types to depend on quantitative information), and that for this reason, <em>graded type theories</em> might be a better way forward in some applications. My results today show that <a href="https://www.jonmsterling.com/sterling-2021-thesis/">STC</a> is, in essence, what you get when you relax the <a href="https://www.jonmsterling.com/atkey-2018/">QTT</a>’s assumption that types do not depend on quantitative information. This suggests that we should explore the idea of multiplicities within the context of <a href="https://www.jonmsterling.com/sterling-2021-thesis/">STC</a> — as any monoidal product on the subuniverse spanned by closed-modal types induces quite directly a form of variable multiplicity in <a href="https://www.jonmsterling.com/sterling-2021-thesis/">STC</a>, I expect this direction to be fruitful.</p><p>My thoughts on the precise relationship between the <a href="https://www.jonmsterling.com/atkey-2018/">QTT</a> models and Artin gluing will be elucidated at a different time. Today, I will restrict myself to sketching an interpretation of a QTT-style language in STC assuming the generic proposition is internally tiny.</p><p>Let <code>\mathscr {Q}</code> be an elementary topos equipped with a subterminal object <code>\P \hookrightarrow <code>\mathbf {1}</code></code> inducing an open subtopos <code><code>\mathscr {E}</code>\simeq <code>{<code>\mathscr {Q}</code>}<code>_{/\P }</code></code>\hookrightarrow <code>\mathscr {Q}</code></code> and its complementary closed subtopos <code><code>\mathscr {F}</code>\hookrightarrow <code>\mathscr {Q}</code></code>. This structure is the basis of the interpretation of <a href="https://www.jonmsterling.com/sterling-2021-thesis/">STC</a>; if you think of <a href="https://www.jonmsterling.com/sterling-2021-thesis/">STC</a> in terms of refinements, then stuff from <code>\mathscr {E}</code> is “computational” and stuff from <code>\mathscr {F}</code> is “logical”.</p><p>We now consider the interpretation of a language of (potentially quantitative) refinements into <code>\mathscr {Q}</code>. A context <code>\Gamma </code> is interpreted by an object of <code><code>\mathscr {Q}</code></code>; a type <code>\Gamma \vdash  A</code> is interpreted by a family <code>A\to  \bigcirc {\Gamma }</code>; a term <code>\Gamma \vdash  a : A</code> is interpreted as a map <code>\Gamma \to  A</code> such that <code>\Gamma \to  A \to  \bigcirc \Gamma </code> is the unit of the monad.</p><p>So far we have not needed anything beyond the base structure of <a href="https://www.jonmsterling.com/sterling-2021-thesis/">STC</a> in order to give an interpretation of types in <a href="https://www.jonmsterling.com/atkey-2018/">QTT</a>’s style. But to extend this interpretation to a universe, we must additionally assume that <code>\P </code> is internally tiny, in the sense that the exponential functor <code><code>{\mathopen {}\left (-\right )\mathclose {}}</code>^\P </code> is a left adjoint. Under these circumstances, the idempotent monad <code>\bigcirc  \equiv  j_*j^* : <code>\mathscr {Q}</code>\to <code>\mathscr {Q}</code></code> corresponding to the open immersion <code>j : <code>\mathscr {E}</code>\hookrightarrow <code>\mathscr {Q}</code></code> has a right adjoint <code>\square  : <code>\mathscr {Q}</code>\to  <code>\mathscr {Q}</code></code>, an idempotent comonad.</p>
 
   
   <section>
  <p>As <code>\bigcirc  \equiv  j_*j^*</code> is the exponential functor <code><code>{\mathopen {}\left (-\right )\mathclose {}}</code>^\P </code>, its right adjoint <code>\square </code> is therefore the “root functor” <code><code>{\mathopen {}\left (-\right )\mathclose {}}</code>_\P </code> that exhibits <code>\P </code> as an internally tiny object.</p>
</section>
 
<p>Although <code>\square </code> lifts to each slice of <code>\mathscr {Q}</code>, these liftings do not commute with base change; this will, however, not be an obstacle for us.</p><p>We will now see how to use the adjunction <code>\bigcirc \dashv \square </code> to interpret a universe, either for the purpose of interpreting universes of refinement types, or for the purpose of strictifying the model that we have sketched. Let <code>\mathcal {V}</code> be a (standard) universe in <code>\mathscr {Q}</code>, e.g. a <a href="https://www.jonmsterling.com/hofmann-streicher-1997/">Hofmann–Streicher universe</a>; we shall then interpret the corresponding universe of refinements as <code><code>\mathcal {U}</code>:\equiv  \square <code>\mathcal {V}</code></code>. To see that <code><code>\mathcal {U}</code></code> classifies <code><code>\mathcal {V}</code></code>-small families of refinements, we compute as follows:</p><ol><li>A code <code>\Gamma \vdash \hat {A} : <code>\mathcal {U}</code></code> amounts to nothing more than a morphism <code>\hat {A}:\Gamma \to \square {<code>\mathcal {V}</code>}</code>.</li>
  <li>By adjoint transpose, this is the same as a morphism <code>\hat {A}^\sharp  : \bigcirc {\Gamma }\to <code>\mathcal {V}</code></code>.</li></ol><p>Thus we see that if <code>\mathcal {V}</code> is generic for <code><code>\mathcal {V}</code></code>-small families of (arbitrary) types in <code>\mathscr {Q}</code>, then <code><code>\mathcal {U}</code> \equiv  \square <code>\mathcal {V}</code></code> is generic for <code><code>\mathcal {V}</code></code>-small families of type refinements, i.e. types whose context is <code>\bigcirc </code>-modal.</p><p>Finally, we comment that the tininess of <code>\P </code> is satisfied in many standard examples, the simplest of which is the Sierpiński topos <code><code>\mathbf {Set}</code>^{\to }</code>.</p>      </div>
    </content>
  </entry>
  <entry>
    <title>Classifying topoi and generalised abstract syntax</title>
    <published>2023-09-05T00:00:00Z</published>
    <updated>2023-09-05T00:00:00Z</updated>
    <author>
      <name>Jon Sterling</name>
      <uri>https://www.jonmsterling.com/jonmsterling/</uri>
    </author>
    <link rel="alternate" type="text/html" href="https://www.jonmsterling.com/jms-008J/" />
    <id>https://www.jonmsterling.com/jms-008J/</id>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">
        <p>For any small category <code>\mathscr {C}</code>, <a href="https://www.jonmsterling.com/fiore-2007-ct/">Fiore</a> <a href="https://www.jonmsterling.com/fiore-2008/">treats</a> <code><code>\mathscr {C}</code></code>-sorted abstract syntax in the functor category <code><code>{\mathopen {}\left  [<code>\mathscr {C}</code>,<code>\operatorname {Pr}</code><code>{\mathopen {}\left (<code>\operatorname {\mathbb {L}}</code>{<code>\mathscr {C}</code>}\right )\mathclose {}}</code>\right  ]\mathclose {}}</code></code> where <code>\operatorname {\mathbb {L}}</code> is some 2-monad on <code>\mathbf {Cat}</code>; any such functor <code>P</code> denotes a set that is indexed in sorts and contexts (where the 2-monad <code>\operatorname {\mathbb {L}}</code> takes a category of sorts to the corresponding category of contexts). When <code>\mathscr {C}</code> is a set and <code>\operatorname {\mathbb {L}}</code> is either finite limit or finite product completion, we recover the standard notions of many-sorted abstract syntax; in general, we get a variety of forms of <em>dependently sorted</em> or <em>generalised</em> abstract syntax.</p>
        <p>We will assume here that <code>\operatorname {\mathbb {L}}</code> is the free finite limit completion 2-monad; our goal is to study <a href="https://www.jonmsterling.com/fiore-2008/">Fiore</a>’s general <em>substitution monoidal structure</em> from the point of view of classifying topoi, building on <a href="https://www.jonmsterling.com/peterjohnstone/">Johnstone</a>’s analogous observations (<a href="https://www.jonmsterling.com/johnstone-2002/">Elephant, D3.2</a>) on the non-symmetric monoidal structure of the <em>object classifier</em>. The topos theoretic viewpoint that we will explore is nothing more than a rephrasing of <a href="https://www.jonmsterling.com/fiore-2007-ct/">Fiore</a>’s account in terms of the Kleisli composition in a 2-monad; nonetheless the perspective of classifying topoi is enlightening, as it provides an explanation for <em>precisely</em> what internal geometrical structure one expects in a given topos for abstract syntax, potentially leading to improved internal languages.</p>
        <p>For any small category <code>\mathscr {C}</code>, the category of presheaves <code><code>\operatorname {Pr}</code><code>{\mathopen {}\left (<code>\operatorname {\mathbb {L}}</code><code>\mathscr {C}</code>\right )\mathclose {}}</code></code> corresponds to the <em>classifying topos</em> of diagrams of shape <code>\mathscr {C}</code>. Following <a href="https://www.jonmsterling.com/anel-joyal-2021/">Anel and Joyal</a>, we shall write <code>\mathbb {A}<code>^{<code>\mathscr {C}</code>}</code></code> for this “affine” classifying topos; under the conventions of <em>op. cit.</em>, we may then identify the category of sheaves <code><code>\operatorname {Sh}</code>{<code>\mathbb {A}<code>^{<code>\mathscr {C}</code>}</code></code>}</code> with the presheaf category <code><code>\operatorname {Pr}</code><code>{\mathopen {}\left (<code>\operatorname {\mathbb {L}}</code>{<code>\mathscr {C}</code>}\right )\mathclose {}}</code></code>.</p>
        <p>The universal property of <code>\mathbb {A}<code>^{<code>\mathscr {C}</code>}</code></code> as the classifying topos of <code><code>\mathscr {C}</code></code>-diagrams means that for any topos <code>\mathcal {X}</code>, a diagram <code>{<code>\mathscr {C}</code>}\xrightarrow {{P}}{<code>\operatorname {Sh}</code>{<code>\mathcal {X}</code>}}</code> corresponds essentially uniquely (by left Kan extension) to a morphism of topoi <code>{<code>\mathcal {X}</code>}\xrightarrow {{\bar {P}}}{<code>\mathbb {A}<code>^{<code>\mathscr {C}</code>}</code></code>}</code>. We have a <em>generic <code><code>\mathscr {C}</code></code>-shaped diagram</em> <code>{<code>\mathscr {C}</code>}\xrightarrow {{<code>\mathrm {G}_{<code>\mathscr {C}</code>}</code>}}{<code>\operatorname {Sh}</code>{<code>\mathbb {A}<code>^{<code>\mathscr {C}</code>}</code></code>}}</code> corresponding under this identification to the identity map on <code><code>\mathbb {A}<code>^{<code>\mathscr {C}</code>}</code></code></code>. More explicitly, the diagram <code>\mathrm {G}_{<code>\mathscr {C}</code>}</code> is the following composite:</p>
        <code>
  <code>\mathrm {G}_{<code>\mathscr {C}</code>}</code> :\equiv  <code>\mathscr {C}</code>\xrightarrow {\eta _<code>\mathscr {C}</code>} <code>\operatorname {\mathbb {L}}</code><code>\mathscr {C}</code>\xrightarrow {<code>よ_{<code>\mathscr {C}</code>}</code>} <code>\operatorname {Pr}</code><code>{\mathopen {}\left (<code>\operatorname {\mathbb {L}}</code><code>\mathscr {C}</code>\right )\mathclose {}}</code> = <code>\operatorname {Sh}</code>{<code>\mathbb {A}<code>^{<code>\mathscr {C}</code>}</code></code>}
</code>
        <p>Given a morphism of topoi <code>{<code>\mathcal {X}</code>}\xrightarrow {{f}}{<code>\mathbb {A}<code>^{<code>\mathscr {C}</code>}</code></code>}</code>, we may recover the diagram <code><code>\mathscr {C}</code>\to {<code>\operatorname {Sh}</code>{<code>\mathcal {X}</code>}}</code> that it classifies as the composite <code><code>\mathscr {C}</code>\xrightarrow {<code>\mathrm {G}_{<code>\mathscr {C}</code>}</code>}<code>\operatorname {Sh}</code>{<code>\mathbb {A}<code>^{<code>\mathscr {C}</code>}</code></code>}\xrightarrow {<code>f<code>^{*}</code></code>}<code>\operatorname {Sh}</code>{<code>\mathcal {X}</code>}</code>.</p>
        <p>In case <code><code>\mathcal {X}</code>\equiv <code>\mathbb {A}<code>^{<code>\mathscr {C}</code>}</code></code></code>, then, we have a correspondence between <code><code>\mathscr {C}</code></code>-shaped diagrams of sheaves on <code>\mathbb {A}<code>^{<code>\mathscr {C}</code>}</code></code> and endomorphisms of <code>\mathbb {A}<code>^{<code>\mathscr {C}</code>}</code></code>; <mark>we are interested in representing the compositions of such endomorphisms as a <em>tensor product</em> on the functor category <code>{\mathopen {}\left  [<code>\mathscr {C}</code>,<code>\operatorname {Sh}</code>{<code>\mathbb {A}<code>^{<code>\mathscr {C}</code>}</code></code>}\right  ]\mathclose {}}</code></mark>.</p>
        <p>In particular, let <code>{<code>\mathscr {C}</code>}\xrightarrow {{P,Q}}{<code>\operatorname {Sh}</code>{<code>\mathbb {A}<code>^{<code>\mathscr {C}</code>}</code></code>}}</code> be two diagrams; taking characteristic maps, we have endomorphisms of affine topoi <code>{<code>\mathbb {A}<code>^{<code>\mathscr {C}</code>}</code></code>}\xrightarrow {{\bar {P},\bar {Q}}}{<code>\mathbb {A}<code>^{<code>\mathscr {C}</code>}</code></code>}</code>, which we may compose to obtain <code>{<code>\mathbb {A}<code>^{<code>\mathscr {C}</code>}</code></code>}\xrightarrow {{\bar {Q}\circ \bar {P}}}{<code>\mathbb {A}<code>^{<code>\mathscr {C}</code>}</code></code>}</code>; then, we will define the tensor <code>P\bullet  Q</code> to be the diagram whose characteristic morphism of affine topoi is <code>\bar {P}\circ \bar {Q}</code>. In other words:</p>
        <code>
  \begin {aligned}
    P\bullet  Q
    &amp;:\equiv 
    <code>\mathscr {C}</code>\xrightarrow {<code>\mathrm {G}_{<code>\mathscr {C}</code>}</code>}
    <code>\operatorname {Sh}</code>{<code>\mathbb {A}<code>^{<code>\mathscr {C}</code>}</code></code>}
    \xrightarrow {<code><code>{\mathopen {}\left (\bar {P}\circ \bar {Q}\right )\mathclose {}}</code><code>^{*}</code></code>}
    <code>\operatorname {Sh}</code>{<code>\mathbb {A}<code>^{<code>\mathscr {C}</code>}</code></code>}
    \\
    &amp;=
    <code>\mathscr {C}</code>\xrightarrow {<code>\mathrm {G}_{<code>\mathscr {C}</code>}</code>}
    <code>\operatorname {Sh}</code>{<code>\mathbb {A}<code>^{<code>\mathscr {C}</code>}</code></code>}
    \xrightarrow {<code>\bar {P}<code>^{*}</code></code>}
    <code>\operatorname {Sh}</code>{<code>\mathbb {A}<code>^{<code>\mathscr {C}</code>}</code></code>}
    \xrightarrow {<code>\bar {Q}<code>^{*}</code></code>}
    <code>\operatorname {Sh}</code>{<code>\mathbb {A}<code>^{<code>\mathscr {C}</code>}</code></code>}
  \end {aligned}
</code>
        <p>To give an explicit computation of the tensor product, we first compute the inverse image of any <code>{<code>\mathbb {A}<code>^{<code>\mathscr {C}</code>}</code></code>}\xrightarrow {{f}}{<code>\mathbb {A}<code>^{<code>\mathscr {C}</code>}</code></code>}</code> on representables <code><code>よ_{<code>\mathscr {C}</code>}</code>\Gamma </code> for <code>\Gamma \in <code>\operatorname {\mathbb {L}}</code><code>\mathscr {C}</code></code>. As any left exact functor <code>{<code>\operatorname {\mathbb {L}}</code><code>\mathscr {C}</code>}\xrightarrow {{H}}{<code>\mathscr {E}</code>}</code> is the right Kan extension of <code>{<code>\mathscr {C}</code>}\xrightarrow {{H\circ \eta _<code>\mathscr {C}</code>}}{<code>\mathscr {E}</code>}</code> along <code>{C}\xrightarrow {{\eta _<code>\mathscr {C}</code>}}{<code>\operatorname {\mathbb {L}}</code><code>\mathscr {C}</code>}</code>, we can conclude that <code>H\Gamma  \cong  \operatorname {lim}_{\Gamma \to \eta _<code>\mathscr {C}</code>{d}}H<code>{\mathopen {}\left (\eta _<code>\mathscr {C}</code>{d}\right )\mathclose {}}</code></code>. We will use this in our calculation below, setting <code>H:\equiv  <code>f<code>^{*}</code></code>\circ <code>よ_{<code>\mathscr {C}</code>}</code></code>.</p>
        <code>
  \begin {aligned}
    <code>f<code>^{*}</code></code>{<code>よ_{<code>\mathscr {C}</code>}</code>\Gamma }
    &amp;\cong 
    \operatorname {lim}_{\Gamma \to \eta _<code>\mathscr {C}</code>{d}}
    <code>f<code>^{*}</code></code>{
      <code>よ_{<code>\mathscr {C}</code>}</code>{\eta _<code>\mathscr {C}</code>{d}}
    }
    \\
    &amp;\cong 
    \operatorname {lim}_{\Gamma \to \eta _<code>\mathscr {C}</code>{d}}
    <code>f<code>^{*}</code></code>{<code>\mathrm {G}_{<code>\mathscr {C}</code>}</code>{d}}
  \end {aligned}
</code>
        <p>We are now prepared to compute the tensor product of any <code>{<code>\mathscr {C}</code>}\xrightarrow {{P,Q}}{<code>\operatorname {Sh}</code>{<code>\mathbb {A}<code>^{<code>\mathscr {C}</code>}</code></code>}}</code>.</p>
        <code>
  \begin {aligned}
    <code>{\mathopen {}\left (P\bullet  Q\right )\mathclose {}}</code>c
    &amp;=
    <code>\bar {Q}<code>^{*}</code></code>
    <code>\bar {P}<code>^{*}</code></code>
    <code>\mathrm {G}_{<code>\mathscr {C}</code>}</code>{c}
    \\
    &amp;\cong 
    <code>\bar {Q}<code>^{*}</code></code>
    <code>{\mathopen {}\left (Pc\right )\mathclose {}}</code>
    \\
    &amp;\cong 
    <code>\bar {Q}<code>^{*}</code></code>
    \operatorname {colim}_{<code>よ_{<code>\mathscr {C}</code>}</code>\Delta \to  Pc}
    <code>よ_{<code>\mathscr {C}</code>}</code>\Delta 
    \\
    &amp;\cong 
    \operatorname {colim}_{<code>よ_{<code>\mathscr {C}</code>}</code>\Delta \to  Pc}
    <code>\bar {Q}<code>^{*}</code></code><code>よ_{<code>\mathscr {C}</code>}</code>\Delta 
    \\
    &amp;\cong 
    \operatorname {colim}_{<code>よ_{<code>\mathscr {C}</code>}</code>\Delta \to  Pc}
    \operatorname {lim}_{\Delta \to  \eta _<code>\mathscr {C}</code>{d}}
    <code>\bar {Q}<code>^{*}</code></code><code>\mathrm {G}_{<code>\mathscr {C}</code>}</code>d
    \\
    &amp;\cong 
    \operatorname {colim}_{<code>よ_{<code>\mathscr {C}</code>}</code>\Delta \to  Pc}
    \operatorname {lim}_{\Delta \to  \eta _<code>\mathscr {C}</code>{d}}
    Qd
  \end {aligned}
</code>
        <p>Finally, we can relate the computation above to that of <a href="https://www.jonmsterling.com/fiore-2008/">Fiore</a> in terms of coends.</p>
        <code>
  \begin {aligned}
    <code>{\mathopen {}\left (P\bullet  Q\right )\mathclose {}}</code>\,c
    &amp;\cong 
    \operatorname {colim}_{<code>よ_{<code>\mathscr {C}</code>}</code>\Delta \to  Pc}
    \operatorname {lim}_{\Delta \to  \eta _<code>\mathscr {C}</code>{d}}
    Qd
    \\
    &amp;\cong 
    \int ^{\Delta \in <code>\operatorname {\mathbb {L}}</code><code>\mathscr {C}</code>}
    <code>{\mathopen {}\left  [<code>よ_{<code>\mathscr {C}</code>}</code>\Delta ,Pc\right  ]\mathclose {}}</code>
    \cdot 
    \operatorname {lim}_{\Delta \to \eta _<code>\mathscr {C}</code>{d}} Qd
    \\
    &amp;\cong 
    \int ^{\Delta \in <code>\operatorname {\mathbb {L}}</code><code>\mathscr {C}</code>}
    P\,c\,\Delta 
    \cdot 
    \operatorname {lim}_{\Delta \to \eta _<code>\mathscr {C}</code>{d}} Qd
    \\
    &amp;\cong 
    \int ^{\Delta \in <code>\operatorname {\mathbb {L}}</code><code>\mathscr {C}</code>}
    P\,c\,\Delta 
    \cdot 
    \int _{c\in <code>\mathscr {C}</code>}
    <code>{\mathopen {}\left  [\Delta ,\eta _<code>\mathscr {C}</code>{d}\right  ]\mathclose {}}</code>\pitchfork  Qd
  \end {aligned}
</code>
        <p>Above, we have written <code><code>{\mathopen {}\left (\cdot \right )\mathclose {}}</code></code> and <code><code>{\mathopen {}\left (\pitchfork \right )\mathclose {}}</code></code> for the tensoring and cotensoring of <code><code>\operatorname {Sh}</code>{<code>\mathbb {A}<code>^{<code>\mathscr {C}</code>}</code></code>}</code> over <code>\mathbf {Set}</code> respectively. Thus, the fully pointwise computation is as follows:</p>
        <code>
  <code>{\mathopen {}\left (P\bullet  Q\right )\mathclose {}}</code>\,c\,\Gamma  \cong 
    \int ^{\Delta \in <code>\operatorname {\mathbb {L}}</code><code>\mathscr {C}</code>}
    P\,c\,\Delta 
    \times 
    \int _{c\in <code>\mathscr {C}</code>}
    <code>{\mathopen {}\left  [\Delta ,\eta _<code>\mathscr {C}</code>{d}\right  ]\mathclose {}}</code>\Rightarrow  Q\,d\,\Gamma 
</code>
        <p>
          <em>Thanks to <a href="https://www.jonmsterling.com/marcelofiore/">Marcelo Fiore</a> and <a href="https://www.jonmsterling.com/danielgratzer/">Daniel Gratzer</a> for helpful discussions.</em>
        </p>
      </div>
    </content>
  </entry>
  <entry>
    <title>Scientific refereeing using Bike Outliner</title>
    <published>2023-08-31T00:00:00Z</published>
    <updated>2023-08-31T00:00:00Z</updated>
    <author>
      <name>Jon Sterling</name>
      <uri>https://www.jonmsterling.com/jonmsterling/</uri>
    </author>
    <link rel="alternate" type="text/html" href="https://www.jonmsterling.com/jms-0084/" />
    <id>https://www.jonmsterling.com/jms-0084/</id>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">
<p>I have long been an enthusiast for <a href="http://outliners.com/default.html">outliners</a>, a genre of computer software that deserves more than almost any other to be called an <em>“elegant weapon for a more civilized age”</em>. Recently I have been enjoying experimenting with <a href="https://www.jonmsterling.com/jessegrosjean/">Jesse Grosjean</a>’s highly <a href="https://www.jonmsterling.com/jms-008B/">innovative</a> outliner for macOS called <a href="https://www.jonmsterling.com/jms-0085/">Bike</a>, which builds on a lot of his previous (highly impressive) work in the area with a level of fit and finish that is rare even in the world of macOS software. <strong><a href="https://www.hogbaysoftware.com/bike/">Bike costs $29.99</a> and is well-worth it; watch the <a href="https://www.hogbaysoftware.com/bike/">introductory video</a> or try the demo to see for yourself.</strong></p><p>The purpose of outliners is to provide room to actively think; <a href="https://www.jonmsterling.com/alexandergrothendieck/">Grothendieck</a> is said to have been unable to think at all without a pen in his hand, and I think of outliners as one way to elevate the tactile aspect of active thinking using the unique capabilities of software. Tools for thinking must combat stress and mental weight, and the most immediate way that outliners achieve this is through the ability to <em>focus</em> on a subtree — narrowing into a portion of the hierarchy and treating it as if it were the entire document, putting its context aside. This feature, which some of my readers may recognize from Emacs <code>org-mode</code>, is well-represented in <a href="https://www.jonmsterling.com/jms-0085/">Bike</a> — without, of course, suffering the noticeable quirks that come from the Emacs environment, nor the <a href="https://www.forester-notes.org/tfmt-000B/">ill-advised <em>absolute/top-down</em> model of hierarchy</a> sadly adopted by <code>org-mode</code>.</p><p>As a scientist in academia, one of the most frequent things I am doing when I am not writing my own papers or working with students is <strong>refereeing other scientists’ papers</strong>. For those who are unfamiliar, this means carefully studying a paper and then producing a detailed and well-structured report that includes a summary of the paper, my personal assessment of its scientific validity and value, and a long list of corrections, questions, comments, and suggestions. Referee reports of this kind are then used by journal editors and conference program committees to decide which papers deserve to be published.</p><p><mark>In this post, I will give an overview of my refereeing workflow with <a href="https://www.jonmsterling.com/jms-0085/">Bike</a></mark> and how I overcame the challenges transferring finished referee reports from <a href="https://www.jonmsterling.com/jms-0085/">Bike</a> into the text-based formats used by conference refereeing platforms like <a href="https://hotcrp.com/">HotCRP</a> and <a href="https://hotcrp.com/">EasyChair</a> using a combination of XSLT 2.0 and <a href="https://www.jonmsterling.com/jms-008D/">Pandoc</a>. This tutorial applies to <a href="https://www.jonmsterling.com/jms-0085/">Bike</a> 1.14; I hope the format will not change too much, but I cannot make promises about what I do not control.</p><section><header><h2>Refereeing in an outliner</h2></header><p>Most scientific conferences solicit and organize reviews for papers using a web platform such as <a href="https://hotcrp.com/">HotCRP</a> and <a href="https://hotcrp.com/">EasyChair</a>; although these are not the same, the idea is similar. Once you have been assigned to referee a paper, you will receive a web form with several sections and large text areas in which to put the components of your review; not all conferences ask for the same components, but usually one is expected to include the following in addition to your (numerical) assessment of the paper’s merit and your expertise:</p><ol><li>A summmary of the paper</li>
  <li>Your assessment of the paper</li>
  <li>Detailed comments for the authors</li>
  <li>Questions to be addressed by author response</li>
  <li>Comments for the PC (program committee) and other reviewers</li></ol><p>Usually you will be asked to enter your comments under each section in a plain text format like Markdown. <strong>The first thing a new referee learns is not to type answers directly into the web interface</strong>, because this is an extremely reliable way to lose hours of your time when a browser or server glitch deletes all your work. Most of us instead write out our answers in a separate text editor, and paste them into the web interface when we are satisfied with them. In the past, I have done this with text files on my computer, but <mark>today I want to discuss how to draft referee reports as outlines in <a href="https://www.jonmsterling.com/jms-0085/">Bike</a></mark>; then I will show you how to convert them to the correct plain text format that can be pasted into your conference’s preferred web-based refereeing platform.</p><p>To start off, have a look at the <a href="https://www.jonmsterling.com/jms-0086/">figure</a> below, which shows my refereeing template outline in <a href="https://www.jonmsterling.com/jms-0085/">Bike</a>.</p><section><header><h3>A <a href="https://www.jonmsterling.com/jms-0085/">Bike</a> outline for conference refereeing</h3></header><figure><img src="https://www.jonmsterling.com/bafkrmigmquqcipfrbxjs6e66eywjrnkbo7mntai2iyhjbu67a3qo5i6fsy.png" />
  <figcaption>This <a href="https://www.jonmsterling.com/jms-0085/">Bike</a> outline contains the skeleton of a referee report for a major computer science conference. <a href="https://www.jonmsterling.com/jms-0085/">Bike</a>’s <em>row types</em> are used extensively: for example, sections are formatted as <em>heading</em>s, and prompts are formatted as <em>note</em>s</figcaption></figure></section><p>As you can see, there is a healthy combination of hierarchy and formatting in a <a href="https://www.jonmsterling.com/jms-0085/">Bike</a> outline.</p><section><header><h3>Rich text editing in <a href="https://www.jonmsterling.com/jms-0085/">Bike</a></h3></header><p><a href="https://www.jonmsterling.com/jms-0085/">Bike</a> is a rich text editor, but one that (much like <a href="https://www.jonmsterling.com/van-der-hoeven-2020/">GNU TeXmacs</a>) avoids the classic pitfalls of nearly all rich text editors, such as the ubiquitous and dreaded <em>“Is the space italic?!”</em> user-experience failure; I will not outline <a href="https://www.jonmsterling.com/jms-0085/">Bike</a> <a href="https://www.hogbaysoftware.com/posts/bike-rich-text/">innovative approach to rich text editing</a> here, but I suggest you check it out for yourself.</p></section><section><header><h3>Row types in <a href="https://www.jonmsterling.com/jms-0085/">Bike</a></h3></header><p>One of the most useful features of <a href="https://www.jonmsterling.com/jms-0085/">Bike</a>’s approach to formatting is the concept of a <strong>row type</strong>, which is a semantic property of a row that has consequences for its visual presentation. <a href="https://www.jonmsterling.com/jms-0085/">Bike</a> currently supports the following row types:</p><ul><li><strong>Plain rows</strong></li>
  <li><strong>Heading rows</strong>, formatted in boldface</li>
  <li><strong>Note rows</strong>, formatted in gray italics</li>
  <li><strong>Quote rows</strong>, formatted with a vertical bar to their left</li>
  <li><strong>Ordered rows</strong>, formatted with an (automatically chosen) numeral to their left</li>
  <li><strong>Unordered rows</strong>, formatted with a bullet to their left</li>
  <li><strong>Task rows</strong>, formatted with a checkbox to their left</li></ul></section><p>My <a href="https://www.jonmsterling.com/jms-0086/">refereeing template</a> uses several of these <a href="https://www.jonmsterling.com/jms-008A/">row types</a> (headings, notes, tasks) as well as some of the <a href="https://www.jonmsterling.com/jms-008B/">rich text formatting</a> (highlighting). When I fill out the refereeing outline, I will use other <a href="https://www.jonmsterling.com/jms-008A/">row types</a> as well — including quotes, ordered, and unordered rows. I will create a subheading under <em>Detailed comments for the author</em> to contain my questions and comments, which I enter in as ordered rows; then I make a separate subheading at the same level for <em>Typographical errors</em>, which I populate with unordered rows. Unordered rows are best for typos, because they are always accompanied already by line numbers. If I need to quote an extended portion of the paper, I will use a <em>quote row</em>.</p><p>When working on the report outline, I will constantly be <em>focusing</em> on individual sections to avoid not only distractions but also the intense mental weight of unfinished sections. Focusing means that the entire outline is narrowed to a subtree that can be edited away from its context; this is achieved in <a href="https://www.jonmsterling.com/jms-0085/">Bike</a> by pressing the gray south-easterly arrows to the right of each heading, as seen in <a href="https://www.jonmsterling.com/jms-0086/">the figure</a>.</p></section><section><header><h2>From an outline to a plain text referee report</h2></header><p>Although we have seen how pleasant it is to use an outliner like <a href="https://www.jonmsterling.com/jms-0085/">Bike</a> to draft a referee report, but we obviously cannot submit a <code>.bike</code> file to a conference reviewing website or a journal editor. Most conference reviewing systems accept plain text or Markdown responses, and so our goal will be to convert a <a href="https://www.jonmsterling.com/jms-0085/">Bike</a> outline into reasonably formatted Markdown.</p><p>It happens that <a href="https://www.jonmsterling.com/jms-0085/">Bike</a>’s underlying format is HTML, so one idea would be to use <a href="https://www.jonmsterling.com/jms-008D/">Pandoc</a> to process this HTML into Markdown. This would work, except that <a href="https://www.jonmsterling.com/jms-0085/">Bike</a>’s model is sufficiently structured that it must make deeply idiosyncratic use of HTML tags, as can be seen from the <a href="https://www.jonmsterling.com/jms-008G/">listing</a> below.</p><section><header><h3>The source code to a typical <a href="https://www.jonmsterling.com/jms-0085/">Bike</a> outline</h3></header><pre><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8"/>
  </head>
  <body>
    <ul id="2sbcmmms">
      <li id="3C" data-type="heading">
        <p>Tasks</p>
        <ul>
          <li id="cs" data-type="task">
            <p>read through paper on iPad and highlight</p>
          </li>
        </ul>
      </li>
      <li id="XZ" data-type="heading">
        <p>Syntax and semantics of foo bar baz</p>
        <ul>
          <li id="Kp">
            <p><mark>Overall merit:</mark><span> </span></p>
          </li>
          <li id="d9">
            <p><mark>Reviewer Expertise:</mark></p>
          </li>
          <li id="uM" data-type="heading">
            <p>Summary of the paper</p>
            <ul>
              <li id="oB" data-type="note">
                <p>Please give a brief summary of the paper</p>
              </li>
              <li id="TWZ">
                <p>This paper describes the syntax and semantics of foo, bar, and baz.</p>
              </li>
            </ul>
          </li>
          <li id="V8" data-type="heading">
            <p>Assessment of the paper</p>
            <ul>
              <li id="vD" data-type="note">
                <p>Please give a balanced assessment of the paper's strengths and weaknesses and a clear justification for your review score.</p>
              </li>
            </ul>
          </li>
          <li id="zo" data-type="heading">
            <p>Detailed comments for authors</p>
            <ul>
              <li id="o0" data-type="note">
                <p>Please give here any additional detailed comments or questions that you would like the authors to address in revising the paper.</p>
              </li>
              <li id="bgy" data-type="heading">
                <p>Minor comments</p>
                <ul>
                  <li id="tMq" data-type="unordered">
                    <p>line 23: "teh" =&gt; "the"</p>
                  </li>
                  <li id="EmX" data-type="unordered">
                    <p>line 99: "fou" =&gt; "foo"</p>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
          <li id="aN" data-type="heading">
            <p>Questions to be addressed by author response</p>
            <ul>
              <li id="7s" data-type="note">
                <p>Please list here any specific questions you would like the authors to address in their author response. Since authors have limited time in which to prepare their response, please only ask questions here that are likely to affect your accept/reject decision.</p>
              </li>
            </ul>
          </li>
          <li id="4S" data-type="heading">
            <p>Comments for PC and other reviewers</p>
            <ul>
              <li id="bN" data-type="note">
                <p>Please list here any additional comments you have which you want the PC and other reviewers to see, but not the authors.</p>
              </li>
              <li id="i2b">
                <p>In case any one is wondering, I am an expert in foo, but not in bar nor baz.</p>
              </li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </body>
</html>]]></pre></section><p>The Markdown that would result from postprocessing a <a href="https://www.jonmsterling.com/jms-0085/">Bike</a> outline directly with <a href="https://www.jonmsterling.com/jms-008D/">Pandoc</a> would be deeply unsuitable for submission. We will, however, use a version of this idea: first we will preprocess the <a href="https://www.jonmsterling.com/jms-0085/">Bike</a> format into more conventional (unstructured) HTML using XSLT 2.0, and then we will use <a href="https://www.jonmsterling.com/jms-008D/">Pandoc</a> to convert this into Markdown.</p><section><header><h3>System requirements to convert <a href="https://www.jonmsterling.com/jms-0085/">Bike</a> outlines to Markdown</h3></header><p>XSLT 2.0 is unfortunately only implemented by proprietary tools like <a href="https://saxonica.com/welcome/welcome.xml">Saxon</a>, developed by Saxonica. Nonetheless, it is possible to freely install Saxon on macOS using Homebrew:</p><pre>brew install saxon</pre><p>You must also install <a href="https://www.jonmsterling.com/jms-008D/">Pandoc</a>, which is also conveniently available as a binary on Homebrew:</p><pre>brew install pandoc</pre></section><p>With the <a href="https://www.jonmsterling.com/jms-008E/">system requirements</a> out of the way, we can proceed to prepare an XSLT stylesheet that will convert <a href="https://www.jonmsterling.com/jms-0085/">Bike</a>’s idiosyncratic use of HTML tags to more conventional HTML that can be processed into Markdown by <a href="https://www.jonmsterling.com/jms-008D/">Pandoc</a>. The stylesheet <code>bike-to-html.xsl</code> is described and explained in the <a href="https://www.jonmsterling.com/jms-0087/">listing</a> below.</p>
  
  <section><header><h3>An XSLT 2.0 transformer to convert <a href="https://www.jonmsterling.com/jms-0085/">Bike</a> outlines to HTML</h3></header><p>We can write convert <a href="https://www.jonmsterling.com/jms-0085/">Bike</a> outlines to reasonable HTML using an XSLT 2.0 stylesheet, <code>bike-to-html.xsl</code> detailed below.</p><pre><![CDATA[<?xml version="1.0"?>

<xsl:stylesheet version="2.0"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
  xmlns:html="http://www.w3.org/1999/xhtml"
  exclude-result-prefixes="xhtml">

  <xsl:output method="xml" version="1.0" encoding="UTF-8" indent="yes" />
  <xsl:strip-space elements="*" />]]></pre><p>We will allow several tags to be copied verbatim into the output, as <a href="https://www.jonmsterling.com/jms-0085/">Bike</a> uses these in the same way that idiomatic HTML does.</p><pre><![CDATA[  <xsl:template match="html:html | html:body | html:code | html:strong | html:em | html:mark">
    <xsl:copy>
      <xsl:apply-templates select="node()|@*" />
    </xsl:copy>
  </xsl:template>]]></pre><p><a href="https://www.jonmsterling.com/jms-0085/">Bike</a> leaves behind a lot of empty <code>span</code> elements; we drop these.</p><pre><![CDATA[  <xsl:template match="html:span">
    <xsl:apply-templates />
  </xsl:template>]]></pre><p><a href="https://www.jonmsterling.com/jms-0085/">Bike</a> uses <code>ul</code> for all lists; the list type is determined not at this level, but rather by each individual item’s <code>@data-type</code> attribute. To get this data into the HTML list model, we must group items that have the same <code>@data-type</code> and wrap them in an appropriate list-forming element.</p><p>To do this, we use XSLT 2.0’s <code>xsl:for-each-group</code> instruction to group adjacent <code>li</code> elements by their <code>@data-type</code> attribute.  (It is extremely difficult and error-prone to write equivalent code in the more widely available XSLT 1.0.) We must convert <code>@data-type</code> to a string: otherwise, the transformer will crash when it encounters an item without a <code>@data-type</code> attribute.</p><pre><![CDATA[  <xsl:template match="html:ul">
    <xsl:for-each-group select="html:li" group-adjacent="string(@data-type)">
      <xsl:choose>
        <xsl:when test="@data-type='ordered' or @data-type='task'">
          <ol>
            <xsl:apply-templates select="current-group()" />
          </ol>
        </xsl:when>
        <xsl:when test="@data-type='unordered'">
          <ul>
            <xsl:apply-templates select="current-group()" />
          </ul>
        </xsl:when>
        <xsl:otherwise>
          <xsl:apply-templates select="current-group()" />
        </xsl:otherwise>
      </xsl:choose>
    </xsl:for-each-group>
  </xsl:template>]]></pre><p>Next, we match each individual <code>li</code> element; the content of a list item is stored in a <code>p</code> element directly under <code>li</code>, so we let the transformer fall thorugh the parent and then format the content underneath according to the <code>@data-type</code> of the item.</p><pre><![CDATA[  <xsl:template match="html:li">
    <xsl:apply-templates />
  </xsl:template>

  <xsl:template
    match="html:li[@data-type='ordered' or @data-type='unordered' or @data-type='task']/html:p">
    <li>
      <xsl:apply-templates />
    </li>
  </xsl:template>]]></pre><p><a href="https://www.jonmsterling.com/jms-0085/">Bike</a> has correctly adopted the optimal <a href="https://www.forester-notes.org/tfmt-000D/">explicit</a> and <a href="https://www.forester-notes.org/tfmt-000B/">relative</a> model of hierarchy, in contrast to HTML; this means that the depth of a heading is not reflected in the element that introduces it, but is instead inferred from its actual position in the outline hierarchy. To convert <a href="https://www.jonmsterling.com/jms-0085/">Bike</a> outlines to idiomatic HTML, we must flatten the hierarchy and introduce explicit heading levels; luckily, this is easy to accomplish in XSLT by counting the ancestors of <code>heading</code> type.</p><pre><![CDATA[  <xsl:template match="html:li[@data-type='heading']/html:p">
    <xsl:element
      name="h{count(ancestor::html:li[@data-type='heading'])}">
      <xsl:apply-templates />
    </xsl:element>
  </xsl:template>]]></pre><p>The remainder of the row types are not difficult to render; you may prefer alternative formatting depending on your goals.</p><pre><![CDATA[  <xsl:template match="html:li[@data-type='quote']/html:p">
    <blockquote>
      <xsl:apply-templates />
    </blockquote>
  </xsl:template>

  <xsl:template match="html:li[@data-type='note']/html:p">
    <p>
      <em>
        <xsl:apply-templates />
      </em>
    </p>
  </xsl:template>

  <xsl:template match="html:li[not(@data-type)]/html:p">
    <p>
      <xsl:apply-templates />
    </p>
  </xsl:template>
</xsl:stylesheet>]]></pre></section>
<p>Next, we can use Saxon to convert a <a href="https://www.jonmsterling.com/jms-0087/">Bike</a> outline to idiomatic HTML using the <a href="https://www.jonmsterling.com/jms-0087/">stylesheet above</a>.</p><pre>cat review.bike | saxon -xsl:bike-to-html.xsl - &gt; review.html</pre><p>Go ahead and open the resulting HTML file in a text editor and a browser to see the results.</p><section><header><h3>A <a href="https://www.jonmsterling.com/jms-0085/">Bike</a> <a href="https://www.jonmsterling.com/jms-008G/">outline</a> transformed to idiomatic HTML</h3></header><p>The following is the result of transforming an <a href="https://www.jonmsterling.com/jms-008G/">example <a href="https://www.jonmsterling.com/jms-0085/">Bike</a> outline</a> to idiomatic HTML using an <a href="https://www.jonmsterling.com/jms-0087/">XSLT stylesheet</a>.</p><pre><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml">
   <body>
      <h1>Tasks</h1>
      <ol>
         <li>read through paper on iPad and highlight</li>
      </ol>
      <h1>Syntax and semantics of foo bar baz</h1>
      <p>
         <mark>Overall merit:</mark>
      </p>
      <p>
         <mark>Reviewer Expertise:</mark>
      </p>
      <h2>Summary of the paper</h2>
      <p>
         <em>Please give a brief summary of the paper</em>
      </p>
      <p>This paper describes the syntax and semantics of foo, bar, and baz.</p>
      <h2>Assessment of the paper</h2>
      <p>
         <em>Please give a balanced assessment of the paper's strengths and weaknesses and a clear justification for your review score.</em>
      </p>
      <h2>Detailed comments for authors</h2>
      <p>
         <em>Please give here any additional detailed comments or questions that you would like the authors to address in revising the paper.</em>
      </p>
      <h3>Minor comments</h3>
      <ul>
         <li>line 23: "teh" =&gt; "the"</li>
         <li>line 99: "fou" =&gt; "foo"</li>
      </ul>
      <h2>Questions to be addressed by author response</h2>
      <p>
         <em>Please list here any specific questions you would like the authors to address in their author response. Since authors have limited time in which to prepare their response, please only ask questions here that are likely to affect your accept/reject decision.</em>
      </p>
      <h2>Comments for PC and other reviewers</h2>
      <p>
         <em>Please list here any additional comments you have which you want the PC and other reviewers to see, but not the authors.</em>
      </p>
      <p>In case any one is wondering, I am an expert in foo, but not in bar nor baz.</p>
   </body>
</html>]]></pre></section><p>Next, we will process this HTML file using <a href="https://www.jonmsterling.com/jms-008D/">Pandoc</a>; unfortunately, <a href="https://www.jonmsterling.com/jms-008D/">Pandoc</a> leaves behind a lot of garbage character escapes that are <em>not</em> suitable for submission anywhere, so we must filter those out using <code>sed</code>.</p><pre><![CDATA[cat review.html | pandoc -f html -t markdown-raw_html-native_divs-native_spans-fenced_divs-bracketed_spans-smart | sed 's/\\//g']]></pre><section><header><h3>A <a href="https://www.jonmsterling.com/jms-0085/">Bike</a> <a href="https://www.jonmsterling.com/jms-008G/">outline</a> transformed to Markdown</h3></header><p>The following is the result of converting the <a href="https://www.jonmsterling.com/jms-008F/">idiomatic HTML representation</a> of a <a href="https://www.jonmsterling.com/jms-0085/">Bike</a> <a href="https://www.jonmsterling.com/jms-008G/">outline</a> to Markdown using <a href="https://www.jonmsterling.com/jms-008D/">Pandoc</a>, with some light postprocessing by <code>sed</code>.</p><pre><![CDATA[# Tasks

1.  read through paper on iPad and highlight

# Syntax and semantics of foo bar baz

Overall merit:

Reviewer Expertise:

## Summary of the paper

*Please give a brief summary of the paper*

This paper describes the syntax and semantics of foo, bar, and baz.

## Assessment of the paper

*Please give a balanced assessment of the paper's strengths and
weaknesses and a clear justification for your review score.*

## Detailed comments for authors

*Please give here any additional detailed comments or questions that you
would like the authors to address in revising the paper.*

### Minor comments

-   line 23: "teh" => "the"
-   line 99: "fou" => "foo"

## Questions to be addressed by author response

*Please list here any specific questions you would like the authors to
address in their author response. Since authors have limited time in
which to prepare their response, please only ask questions here that are
likely to affect your accept/reject decision.*

## Comments for PC and other reviewers

*Please list here any additional comments you have which you want the PC
and other reviewers to see, but not the authors.*

In case any one is wondering, I am an expert in foo, but not in bar nor
baz.]]></pre></section><p>We can compose all these tasks into a one-liner as follows:</p><pre><![CDATA[cat review.bike | saxon -xsl:bike-to-html.xsl - | pandoc -f html -t markdown-raw_html-native_divs-native_spans-fenced_divs-bracketed_spans-smart | sed 's/\\//g']]></pre></section><section><header><h2>A convenient <a href="https://www.jonmsterling.com/jms-0085/">Bike</a>-to-Markdown script</h2></header><p>I have gathered the scripts to convert <a href="https://www.jonmsterling.com/jms-0085/">Bike</a> outlines into Markdown via idiomatic HTML in a <a href="https://git.sr.ht/~jonsterling/bike-convertors">Git repository</a> where they can be easily downloaded. If you have any improvements to these scripts, please <a href="https://git-send-email.io/">submit them as a patch</a> to my <a href="https://lists.sr.ht/~jonsterling/public-inbox">public inbox</a>! I am also interested in whether it is possible to write the <a href="https://www.jonmsterling.com/jms-0087/">XSLT 2.0 stylesheet</a> as equivalent XSLT 1.0, to avoid <a href="https://www.jonmsterling.com/jms-008E/">requiring</a> the proprietary <a href="https://saxonica.com/welcome/welcome.xml">Saxon</a> tool. Feel free also to send comments on this post to my public inbox, or discuss with me on <a href="https://mathstodon.xyz/@jonmsterling">Mastodon</a>.</p></section>
  
  <hr />

  
  
    
    <section><header><h2>Crowdfunding and sponsorship</h2></header><p>Apart from my day-job at the <a href="https://www.jonmsterling.com/ucam/">University of Cambridge</a>, I am independently researching <a href="https://www.forester-notes.org/tfmt-0001/">tools for scientific thought</a> and developing software like <a href="https://www.forester-notes.org/index/">Forester</a> that you can use to unlock your brain. <mark>If you have benefited from this work or the writings on my <a href="https://www.jonmsterling.com/jms-007W/">blog</a>, please considering supporting me with a <a href="https://ko-fi.com/jonmsterling">sponsorship on Ko-fi</a>.</mark></p></section>
  

      </div>
    </content>
  </entry>
  <entry>
    <title>A synthetic proof of HTT 7.2.1.14</title>
    <published>2023-08-18T00:00:00Z</published>
    <updated>2023-08-18T00:00:00Z</updated>
    <author>
      <name>Jon Sterling</name>
      <uri>https://www.jonmsterling.com/jonmsterling/</uri>
    </author>
    <link rel="alternate" type="text/html" href="https://www.jonmsterling.com/jms-007T/" />
    <id>https://www.jonmsterling.com/jms-007T/</id>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">
        <p><a href="https://www.jonmsterling.com/lurie-htt/">Lurie</a> states the following result as Proposition 7.2.1.14 of <a href="https://www.jonmsterling.com/lurie-htt/">Higher Topos Theory</a>:</p>
        <blockquote>Let <code>\mathcal {X}</code> be an ∞-topos and let <code>{<code>\mathcal {X}</code>}\xrightarrow {{\tau _{\leq  0}}}{\tau _{\leq  0}<code>\mathcal {X}</code>}</code> be the left adjoint to the inclusion. A morphism <code>{U}\xrightarrow {{\phi }}{X}</code> in <code>\mathcal {X}</code> is an effective epimorphism if and only if in <code>\tau _{\leq  0}<code>{\mathopen {}\left (\phi \right )\mathclose {}}</code></code> is an effective epimorphism in the ordinary topos <code><code>\mathrm {h}</code><code>{\mathopen {}\left (\tau _{\leq 0}<code>\mathcal {X}</code>\right )\mathclose {}}</code></code>.</blockquote>
        <p><a href="https://mathoverflow.net/questions/452920/effective-epimorphisms-and-0-truncations-htt-7-2-1-14">Several users of MathOverflow have noticed</a> that the proof of this result given by <a href="https://www.jonmsterling.com/lurie-htt/">Lurie</a> is circular. The result is true and can be recovered in a variety of ways, as pointed out in the <a href="https://mathoverflow.net/questions/452920/effective-epimorphisms-and-0-truncations-htt-7-2-1-14">MathOverflow discussion</a>. For expository purposes, I would like to show how to prove this result directly in univalent foundations using standard results about <code>n</code>-truncations from the <a href="https://www.jonmsterling.com/hottbook/">HoTT Book</a>.</p>
        <p>First we observe a trivial lemma about truncations.</p>
        <section>
          <header>
            <h2>Propositions do not notice set truncation of indices</h2>
          </header>
<p>Any proposition is orthogonal to the map <code><code>\mathchoice {\textstyle \sum _{<code>{\mathopen {}\left (x:A\right )\mathclose {}}</code>}}{\textstyle \sum _{<code>{\mathopen {}\left (x:A\right )\mathclose {}}</code>}}{\scriptstyle \sum _{<code>{\mathopen {}\left (x:A\right )\mathclose {}}</code>}}{\scriptscriptstyle \sum _{<code>{\mathopen {}\left (x:A\right )\mathclose {}}</code>}}</code>B<code><code>\left \lvert x\right \rvert </code><code>_{0}</code></code>\to  <code>\mathchoice {\textstyle \sum _{<code>{\mathopen {}\left (x:<code><code>\left \lVert A\right \rVert </code><code>_{0}</code></code>\right )\mathclose {}}</code>}}{\textstyle \sum _{<code>{\mathopen {}\left (x:<code><code>\left \lVert A\right \rVert </code><code>_{0}</code></code>\right )\mathclose {}}</code>}}{\scriptstyle \sum _{<code>{\mathopen {}\left (x:<code><code>\left \lVert A\right \rVert </code><code>_{0}</code></code>\right )\mathclose {}}</code>}}{\scriptscriptstyle \sum _{<code>{\mathopen {}\left (x:<code><code>\left \lVert A\right \rVert </code><code>_{0}</code></code>\right )\mathclose {}}</code>}}</code>Bx</code> sending <code>{\mathopen {}\left (x,y\right )\mathclose {}}</code> to <code>{\mathopen {}\left (<code><code>\left \lvert x\right \rvert </code><code>_{0}</code></code>,y\right )\mathclose {}}</code>.</p>
 
   
   <section>
  <p>This follows from the dependent induction principle of set-truncation, as any proposition is a set.</p>
</section>
 
        </section>
        <p>It follows from <a href="https://www.jonmsterling.com/jms-007U/">Lemma jms-007U/</a> that <code><code>\left \lVert <code>\mathchoice {\textstyle \sum _{<code>{\mathopen {}\left (x:A\right )\mathclose {}}</code>}}{\textstyle \sum _{<code>{\mathopen {}\left (x:A\right )\mathclose {}}</code>}}{\scriptstyle \sum _{<code>{\mathopen {}\left (x:A\right )\mathclose {}}</code>}}{\scriptscriptstyle \sum _{<code>{\mathopen {}\left (x:A\right )\mathclose {}}</code>}}</code>B<code><code>\left \lvert x\right \rvert </code><code>_{0}</code></code>\right \rVert </code><code>_{-1}</code></code> is equivalent to <code><code>\left \lVert <code>\mathchoice {\textstyle \sum _{<code>{\mathopen {}\left (x:<code><code>\left \lVert A\right \rVert </code><code>_{0}</code></code>\right )\mathclose {}}</code>}}{\textstyle \sum _{<code>{\mathopen {}\left (x:<code><code>\left \lVert A\right \rVert </code><code>_{0}</code></code>\right )\mathclose {}}</code>}}{\scriptstyle \sum _{<code>{\mathopen {}\left (x:<code><code>\left \lVert A\right \rVert </code><code>_{0}</code></code>\right )\mathclose {}}</code>}}{\scriptscriptstyle \sum _{<code>{\mathopen {}\left (x:<code><code>\left \lVert A\right \rVert </code><code>_{0}</code></code>\right )\mathclose {}}</code>}}</code>Bx\right \rVert </code><code>_{-1}</code></code>. This is enough to deduce the main result.</p>
        <section>
          <header>
            <h2>Set-truncation preserves and reflects surjections</h2>
          </header>
<p>A function <code>f:A\to  B</code> is surjective (i.e. an effective epimorphism) if and only if its set-truncation <code><code><code>\left \lVert f\right \rVert </code><code>_{0}</code></code>:<code><code>\left \lVert A\right \rVert </code><code>_{0}</code></code>\to <code><code>\left \lVert B\right \rVert </code><code>_{0}</code></code></code> is surjective.</p>
 
   
   <section>
  <p>We deduce that <code><code><code>\mathsf {isSurjective}</code></code>\,<code><code>\left \lvert f\right \rvert </code><code>_{0}</code></code></code> is equivalent to <code><code><code>\mathsf {isSurjective}</code></code>\,f</code> as follows:</p>

  

  
  <table>
    
  <tr>
      
  <td><code><code><code>\mathsf {isSurjective}</code></code>\,<code><code>\left \lvert f\right \rvert </code><code>_{0}</code></code></code></td>

      
  <td />

    </tr>

    
    
  <tr>
      
  <td><code>
      \equiv  <code>\mathchoice {\textstyle \prod _{<code>{\mathopen {}\left (b:<code><code>\left \lVert B\right \rVert </code><code>_{0}</code></code>\right )\mathclose {}}</code>}}{\textstyle \prod _{<code>{\mathopen {}\left (b:<code><code>\left \lVert B\right \rVert </code><code>_{0}</code></code>\right )\mathclose {}}</code>}}{\scriptstyle \prod _{<code>{\mathopen {}\left (b:<code><code>\left \lVert B\right \rVert </code><code>_{0}</code></code>\right )\mathclose {}}</code>}}{\scriptscriptstyle \prod _{<code>{\mathopen {}\left (b:<code><code>\left \lVert B\right \rVert </code><code>_{0}</code></code>\right )\mathclose {}}</code>}}</code><code><code>\left \lVert <code>\mathchoice {\textstyle \sum _{<code>{\mathopen {}\left (a:<code><code>\left \lVert A\right \rVert </code><code>_{0}</code></code>\right )\mathclose {}}</code>}}{\textstyle \sum _{<code>{\mathopen {}\left (a:<code><code>\left \lVert A\right \rVert </code><code>_{0}</code></code>\right )\mathclose {}}</code>}}{\scriptstyle \sum _{<code>{\mathopen {}\left (a:<code><code>\left \lVert A\right \rVert </code><code>_{0}</code></code>\right )\mathclose {}}</code>}}{\scriptscriptstyle \sum _{<code>{\mathopen {}\left (a:<code><code>\left \lVert A\right \rVert </code><code>_{0}</code></code>\right )\mathclose {}}</code>}}</code><code><code>\left \lVert f\right \rVert </code><code>_{0}</code></code>a=b\right \rVert </code><code>_{-1}</code></code>
    </code></td>

      
  <td>by definition</td>

    </tr>

  

    
    
  <tr>
      
  <td><code>
      \simeq 
      <code>\mathchoice {\textstyle \prod _{<code>{\mathopen {}\left (b:B\right )\mathclose {}}</code>}}{\textstyle \prod _{<code>{\mathopen {}\left (b:B\right )\mathclose {}}</code>}}{\scriptstyle \prod _{<code>{\mathopen {}\left (b:B\right )\mathclose {}}</code>}}{\scriptscriptstyle \prod _{<code>{\mathopen {}\left (b:B\right )\mathclose {}}</code>}}</code>
      <code><code>\left \lVert <code>\mathchoice {\textstyle \sum _{<code>{\mathopen {}\left (a:<code><code>\left \lVert A\right \rVert </code><code>_{0}</code></code>\right )\mathclose {}}</code>}}{\textstyle \sum _{<code>{\mathopen {}\left (a:<code><code>\left \lVert A\right \rVert </code><code>_{0}</code></code>\right )\mathclose {}}</code>}}{\scriptstyle \sum _{<code>{\mathopen {}\left (a:<code><code>\left \lVert A\right \rVert </code><code>_{0}</code></code>\right )\mathclose {}}</code>}}{\scriptscriptstyle \sum _{<code>{\mathopen {}\left (a:<code><code>\left \lVert A\right \rVert </code><code>_{0}</code></code>\right )\mathclose {}}</code>}}</code><code><code>\left \lVert f\right \rVert </code><code>_{0}</code></code>a=<code><code>\left \lvert b\right \rvert </code><code>_{0}</code></code>\right \rVert </code><code>_{-1}</code></code>
    </code></td>

      
  <td>by induction</td>

    </tr>

  

    
    
  <tr>
      
  <td><code>
      \simeq 
      <code>\mathchoice {\textstyle \prod _{<code>{\mathopen {}\left (b:B\right )\mathclose {}}</code>}}{\textstyle \prod _{<code>{\mathopen {}\left (b:B\right )\mathclose {}}</code>}}{\scriptstyle \prod _{<code>{\mathopen {}\left (b:B\right )\mathclose {}}</code>}}{\scriptscriptstyle \prod _{<code>{\mathopen {}\left (b:B\right )\mathclose {}}</code>}}</code>
      <code><code>\left \lVert <code>\mathchoice {\textstyle \sum _{<code>{\mathopen {}\left (a:A\right )\mathclose {}}</code>}}{\textstyle \sum _{<code>{\mathopen {}\left (a:A\right )\mathclose {}}</code>}}{\scriptstyle \sum _{<code>{\mathopen {}\left (a:A\right )\mathclose {}}</code>}}{\scriptscriptstyle \sum _{<code>{\mathopen {}\left (a:A\right )\mathclose {}}</code>}}</code><code><code>\left \lvert fa\right \rvert </code><code>_{0}</code></code>=<code><code>\left \lvert b\right \rvert </code><code>_{0}</code></code>\right \rVert </code><code>_{-1}</code></code>
    </code></td>

      
  <td>by <a href="https://www.jonmsterling.com/jms-007U/">Lemma</a></td>

    </tr>

  

    
    
  <tr>
      
  <td><code>
      \simeq 
      <code>\mathchoice {\textstyle \prod _{<code>{\mathopen {}\left (b:B\right )\mathclose {}}</code>}}{\textstyle \prod _{<code>{\mathopen {}\left (b:B\right )\mathclose {}}</code>}}{\scriptstyle \prod _{<code>{\mathopen {}\left (b:B\right )\mathclose {}}</code>}}{\scriptscriptstyle \prod _{<code>{\mathopen {}\left (b:B\right )\mathclose {}}</code>}}</code>
      <code><code>\left \lVert <code>\mathchoice {\textstyle \sum _{<code>{\mathopen {}\left (a:A\right )\mathclose {}}</code>}}{\textstyle \sum _{<code>{\mathopen {}\left (a:A\right )\mathclose {}}</code>}}{\scriptstyle \sum _{<code>{\mathopen {}\left (a:A\right )\mathclose {}}</code>}}{\scriptscriptstyle \sum _{<code>{\mathopen {}\left (a:A\right )\mathclose {}}</code>}}</code><code><code>\left \lVert fa=b\right \rVert </code><code>_{-1}</code></code>\right \rVert </code><code>_{-1}</code></code>
    </code></td>

      
  <td>
      by <a href="https://www.jonmsterling.com/hottbook/">HoTT Book, Theorem 7.3.12</a>
    </td>

    </tr>

  

    
    
  <tr>
      
  <td><code>
      \simeq 
      <code>\mathchoice {\textstyle \prod _{<code>{\mathopen {}\left (b:B\right )\mathclose {}}</code>}}{\textstyle \prod _{<code>{\mathopen {}\left (b:B\right )\mathclose {}}</code>}}{\scriptstyle \prod _{<code>{\mathopen {}\left (b:B\right )\mathclose {}}</code>}}{\scriptscriptstyle \prod _{<code>{\mathopen {}\left (b:B\right )\mathclose {}}</code>}}</code>
      <code><code>\left \lVert <code>\mathchoice {\textstyle \sum _{<code>{\mathopen {}\left (a:A\right )\mathclose {}}</code>}}{\textstyle \sum _{<code>{\mathopen {}\left (a:A\right )\mathclose {}}</code>}}{\scriptstyle \sum _{<code>{\mathopen {}\left (a:A\right )\mathclose {}}</code>}}{\scriptscriptstyle \sum _{<code>{\mathopen {}\left (a:A\right )\mathclose {}}</code>}}</code>fa=b\right \rVert </code><code>_{-1}</code></code>
    </code></td>

      
  <td>by <a href="https://www.jonmsterling.com/hottbook/">HoTT Book, Theorem 7.3.9</a></td>

    </tr>

  

    
    
  <tr>
      
  <td><code>
      \equiv 
      <code><code>\mathsf {isSurjective}</code></code>\,f
    </code></td>

      
  <td>by definition</td>

    </tr>

  
  </table>


  <p>Incidentally, the appeal to <a href="https://www.jonmsterling.com/hottbook/">Theorem 7.3.12 of the HoTT Book</a> can be replaced by the more general <a href="https://www.jonmsterling.com/christensen-opie-rijke-scoccola-2020/">Proposition 2.26 of Christensen et al.</a>, which applies to an arbitrary reflective subuniverse and the corresponding subuniverse of separated types.</p>

</section>
 
        </section>
      </div>
    </content>
  </entry>
</feed>
