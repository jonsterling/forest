<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="/default.xsl"?>
<fr:tree xmlns:fr="http://www.forester-notes.org" xmlns:html="http://www.w3.org/1999/xhtml" xmlns:xml="http://www.w3.org/XML/1998/namespace" root="false" base-url="/">
  <fr:frontmatter>
    <fr:authors />
    <fr:date>
      <fr:year>2023</fr:year>
      <fr:month>10</fr:month>
      <fr:day>19</fr:day>
    </fr:date>
    <fr:uri>https://www.jonmsterling.com/jms-00B2/</fr:uri>
    <fr:display-uri>jms-00B2</fr:display-uri>
    <fr:route>/jms-00B2/</fr:route>
    <fr:title text="Indefinite description is inconsistent with HoTT/UF">Indefinite description is inconsistent with HoTT/UF</fr:title>
  </fr:frontmatter>
  <fr:mainmatter>
    <html:p>Unfortunately, global choice and indefinite description are <html:em>inconsistent</html:em> with <fr:link href="/hottbook/" title="Homotopy Type Theory: univalent foundations of mathematics" uri="https://www.jonmsterling.com/hottbook/" display-uri="hottbook" type="local">homotopy type theory / univalent foundations</fr:link>, as they imply that every type is a set. In fact, as can be seen from the proof of <fr:link href="/hottbook/" title="Homotopy Type Theory: univalent foundations of mathematics" uri="https://www.jonmsterling.com/hottbook/" display-uri="hottbook" type="local">Theorem 3.2.2 of the HoTT Book</fr:link>, it is even inconsistent with univalent foundations to assume global choice only for sets!</html:p>
    <html:p>To express classical mathematics in univalent foundations, it is therefore necessary to use the more cumbersome <html:em>axiom of choice</html:em> — which is strictly weaker than global choice. When <fr:tex display="inline"><![CDATA[{\mathopen {}\left \lVert -\right \rVert \mathclose {}}]]></fr:tex> is the propositional truncation operator, global choice would be witnessed by a family of functions <fr:tex display="inline"><![CDATA[\mathsf {some}_A : {\mathopen {}\left \lVert A\right \rVert \mathclose {}}\to  A]]></fr:tex> whereas the axiom of choice is witnessed by a family of functions <fr:tex display="inline"><![CDATA[\mathsf {AC}_{A,B} : {\mathopen {}\left (\mathchoice {\textstyle \prod _{{\mathopen {}\left (x:A\right )\mathclose {}}}}{\textstyle \prod _{{\mathopen {}\left (x:A\right )\mathclose {}}}}{\scriptstyle \prod _{{\mathopen {}\left (x:A\right )\mathclose {}}}}{\scriptscriptstyle \prod _{{\mathopen {}\left (x:A\right )\mathclose {}}}}{\mathopen {}\left \lVert B{\mathopen {}\left (x\right )\mathclose {}}\right \rVert \mathclose {}}\right )\mathclose {}}\to  {\mathopen {}\left \lVert \mathchoice {\textstyle \prod _{{\mathopen {}\left (x:A\right )\mathclose {}}}}{\textstyle \prod _{{\mathopen {}\left (x:A\right )\mathclose {}}}}{\scriptstyle \prod _{{\mathopen {}\left (x:A\right )\mathclose {}}}}{\scriptscriptstyle \prod _{{\mathopen {}\left (x:A\right )\mathclose {}}}}B{\mathopen {}\left (x\right )\mathclose {}}\right \rVert \mathclose {}}]]></fr:tex>. The crucial difference is the presence of propositional truncation in the <html:em>output</html:em>.</html:p>
  </fr:mainmatter>
  <fr:backmatter>
    <fr:tree show-metadata="false" hidden-when-empty="true">
      <fr:frontmatter>
        <fr:authors />
        <fr:title text="References">References</fr:title>
      </fr:frontmatter>
      <fr:mainmatter>
        <fr:tree show-metadata="true" expanded="false" toc="false" numbered="false">
          <fr:frontmatter>
            <fr:authors>
              <fr:author>The Univalent Foundations Program</fr:author>
            </fr:authors>
            <fr:date>
              <fr:year>2013</fr:year>
            </fr:date>
            <fr:uri>https://www.jonmsterling.com/hottbook/</fr:uri>
            <fr:display-uri>hottbook</fr:display-uri>
            <fr:route>/hottbook/</fr:route>
            <fr:title text="Homotopy Type Theory: univalent foundations of mathematics">Homotopy Type Theory: univalent foundations of mathematics</fr:title>
            <fr:taxon>Reference</fr:taxon>
            <fr:meta name="external">https://homotopytypetheory.org/book</fr:meta>
            <fr:meta name="venue">
              <fr:link href="/ias-special-year/" title="IAS Special Year on Univalent Foundations" uri="https://www.jonmsterling.com/ias-special-year/" display-uri="ias-special-year" type="local">IAS Special Year on Univalent Foundations</fr:link>
            </fr:meta>
            <fr:meta name="bibtex"><![CDATA[@book{hottbook,
  author = {{Univalent Foundations Program}, The},
  address = {Institute for Advanced Study},
  publisher = {\url{https://homotopytypetheory.org/book}},
  year = {2013},
  title = {Homotopy Type Theory: Univalent Foundations of Mathematics},
}]]></fr:meta>
          </fr:frontmatter>
          <fr:mainmatter>
            <html:p>Homotopy type theory is a new branch of mathematics that combines aspects of several different fields in a surprising way. It is based on a recently discovered connection between homotopy theory and type theory. It touches on topics as seemingly distant as the homotopy groups of spheres, the algorithms for type checking, and the definition of weak <fr:tex display="inline"><![CDATA[\infty ]]></fr:tex>-groupoids. Homotopy type theory offers a new “univalent” foundation of mathematics, in which a central role is played by <fr:link href="/vladimirvoevodsky/" title="Vladimir Voevodsky" uri="https://www.jonmsterling.com/vladimirvoevodsky/" display-uri="vladimirvoevodsky" type="local">Voevodsky</fr:link>’s univalence axiom and higher inductive types. The present book is intended as a first systematic exposition of the basics of univalent foundations, and a collection of examples of this new style of reasoning — but without requiring the reader to know or learn any formal logic, or to use any computer proof assistant. We believe that univalent foundations will eventually become a viable alternative to set theory as the “implicit foundation” for the unformalized mathematics done by most mathematicians.</html:p>
          </fr:mainmatter>
        </fr:tree>
      </fr:mainmatter>
    </fr:tree>
    <fr:tree show-metadata="false" hidden-when-empty="true">
      <fr:frontmatter>
        <fr:authors />
        <fr:title text="Context">Context</fr:title>
      </fr:frontmatter>
      <fr:mainmatter>
        <fr:tree show-metadata="true" expanded="false" toc="false" numbered="false">
          <fr:frontmatter>
            <fr:authors>
              <fr:author>
                <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
              </fr:author>
            </fr:authors>
            <fr:date>
              <fr:year>2023</fr:year>
              <fr:month>10</fr:month>
              <fr:day>19</fr:day>
            </fr:date>
            <fr:uri>https://www.jonmsterling.com/jms-00B0/</fr:uri>
            <fr:display-uri>jms-00B0</fr:display-uri>
            <fr:route>/jms-00B0/</fr:route>
            <fr:title text="Indefinite description in homotopy type theory">Indefinite description in homotopy type theory</fr:title>
            <fr:taxon>Idea</fr:taxon>
          </fr:frontmatter>
          <fr:mainmatter>
            <html:p>Certain foundational systems for mathematics employ <html:em>global choice</html:em> or <html:em>indefinite description</html:em> operators; operators of this kind are assumed by Bourbaki, Isabelle/HOL, and Lean. Indefinite description is similar to the axiom of choice, but quite a bit stronger:</html:p>
            <fr:tex display="block"><![CDATA[
  \frac {
    \Gamma , x:A \mid  \phi {\mathopen {}\left (x\right )\mathclose {}} : \mathsf {prop}
    \qquad 
    \Gamma  \vdash  \exists  x : A. \top 
  }{
    \Gamma \mid  {\mathopen {}\left (\epsilon  x:A. \phi {\mathopen {}\left (x\right )\mathclose {}}\right )\mathclose {}} : A
    \qquad 
    \Gamma ,z:A \mid  \phi {\mathopen {}\left (z\right )\mathclose {}} \vdash  \phi {\mathopen {}\left (\epsilon  x:A.\phi {\mathopen {}\left (x\right )\mathclose {}}\right )\mathclose {}}
  }
]]></fr:tex>
            <html:p>In the presence of subset types, indefinite description in the sense above is equivalent to the presence of a single <html:em>global choice</html:em> operator:</html:p>
            <fr:tex display="block"><![CDATA[
  \frac {
    \Gamma \vdash  \exists  x : A. \top 
  }{
    \Gamma \mid  \mathsf {some}_A : A
  }
]]></fr:tex>
            <fr:tree show-metadata="false">
              <fr:frontmatter>
                <fr:authors>
                  <fr:author>
                    <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                  </fr:author>
                </fr:authors>
                <fr:date>
                  <fr:year>2023</fr:year>
                  <fr:month>10</fr:month>
                  <fr:day>19</fr:day>
                </fr:date>
                <fr:uri>https://www.jonmsterling.com/jms-00B1/</fr:uri>
                <fr:display-uri>jms-00B1</fr:display-uri>
                <fr:route>/jms-00B1/</fr:route>
                <fr:title text="Indefinite description is useful!">Indefinite description is useful!</fr:title>
              </fr:frontmatter>
              <fr:mainmatter>
                <html:p>Experience with formalising classical mathematics in both Isabelle/HOL and Lean suggests that indefinite description is a very convenient feature to have in a language, not least because it <html:em>greatly</html:em> simplifies the treatment of partial functions as <fr:link href="https://lawrencecpaulson.github.io/2021/12/01/Undefined.html" type="external">Larry Paulson has pointed out</fr:link>. For example, you can define division in Isabelle as a <html:em>total</html:em> function by sending <fr:tex display="inline"><![CDATA[n/0]]></fr:tex> to <fr:tex display="inline"><![CDATA[\mathsf {some}_{\mathsf {nat}}]]></fr:tex>. This function is perfectly well-defined, and avoids the frustration of needing to check that arguments are non-zero when you apply it — or the (dual) frustration of needing to check that the output is defined before you use it, as in accounts of partiality based on partial map classifier monads.</html:p>
              </fr:mainmatter>
            </fr:tree>
            <fr:tree show-metadata="false">
              <fr:frontmatter>
                <fr:authors />
                <fr:date>
                  <fr:year>2023</fr:year>
                  <fr:month>10</fr:month>
                  <fr:day>19</fr:day>
                </fr:date>
                <fr:uri>https://www.jonmsterling.com/jms-00B2/</fr:uri>
                <fr:display-uri>jms-00B2</fr:display-uri>
                <fr:route>/jms-00B2/</fr:route>
                <fr:title text="Indefinite description is inconsistent with HoTT/UF">Indefinite description is inconsistent with HoTT/UF</fr:title>
              </fr:frontmatter>
              <fr:mainmatter>
                <html:p>Unfortunately, global choice and indefinite description are <html:em>inconsistent</html:em> with <fr:link href="/hottbook/" title="Homotopy Type Theory: univalent foundations of mathematics" uri="https://www.jonmsterling.com/hottbook/" display-uri="hottbook" type="local">homotopy type theory / univalent foundations</fr:link>, as they imply that every type is a set. In fact, as can be seen from the proof of <fr:link href="/hottbook/" title="Homotopy Type Theory: univalent foundations of mathematics" uri="https://www.jonmsterling.com/hottbook/" display-uri="hottbook" type="local">Theorem 3.2.2 of the HoTT Book</fr:link>, it is even inconsistent with univalent foundations to assume global choice only for sets!</html:p>
                <html:p>To express classical mathematics in univalent foundations, it is therefore necessary to use the more cumbersome <html:em>axiom of choice</html:em> — which is strictly weaker than global choice. When <fr:tex display="inline"><![CDATA[{\mathopen {}\left \lVert -\right \rVert \mathclose {}}]]></fr:tex> is the propositional truncation operator, global choice would be witnessed by a family of functions <fr:tex display="inline"><![CDATA[\mathsf {some}_A : {\mathopen {}\left \lVert A\right \rVert \mathclose {}}\to  A]]></fr:tex> whereas the axiom of choice is witnessed by a family of functions <fr:tex display="inline"><![CDATA[\mathsf {AC}_{A,B} : {\mathopen {}\left (\mathchoice {\textstyle \prod _{{\mathopen {}\left (x:A\right )\mathclose {}}}}{\textstyle \prod _{{\mathopen {}\left (x:A\right )\mathclose {}}}}{\scriptstyle \prod _{{\mathopen {}\left (x:A\right )\mathclose {}}}}{\scriptscriptstyle \prod _{{\mathopen {}\left (x:A\right )\mathclose {}}}}{\mathopen {}\left \lVert B{\mathopen {}\left (x\right )\mathclose {}}\right \rVert \mathclose {}}\right )\mathclose {}}\to  {\mathopen {}\left \lVert \mathchoice {\textstyle \prod _{{\mathopen {}\left (x:A\right )\mathclose {}}}}{\textstyle \prod _{{\mathopen {}\left (x:A\right )\mathclose {}}}}{\scriptstyle \prod _{{\mathopen {}\left (x:A\right )\mathclose {}}}}{\scriptscriptstyle \prod _{{\mathopen {}\left (x:A\right )\mathclose {}}}}B{\mathopen {}\left (x\right )\mathclose {}}\right \rVert \mathclose {}}]]></fr:tex>. The crucial difference is the presence of propositional truncation in the <html:em>output</html:em>.</html:p>
              </fr:mainmatter>
            </fr:tree>
            <html:p><html:mark>I believe that it is nonetheless possible to have the “best of both worlds” and elaborate a high-level language with indefinite descriptions to homotopy type theory with the axiom of choice.</html:mark> The idea has two main parts:</html:p>
            <html:ol><html:li>First of all, we must interpret the “signatures” of top-level declarations as being fully abstract, taking place in the propositional truncation monad. For instance, a definitional extension <fr:tex display="inline"><![CDATA[\mathsf {def}\,t : A :\equiv  u]]></fr:tex> should be interpreted as producing an element of the truncation  <fr:tex display="inline"><![CDATA[{\mathopen {}\left \lVert \mathchoice {\textstyle \sum _{{\mathopen {}\left (x:A\right )\mathclose {}}}}{\textstyle \sum _{{\mathopen {}\left (x:A\right )\mathclose {}}}}{\scriptstyle \sum _{{\mathopen {}\left (x:A\right )\mathclose {}}}}{\scriptscriptstyle \sum _{{\mathopen {}\left (x:A\right )\mathclose {}}}}x = u\right \rVert \mathclose {}}]]></fr:tex>; subsequent declarations proceed by unpacking this truncation using the contractibility of singletons.</html:li>
  <html:li>Secondly, we shall elaborate an occurrence of <fr:tex display="inline"><![CDATA[\Gamma \vdash  \mathsf {some}_A{\mathopen {}\left (u\right )\mathclose {}}:A]]></fr:tex> given <fr:tex display="inline"><![CDATA[\Gamma \vdash  u : {\mathopen {}\left \lVert A\right \rVert \mathclose {}}]]></fr:tex> by <html:em>unleashing</html:em> a new top-level declaration <fr:tex display="inline"><![CDATA[\vartheta  : \mathchoice {\textstyle \prod _{{\mathopen {}\left (\cdots :\Gamma \right )\mathclose {}}}}{\textstyle \prod _{{\mathopen {}\left (\cdots :\Gamma \right )\mathclose {}}}}{\scriptstyle \prod _{{\mathopen {}\left (\cdots :\Gamma \right )\mathclose {}}}}{\scriptscriptstyle \prod _{{\mathopen {}\left (\cdots :\Gamma \right )\mathclose {}}}}A]]></fr:tex>, which (under the interpretation of top-level declarations via truncation) can be defined from <fr:tex display="inline"><![CDATA[\lambda \cdots .u]]></fr:tex> using the ordinary axiom of choice. Then <fr:tex display="inline"><![CDATA[\mathsf {some}(u)]]></fr:tex> is elaborated to <fr:tex display="inline"><![CDATA[\vartheta {\mathopen {}\left (\cdots \right )\mathclose {}}]]></fr:tex>.</html:li></html:ol>
            <html:p>Thus we have a language for univalent foundations in which indefinite descriptions can be used. There is a minor trade-off in the proposed treatment, however: two occurrences of <fr:tex display="inline"><![CDATA[\mathsf {some}_A{\mathopen {}\left (u\right )\mathclose {}}]]></fr:tex> will elaborate to <html:em>different</html:em> core language terms. It may be possible to get around this by means of some kind of caching, but I think that may be ultimately unnecessary in practice — as the entire point of an indefinite description is that it shall satisfy no properties except the specified one.</html:p>
          </fr:mainmatter>
        </fr:tree>
      </fr:mainmatter>
    </fr:tree>
    <fr:tree show-metadata="false" hidden-when-empty="true">
      <fr:frontmatter>
        <fr:authors />
        <fr:title text="Backlinks">Backlinks</fr:title>
      </fr:frontmatter>
      <fr:mainmatter />
    </fr:tree>
    <fr:tree show-metadata="false" hidden-when-empty="true">
      <fr:frontmatter>
        <fr:authors />
        <fr:title text="Related">Related</fr:title>
      </fr:frontmatter>
      <fr:mainmatter />
    </fr:tree>
    <fr:tree show-metadata="false" hidden-when-empty="true">
      <fr:frontmatter>
        <fr:authors />
        <fr:title text="Contributions">Contributions</fr:title>
      </fr:frontmatter>
      <fr:mainmatter />
    </fr:tree>
  </fr:backmatter>
</fr:tree>
