<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="/default.xsl"?>
<fr:tree xmlns:fr="http://www.forester-notes.org" xmlns:html="http://www.w3.org/1999/xhtml" xmlns:xml="http://www.w3.org/XML/1998/namespace" root="false" base-url="/">
  <fr:frontmatter>
    <fr:authors>
      <fr:author>
        <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
      </fr:author>
      <fr:contributor>
        <fr:link href="/marcelofiore/" title="Marcelo Fiore" uri="https://www.jonmsterling.com/marcelofiore/" display-uri="marcelofiore" type="local">Marcelo Fiore</fr:link>
      </fr:contributor>
    </fr:authors>
    <fr:date>
      <fr:year>2024</fr:year>
      <fr:month>1</fr:month>
      <fr:day>21</fr:day>
    </fr:date>
    <fr:uri>https://www.jonmsterling.com/jms-00JZ/</fr:uri>
    <fr:display-uri>jms-00JZ</fr:display-uri>
    <fr:route>/jms-00JZ/</fr:route>
    <fr:title text="preorders and reflexive-transitive closure"><fr:link href="/jms-00JX/" title="Preorder" uri="https://www.jonmsterling.com/jms-00JX/" display-uri="jms-00JX" type="local">preorders</fr:link> and <fr:link href="/jms-00JH/" title="The reflexive-transitive closure of an endo-relation" uri="https://www.jonmsterling.com/jms-00JH/" display-uri="jms-00JH" type="local">reflexive-transitive closure</fr:link></fr:title>
    <fr:taxon>Theorem</fr:taxon>
  </fr:frontmatter>
  <fr:mainmatter><html:p>The <fr:link href="/jms-00JH/" title="The reflexive-transitive closure of an endo-relation" uri="https://www.jonmsterling.com/jms-00JH/" display-uri="jms-00JH" type="local">reflexive-transitive closure</fr:link> <fr:tex display="inline"><![CDATA[R^{\circ *}]]></fr:tex> of an <fr:link href="/jms-00JC/" title="Directed graph" uri="https://www.jonmsterling.com/jms-00JC/" display-uri="jms-00JC" type="local">endo-relation</fr:link> <fr:tex display="inline"><![CDATA[R\colon  A\mathbin {\nrightarrow } A]]></fr:tex> is, by definition, a preorder. We will show that <fr:tex display="inline"><![CDATA[R^{\circ *}]]></fr:tex> enjoys a <html:em>universal property</html:em> as the <html:em>smallest preorder</html:em> containing <fr:tex display="inline"><![CDATA[R]]></fr:tex> as a subrelation.</html:p><html:p>To be more precise, let <fr:tex display="inline"><![CDATA[\mathcal {F}_R]]></fr:tex> be the set of <fr:link href="/jms-00JX/" title="Preorder" uri="https://www.jonmsterling.com/jms-00JX/" display-uri="jms-00JX" type="local">preorders</fr:link> on <fr:tex display="inline"><![CDATA[A]]></fr:tex> that contain <fr:tex display="inline"><![CDATA[R]]></fr:tex> as a subrelation:</html:p><fr:tex display="block"><![CDATA[
 \mathcal {F}_R =
 {\mathopen {}\left \{Q\colon  A\mathbin {\nrightarrow } A\,\middle \vert \,R\subseteq  Q \land  \text {Q is a preorder}\right \}\mathclose {}}
]]></fr:tex><html:p>Then we have <fr:tex display="inline"><![CDATA[R^{\circ *}=\bigcap \mathcal {F}_R]]></fr:tex>, and so the <fr:link href="/jms-00JH/" title="The reflexive-transitive closure of an endo-relation" uri="https://www.jonmsterling.com/jms-00JH/" display-uri="jms-00JH" type="local">reflexive-transitive closure</fr:link> is the smallest preorder containing <fr:tex display="inline"><![CDATA[R]]></fr:tex> as a subrelation. (Indeed, recall that the intersection of an intersection-closed class of relations is the <html:em>smallest</html:em> relation in that class.)</html:p>
 
   
   <fr:tree show-metadata="false" toc="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2024</fr:year><fr:month>1</fr:month><fr:day>21</fr:day></fr:date><fr:taxon>Proof</fr:taxon></fr:frontmatter><fr:mainmatter>
 <html:p>To show that <fr:tex display="inline"><![CDATA[R^{\circ *}=\bigcap \mathcal {F}_R]]></fr:tex>, it suffices to check that <fr:tex display="inline"><![CDATA[\bigcap \mathcal {F}_R\subseteq  R^{\circ *}]]></fr:tex> and <fr:tex display="inline"><![CDATA[R^{\circ *}\subseteq  \bigcap \mathcal {F}_R]]></fr:tex>.</html:p>

 <html:ol><html:li><html:p>We first note that <fr:tex display="inline"><![CDATA[R^{\circ *}\in \mathcal {F}_R]]></fr:tex> — which holds by almost by definition:</html:p>
   <html:ol><html:li>We first need to show that <fr:tex display="inline"><![CDATA[R\subseteq  R^{\circ *}]]></fr:tex>, i.e. that when <fr:tex display="inline"><![CDATA[a\mathrel {R}b]]></fr:tex> we have <fr:tex display="inline"><![CDATA[a\mathrel {R}^{\circ *}b]]></fr:tex>. This is evident, as <fr:tex display="inline"><![CDATA[b\mathrel {R}b]]></fr:tex> is a path of length <fr:tex display="inline"><![CDATA[1]]></fr:tex> in <fr:tex display="inline"><![CDATA[R]]></fr:tex> and <fr:tex display="inline"><![CDATA[R^{\circ *}]]></fr:tex> contains all finite paths in <fr:tex display="inline"><![CDATA[R]]></fr:tex>.</html:li>
    <html:li>Next, we need to show that <fr:tex display="inline"><![CDATA[R^{\circ *}]]></fr:tex> is a preorder. But this holds because <fr:tex display="inline"><![CDATA[R^{\circ *}]]></fr:tex> contains the empty path from an element to itself, and because a path of length <fr:tex display="inline"><![CDATA[m]]></fr:tex> from <fr:tex display="inline"><![CDATA[a]]></fr:tex> to <fr:tex display="inline"><![CDATA[b]]></fr:tex> can be concatenated with a path of length <fr:tex display="inline"><![CDATA[n]]></fr:tex> from <fr:tex display="inline"><![CDATA[b]]></fr:tex> to <fr:tex display="inline"><![CDATA[c]]></fr:tex> to obtain a path (of length <fr:tex display="inline"><![CDATA[m+n]]></fr:tex>) from <fr:tex display="inline"><![CDATA[a]]></fr:tex> to <fr:tex display="inline"><![CDATA[c]]></fr:tex>.</html:li></html:ol>

   <html:p>It follows from <fr:tex display="inline"><![CDATA[R\in \mathcal {F}_R]]></fr:tex> that <fr:tex display="inline"><![CDATA[\bigcap \mathcal {F}_R\subseteq  R^{\circ *}]]></fr:tex>. Indeed:
   <fr:tex display="block"><![CDATA[a\mathrel {{\mathopen {}\left (\bigcap \mathcal {F}_R\right )\mathclose {}}}b \Longleftrightarrow  \forall  Q\in \mathcal {F}_R\mathpunct {.} a\mathrel {Q}b]]></fr:tex>
   So if <fr:tex display="inline"><![CDATA[a\mathrel {{\mathopen {}\left (\bigcap \mathcal {F}_R\right )\mathclose {}}}b]]></fr:tex> and <fr:tex display="inline"><![CDATA[R^{\circ *}\in \mathcal {F}_R]]></fr:tex>, we may choose <fr:tex display="inline"><![CDATA[Q := R^{\circ *}]]></fr:tex> to deduce <fr:tex display="inline"><![CDATA[a\mathrel {R^{\circ *}}b]]></fr:tex>. Therefore, <fr:tex display="inline"><![CDATA[\bigcap \mathcal {F}_R\subseteq  R^{\circ *}]]></fr:tex>.</html:p></html:li>
  <html:li><html:p>Our second goal is to prove <fr:tex display="inline"><![CDATA[R^{\circ *}\subseteq  \bigcap \mathcal {F}_R]]></fr:tex>; by the definition of intersections, this holds if and only if <fr:tex display="inline"><![CDATA[\forall  Q\in \mathcal {F}_R\mathpunct {.} R^{\circ *}\subseteq  Q]]></fr:tex>.</html:p>
   <html:p>Fixing such a preorder <fr:tex display="inline"><![CDATA[Q]]></fr:tex> over <fr:tex display="inline"><![CDATA[A]]></fr:tex> containing <fr:tex display="inline"><![CDATA[R]]></fr:tex> as a subrelation, we must prove that <fr:tex display="inline"><![CDATA[R^{\circ *}\subseteq  Q]]></fr:tex>. Recalling that <fr:tex display="inline"><![CDATA[R^{\circ *}]]></fr:tex> is the union <fr:tex display="inline"><![CDATA[\bigcup _{n \in \mathbb {N}}R^{\circ  n}]]></fr:tex>, we see by the definition of unions that that <fr:tex display="inline"><![CDATA[R^{\circ *}\subseteq  Q]]></fr:tex> if and only if for each <fr:tex display="inline"><![CDATA[n\in \mathbb {N}]]></fr:tex>, we have <fr:tex display="inline"><![CDATA[R^{\circ  n} \subseteq  Q]]></fr:tex>. This we prove by induction on <fr:tex display="inline"><![CDATA[n\in \mathbb {N}]]></fr:tex>.</html:p>
   <html:ol><html:li>In the base case, we must show that <fr:tex display="inline"><![CDATA[R^{\circ 0} = \mathsf {id}_{A}]]></fr:tex> is a subrelation of <fr:tex display="inline"><![CDATA[Q]]></fr:tex>. This is equivalent to <fr:tex display="inline"><![CDATA[Q]]></fr:tex> being reflexive, which we deduce from our assumption that <fr:tex display="inline"><![CDATA[Q]]></fr:tex> is a preorder.</html:li>
    <html:li>In the inductive step, we may assume <fr:tex display="inline"><![CDATA[R^{\circ  n}\subseteq  Q]]></fr:tex> and we must prove that <fr:tex display="inline"><![CDATA[R^{\circ {\mathopen {}\left (n+1\right )\mathclose {}}}=R\circ  R^{\circ  n}]]></fr:tex> is a subrelation of <fr:tex display="inline"><![CDATA[Q]]></fr:tex>. For any <fr:tex display="inline"><![CDATA[a,b\in  A]]></fr:tex>, we have <fr:tex display="inline"><![CDATA[a\mathrel {{\mathopen {}\left (R\circ  R^{\circ  n}\right )\mathclose {}}} b]]></fr:tex> if and only if there exists some <fr:tex display="inline"><![CDATA[c\in  A]]></fr:tex> such that <fr:tex display="inline"><![CDATA[a\mathrel {R}c]]></fr:tex> and <fr:tex display="inline"><![CDATA[c\mathrel {R^{\circ  n}} b]]></fr:tex>. Because we have assumed that <fr:tex display="inline"><![CDATA[R\subseteq  Q]]></fr:tex>, we have <fr:tex display="inline"><![CDATA[a\mathrel {Q}c]]></fr:tex>; by our inductive hypothesis, we have <fr:tex display="inline"><![CDATA[c\mathrel {Q}b]]></fr:tex>. Becuase <fr:tex display="inline"><![CDATA[Q]]></fr:tex> is a preorder and therefore transitive, we therefore have <fr:tex display="inline"><![CDATA[a\mathrel {Q}b]]></fr:tex>.</html:li></html:ol></html:li></html:ol>
 <html:p>Therefore, <fr:tex display="inline"><![CDATA[R^{\circ *}]]></fr:tex> is indeed the intersection of <fr:tex display="inline"><![CDATA[\mathcal {F}_R]]></fr:tex>.</html:p>
</fr:mainmatter></fr:tree>
 
</fr:mainmatter>
  <fr:backmatter>
    <fr:tree show-metadata="false" hidden-when-empty="true">
      <fr:frontmatter>
        <fr:authors />
        <fr:title text="References">References</fr:title>
      </fr:frontmatter>
      <fr:mainmatter />
    </fr:tree>
    <fr:tree show-metadata="false" hidden-when-empty="true">
      <fr:frontmatter>
        <fr:authors />
        <fr:title text="Context">Context</fr:title>
      </fr:frontmatter>
      <fr:mainmatter>
        <fr:tree show-metadata="true" expanded="false" toc="false" numbered="false">
          <fr:frontmatter>
            <fr:authors>
              <fr:author>
                <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
              </fr:author>
              <fr:contributor>
                <fr:link href="/marcelofiore/" title="Marcelo Fiore" uri="https://www.jonmsterling.com/marcelofiore/" display-uri="marcelofiore" type="local">Marcelo Fiore</fr:link>
              </fr:contributor>
            </fr:authors>
            <fr:date>
              <fr:year>2024</fr:year>
              <fr:month>1</fr:month>
              <fr:day>21</fr:day>
            </fr:date>
            <fr:uri>https://www.jonmsterling.com/jms-00JW/</fr:uri>
            <fr:display-uri>jms-00JW</fr:display-uri>
            <fr:route>/jms-00JW/</fr:route>
            <fr:title text="Preorders and relations">Preorders and relations</fr:title>
          </fr:frontmatter>
          <fr:mainmatter>
            <fr:tree show-metadata="false">
              <fr:frontmatter>
                <fr:authors>
                  <fr:contributor>
                    <fr:link href="/marcelofiore/" title="Marcelo Fiore" uri="https://www.jonmsterling.com/marcelofiore/" display-uri="marcelofiore" type="local">Marcelo Fiore</fr:link>
                  </fr:contributor>
                  <fr:author>
                    <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                  </fr:author>
                </fr:authors>
                <fr:date>
                  <fr:year>2024</fr:year>
                  <fr:month>1</fr:month>
                  <fr:day>21</fr:day>
                </fr:date>
                <fr:uri>https://www.jonmsterling.com/jms-00JX/</fr:uri>
                <fr:display-uri>jms-00JX</fr:display-uri>
                <fr:route>/jms-00JX/</fr:route>
                <fr:title text="Preorder">Preorder</fr:title>
                <fr:taxon>Definition</fr:taxon>
              </fr:frontmatter>
              <fr:mainmatter>
                <html:p>A <html:em><html:strong>preorder</html:strong></html:em> <fr:tex display="inline"><![CDATA[{\mathopen {}\left (P,\sqsubseteq \right )\mathclose {}}]]></fr:tex> consists of a set <fr:tex display="inline"><![CDATA[P]]></fr:tex> and a <fr:link href="/jms-00I7/" title="Relation" uri="https://www.jonmsterling.com/jms-00I7/" display-uri="jms-00I7" type="local">relation</fr:link> <fr:tex display="inline"><![CDATA[{\sqsubseteq } \colon  P\mathbin {\nrightarrow } P]]></fr:tex> satisfying the following two axioms:</html:p>
                <html:ol><html:li><html:em>Reflexivity.</html:em> <fr:tex display="block"><![CDATA[\forall  x\in  P\mathpunct {.} x\sqsubseteq  x]]></fr:tex></html:li>
 <html:li><html:em>Transitivity.</html:em> <fr:tex display="block"><![CDATA[\forall  x,y,z\in  P\mathpunct {.} {\mathopen {}\left (x\sqsubseteq  y\land  y \sqsubseteq  z\right )\mathclose {}}\implies  x\sqsubseteq  z]]></fr:tex></html:li></html:ol>
                <html:p>In other words, a preorder is a <fr:link href="/jms-00JC/" title="Directed graph" uri="https://www.jonmsterling.com/jms-00JC/" display-uri="jms-00JC" type="local">directed graph</fr:link> such that the edge relation is both reflexive and transitive.</html:p>
              </fr:mainmatter>
            </fr:tree>
            <fr:tree show-metadata="false">
              <fr:frontmatter>
                <fr:authors>
                  <fr:author>
                    <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                  </fr:author>
                  <fr:contributor>
                    <fr:link href="/marcelofiore/" title="Marcelo Fiore" uri="https://www.jonmsterling.com/marcelofiore/" display-uri="marcelofiore" type="local">Marcelo Fiore</fr:link>
                  </fr:contributor>
                </fr:authors>
                <fr:date>
                  <fr:year>2024</fr:year>
                  <fr:month>1</fr:month>
                  <fr:day>21</fr:day>
                </fr:date>
                <fr:uri>https://www.jonmsterling.com/jms-00JY/</fr:uri>
                <fr:display-uri>jms-00JY</fr:display-uri>
                <fr:route>/jms-00JY/</fr:route>
                <fr:title text="Examples of preorders">Examples of <fr:link href="/jms-00JX/" title="Preorder" uri="https://www.jonmsterling.com/jms-00JX/" display-uri="jms-00JX" type="local">preorders</fr:link></fr:title>
                <fr:taxon>Example</fr:taxon>
              </fr:frontmatter>
              <fr:mainmatter>
                <html:p><fr:link href="/jms-00JX/" title="Preorder" uri="https://www.jonmsterling.com/jms-00JX/" display-uri="jms-00JX" type="local">Preorders</fr:link> are everywhere in both general mathematics and computer science.</html:p>
                <html:ol><html:li>The real numbers equipped with their inequality relation form a <fr:link href="/jms-00JX/" title="Preorder" uri="https://www.jonmsterling.com/jms-00JX/" display-uri="jms-00JX" type="local">preorder</fr:link> <fr:tex display="inline"><![CDATA[\mathbb {R},\leq ]]></fr:tex>. The converse relation <fr:tex display="inline"><![CDATA[{\mathopen {}\left (\mathbb {R},\geq \right )\mathclose {}}]]></fr:tex> of course also forms a <fr:link href="/jms-00JX/" title="Preorder" uri="https://www.jonmsterling.com/jms-00JX/" display-uri="jms-00JX" type="local">preorder</fr:link>. This example can be specialised to different classes of numbers, such as integers or naturals.</html:li>
 <html:li>Subsets with their inclusion and containment relations form <fr:link href="/jms-00JX/" title="Preorder" uri="https://www.jonmsterling.com/jms-00JX/" display-uri="jms-00JX" type="local">preorders</fr:link> <fr:tex display="inline"><![CDATA[{\mathopen {}\left (\mathcal {P}(A),\subseteq \right )\mathclose {}}]]></fr:tex> and <fr:tex display="inline"><![CDATA[{\mathopen {}\left (\mathcal {P}(A),\supseteq \right )\mathclose {}}]]></fr:tex>. This example can be specialised to other examples that have additional structure, such as the <fr:link href="/jms-00JX/" title="Preorder" uri="https://www.jonmsterling.com/jms-00JX/" display-uri="jms-00JX" type="local">preorder</fr:link> <fr:tex display="inline"><![CDATA[\mathcal {P}_f(A)]]></fr:tex> of <html:em>finite</html:em> subsets of a given set <fr:tex display="inline"><![CDATA[A]]></fr:tex>, or the <fr:link href="/jms-00JX/" title="Preorder" uri="https://www.jonmsterling.com/jms-00JX/" display-uri="jms-00JX" type="local">preorder</fr:link> <fr:tex display="inline"><![CDATA[\mathcal {O}(X)]]></fr:tex> of open sets of a topological space <fr:tex display="inline"><![CDATA[X]]></fr:tex>.</html:li>
 <html:li>A slightly more nontrivial example is furnished by the <fr:link href="/jms-00JX/" title="Preorder" uri="https://www.jonmsterling.com/jms-00JX/" display-uri="jms-00JX" type="local">preorder</fr:link> <fr:tex display="inline"><![CDATA[{\mathopen {}\left (\mathbb {Z},{\mid }\right )\mathclose {}}]]></fr:tex> of the integers and the divisibility relation, where <fr:tex display="inline"><![CDATA[m\mid  n]]></fr:tex> if and only if <fr:tex display="inline"><![CDATA[\exists  k\in \mathbb {Z}\mathpunct {.} m k = n]]></fr:tex>: indeed, we certainly have <fr:tex display="inline"><![CDATA[n]]></fr:tex> divides <fr:tex display="inline"><![CDATA[n]]></fr:tex>, and if <fr:tex display="inline"><![CDATA[l]]></fr:tex> divides <fr:tex display="inline"><![CDATA[m]]></fr:tex> and <fr:tex display="inline"><![CDATA[m]]></fr:tex> divides <fr:tex display="inline"><![CDATA[n]]></fr:tex>, then <fr:tex display="inline"><![CDATA[l]]></fr:tex> divides <fr:tex display="inline"><![CDATA[m]]></fr:tex>.</html:li></html:ol>
                <html:p>The first example above happen to be <html:em>total orders</html:em> (meaning that the underlying directed graph is connected): so <fr:tex display="inline"><![CDATA[{\mathopen {}\left (\mathcal {P}{\mathopen {}\left (A\right )\mathclose {}},\subseteq \right )\mathclose {}}]]></fr:tex> and <fr:tex display="inline"><![CDATA[{\mathopen {}\left (\mathbb {Z},{\mid }\right )\mathclose {}}]]></fr:tex> are example of <html:em>non-total</html:em> <fr:link href="/jms-00JX/" title="Preorder" uri="https://www.jonmsterling.com/jms-00JX/" display-uri="jms-00JX" type="local">preorders</fr:link>.</html:p>
                <html:p>All the examples we have seen so far are, furthermore, <html:em><html:strong>partial orders</html:strong></html:em>: a <fr:link href="/jms-00JX/" title="Preorder" uri="https://www.jonmsterling.com/jms-00JX/" display-uri="jms-00JX" type="local">preorder</fr:link> is a partial order when we have <fr:tex display="inline"><![CDATA[a \sqsubseteq  b \land  b \sqsubseteq  a]]></fr:tex> if and only if <fr:tex display="inline"><![CDATA[a=b]]></fr:tex>. In fact, there are arguably very few useful preorders that are not partial orders, and it is always possible to replace a preorder by an equivalent partial order; we do not pursue this here.</html:p>
              </fr:mainmatter>
            </fr:tree>
            <fr:tree show-metadata="false">
              <fr:frontmatter>
                <fr:authors>
                  <fr:author>
                    <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
                  </fr:author>
                  <fr:contributor>
                    <fr:link href="/marcelofiore/" title="Marcelo Fiore" uri="https://www.jonmsterling.com/marcelofiore/" display-uri="marcelofiore" type="local">Marcelo Fiore</fr:link>
                  </fr:contributor>
                </fr:authors>
                <fr:date>
                  <fr:year>2024</fr:year>
                  <fr:month>1</fr:month>
                  <fr:day>21</fr:day>
                </fr:date>
                <fr:uri>https://www.jonmsterling.com/jms-00JZ/</fr:uri>
                <fr:display-uri>jms-00JZ</fr:display-uri>
                <fr:route>/jms-00JZ/</fr:route>
                <fr:title text="preorders and reflexive-transitive closure"><fr:link href="/jms-00JX/" title="Preorder" uri="https://www.jonmsterling.com/jms-00JX/" display-uri="jms-00JX" type="local">preorders</fr:link> and <fr:link href="/jms-00JH/" title="The reflexive-transitive closure of an endo-relation" uri="https://www.jonmsterling.com/jms-00JH/" display-uri="jms-00JH" type="local">reflexive-transitive closure</fr:link></fr:title>
                <fr:taxon>Theorem</fr:taxon>
              </fr:frontmatter>
              <fr:mainmatter><html:p>The <fr:link href="/jms-00JH/" title="The reflexive-transitive closure of an endo-relation" uri="https://www.jonmsterling.com/jms-00JH/" display-uri="jms-00JH" type="local">reflexive-transitive closure</fr:link> <fr:tex display="inline"><![CDATA[R^{\circ *}]]></fr:tex> of an <fr:link href="/jms-00JC/" title="Directed graph" uri="https://www.jonmsterling.com/jms-00JC/" display-uri="jms-00JC" type="local">endo-relation</fr:link> <fr:tex display="inline"><![CDATA[R\colon  A\mathbin {\nrightarrow } A]]></fr:tex> is, by definition, a preorder. We will show that <fr:tex display="inline"><![CDATA[R^{\circ *}]]></fr:tex> enjoys a <html:em>universal property</html:em> as the <html:em>smallest preorder</html:em> containing <fr:tex display="inline"><![CDATA[R]]></fr:tex> as a subrelation.</html:p><html:p>To be more precise, let <fr:tex display="inline"><![CDATA[\mathcal {F}_R]]></fr:tex> be the set of <fr:link href="/jms-00JX/" title="Preorder" uri="https://www.jonmsterling.com/jms-00JX/" display-uri="jms-00JX" type="local">preorders</fr:link> on <fr:tex display="inline"><![CDATA[A]]></fr:tex> that contain <fr:tex display="inline"><![CDATA[R]]></fr:tex> as a subrelation:</html:p><fr:tex display="block"><![CDATA[
 \mathcal {F}_R =
 {\mathopen {}\left \{Q\colon  A\mathbin {\nrightarrow } A\,\middle \vert \,R\subseteq  Q \land  \text {Q is a preorder}\right \}\mathclose {}}
]]></fr:tex><html:p>Then we have <fr:tex display="inline"><![CDATA[R^{\circ *}=\bigcap \mathcal {F}_R]]></fr:tex>, and so the <fr:link href="/jms-00JH/" title="The reflexive-transitive closure of an endo-relation" uri="https://www.jonmsterling.com/jms-00JH/" display-uri="jms-00JH" type="local">reflexive-transitive closure</fr:link> is the smallest preorder containing <fr:tex display="inline"><![CDATA[R]]></fr:tex> as a subrelation. (Indeed, recall that the intersection of an intersection-closed class of relations is the <html:em>smallest</html:em> relation in that class.)</html:p>
 
   
   <fr:tree show-metadata="false" toc="false"><fr:frontmatter><fr:authors><fr:author><fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link></fr:author></fr:authors><fr:date><fr:year>2024</fr:year><fr:month>1</fr:month><fr:day>21</fr:day></fr:date><fr:taxon>Proof</fr:taxon></fr:frontmatter><fr:mainmatter>
 <html:p>To show that <fr:tex display="inline"><![CDATA[R^{\circ *}=\bigcap \mathcal {F}_R]]></fr:tex>, it suffices to check that <fr:tex display="inline"><![CDATA[\bigcap \mathcal {F}_R\subseteq  R^{\circ *}]]></fr:tex> and <fr:tex display="inline"><![CDATA[R^{\circ *}\subseteq  \bigcap \mathcal {F}_R]]></fr:tex>.</html:p>

 <html:ol><html:li><html:p>We first note that <fr:tex display="inline"><![CDATA[R^{\circ *}\in \mathcal {F}_R]]></fr:tex> — which holds by almost by definition:</html:p>
   <html:ol><html:li>We first need to show that <fr:tex display="inline"><![CDATA[R\subseteq  R^{\circ *}]]></fr:tex>, i.e. that when <fr:tex display="inline"><![CDATA[a\mathrel {R}b]]></fr:tex> we have <fr:tex display="inline"><![CDATA[a\mathrel {R}^{\circ *}b]]></fr:tex>. This is evident, as <fr:tex display="inline"><![CDATA[b\mathrel {R}b]]></fr:tex> is a path of length <fr:tex display="inline"><![CDATA[1]]></fr:tex> in <fr:tex display="inline"><![CDATA[R]]></fr:tex> and <fr:tex display="inline"><![CDATA[R^{\circ *}]]></fr:tex> contains all finite paths in <fr:tex display="inline"><![CDATA[R]]></fr:tex>.</html:li>
    <html:li>Next, we need to show that <fr:tex display="inline"><![CDATA[R^{\circ *}]]></fr:tex> is a preorder. But this holds because <fr:tex display="inline"><![CDATA[R^{\circ *}]]></fr:tex> contains the empty path from an element to itself, and because a path of length <fr:tex display="inline"><![CDATA[m]]></fr:tex> from <fr:tex display="inline"><![CDATA[a]]></fr:tex> to <fr:tex display="inline"><![CDATA[b]]></fr:tex> can be concatenated with a path of length <fr:tex display="inline"><![CDATA[n]]></fr:tex> from <fr:tex display="inline"><![CDATA[b]]></fr:tex> to <fr:tex display="inline"><![CDATA[c]]></fr:tex> to obtain a path (of length <fr:tex display="inline"><![CDATA[m+n]]></fr:tex>) from <fr:tex display="inline"><![CDATA[a]]></fr:tex> to <fr:tex display="inline"><![CDATA[c]]></fr:tex>.</html:li></html:ol>

   <html:p>It follows from <fr:tex display="inline"><![CDATA[R\in \mathcal {F}_R]]></fr:tex> that <fr:tex display="inline"><![CDATA[\bigcap \mathcal {F}_R\subseteq  R^{\circ *}]]></fr:tex>. Indeed:
   <fr:tex display="block"><![CDATA[a\mathrel {{\mathopen {}\left (\bigcap \mathcal {F}_R\right )\mathclose {}}}b \Longleftrightarrow  \forall  Q\in \mathcal {F}_R\mathpunct {.} a\mathrel {Q}b]]></fr:tex>
   So if <fr:tex display="inline"><![CDATA[a\mathrel {{\mathopen {}\left (\bigcap \mathcal {F}_R\right )\mathclose {}}}b]]></fr:tex> and <fr:tex display="inline"><![CDATA[R^{\circ *}\in \mathcal {F}_R]]></fr:tex>, we may choose <fr:tex display="inline"><![CDATA[Q := R^{\circ *}]]></fr:tex> to deduce <fr:tex display="inline"><![CDATA[a\mathrel {R^{\circ *}}b]]></fr:tex>. Therefore, <fr:tex display="inline"><![CDATA[\bigcap \mathcal {F}_R\subseteq  R^{\circ *}]]></fr:tex>.</html:p></html:li>
  <html:li><html:p>Our second goal is to prove <fr:tex display="inline"><![CDATA[R^{\circ *}\subseteq  \bigcap \mathcal {F}_R]]></fr:tex>; by the definition of intersections, this holds if and only if <fr:tex display="inline"><![CDATA[\forall  Q\in \mathcal {F}_R\mathpunct {.} R^{\circ *}\subseteq  Q]]></fr:tex>.</html:p>
   <html:p>Fixing such a preorder <fr:tex display="inline"><![CDATA[Q]]></fr:tex> over <fr:tex display="inline"><![CDATA[A]]></fr:tex> containing <fr:tex display="inline"><![CDATA[R]]></fr:tex> as a subrelation, we must prove that <fr:tex display="inline"><![CDATA[R^{\circ *}\subseteq  Q]]></fr:tex>. Recalling that <fr:tex display="inline"><![CDATA[R^{\circ *}]]></fr:tex> is the union <fr:tex display="inline"><![CDATA[\bigcup _{n \in \mathbb {N}}R^{\circ  n}]]></fr:tex>, we see by the definition of unions that that <fr:tex display="inline"><![CDATA[R^{\circ *}\subseteq  Q]]></fr:tex> if and only if for each <fr:tex display="inline"><![CDATA[n\in \mathbb {N}]]></fr:tex>, we have <fr:tex display="inline"><![CDATA[R^{\circ  n} \subseteq  Q]]></fr:tex>. This we prove by induction on <fr:tex display="inline"><![CDATA[n\in \mathbb {N}]]></fr:tex>.</html:p>
   <html:ol><html:li>In the base case, we must show that <fr:tex display="inline"><![CDATA[R^{\circ 0} = \mathsf {id}_{A}]]></fr:tex> is a subrelation of <fr:tex display="inline"><![CDATA[Q]]></fr:tex>. This is equivalent to <fr:tex display="inline"><![CDATA[Q]]></fr:tex> being reflexive, which we deduce from our assumption that <fr:tex display="inline"><![CDATA[Q]]></fr:tex> is a preorder.</html:li>
    <html:li>In the inductive step, we may assume <fr:tex display="inline"><![CDATA[R^{\circ  n}\subseteq  Q]]></fr:tex> and we must prove that <fr:tex display="inline"><![CDATA[R^{\circ {\mathopen {}\left (n+1\right )\mathclose {}}}=R\circ  R^{\circ  n}]]></fr:tex> is a subrelation of <fr:tex display="inline"><![CDATA[Q]]></fr:tex>. For any <fr:tex display="inline"><![CDATA[a,b\in  A]]></fr:tex>, we have <fr:tex display="inline"><![CDATA[a\mathrel {{\mathopen {}\left (R\circ  R^{\circ  n}\right )\mathclose {}}} b]]></fr:tex> if and only if there exists some <fr:tex display="inline"><![CDATA[c\in  A]]></fr:tex> such that <fr:tex display="inline"><![CDATA[a\mathrel {R}c]]></fr:tex> and <fr:tex display="inline"><![CDATA[c\mathrel {R^{\circ  n}} b]]></fr:tex>. Because we have assumed that <fr:tex display="inline"><![CDATA[R\subseteq  Q]]></fr:tex>, we have <fr:tex display="inline"><![CDATA[a\mathrel {Q}c]]></fr:tex>; by our inductive hypothesis, we have <fr:tex display="inline"><![CDATA[c\mathrel {Q}b]]></fr:tex>. Becuase <fr:tex display="inline"><![CDATA[Q]]></fr:tex> is a preorder and therefore transitive, we therefore have <fr:tex display="inline"><![CDATA[a\mathrel {Q}b]]></fr:tex>.</html:li></html:ol></html:li></html:ol>
 <html:p>Therefore, <fr:tex display="inline"><![CDATA[R^{\circ *}]]></fr:tex> is indeed the intersection of <fr:tex display="inline"><![CDATA[\mathcal {F}_R]]></fr:tex>.</html:p>
</fr:mainmatter></fr:tree>
 
</fr:mainmatter>
            </fr:tree>
          </fr:mainmatter>
        </fr:tree>
      </fr:mainmatter>
    </fr:tree>
    <fr:tree show-metadata="false" hidden-when-empty="true">
      <fr:frontmatter>
        <fr:authors />
        <fr:title text="Backlinks">Backlinks</fr:title>
      </fr:frontmatter>
      <fr:mainmatter>
        <fr:tree show-metadata="true" expanded="false" toc="false" numbered="false">
          <fr:frontmatter>
            <fr:authors>
              <fr:author>
                <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
              </fr:author>
            </fr:authors>
            <fr:date>
              <fr:year>2025</fr:year>
              <fr:month>2</fr:month>
              <fr:day>8</fr:day>
            </fr:date>
            <fr:uri>https://www.jonmsterling.com/jms-016Z/</fr:uri>
            <fr:display-uri>jms-016Z</fr:display-uri>
            <fr:route>/jms-016Z/</fr:route>
            <fr:title text="Revisiting reflexive-transitive closure">Revisiting <fr:link href="/jms-003K/" title="Initial objects in wild categories" uri="https://www.jonmsterling.com/jms-003K/" display-uri="jms-003K" type="local">reflexive-transitive closure</fr:link></fr:title>
            <fr:taxon>Example</fr:taxon>
          </fr:frontmatter>
          <fr:mainmatter>
            <html:p>Let <fr:tex display="inline"><![CDATA[R\colon  X\mathbin {\nrightarrow } X]]></fr:tex> be a binary <fr:link href="/jms-00I7/" title="Relation" uri="https://www.jonmsterling.com/jms-00I7/" display-uri="jms-00I7" type="local">relation</fr:link> on a set <fr:tex display="inline"><![CDATA[X]]></fr:tex>. In <fr:link href="/jms-00JA/" title="Lecture 14: directed graphs and paths" uri="https://www.jonmsterling.com/jms-00JA/" display-uri="jms-00JA" type="local">Lecture 14</fr:link> we saw that the reflexive-transitive closure of <fr:tex display="inline"><![CDATA[R]]></fr:tex> can be defined in two equivalent ways:</html:p>
            <html:ol><html:li><html:strong>Concretely:</html:strong> it can be <fr:link href="/jms-00JH/" title="The reflexive-transitive closure of an endo-relation" uri="https://www.jonmsterling.com/jms-00JH/" display-uri="jms-00JH" type="local">defined</fr:link> to be the smallest relation closed under all finite <fr:link href="/jms-00JF/" title="Path in a directed graph" uri="https://www.jonmsterling.com/jms-00JF/" display-uri="jms-00JF" type="local">paths</fr:link> in <fr:tex display="inline"><![CDATA[R]]></fr:tex>, viewed as a <fr:link href="/jms-00JC/" title="Directed graph" uri="https://www.jonmsterling.com/jms-00JC/" display-uri="jms-00JC" type="local">directed graph</fr:link>.</html:li>
 <html:li><html:strong>Abstractly:</html:strong> it is the <fr:link href="/jms-00JZ/" title="preorders and reflexive-transitive closure" uri="https://www.jonmsterling.com/jms-00JZ/" display-uri="jms-00JZ" type="local">smallest preorder</fr:link> containing <fr:tex display="inline"><![CDATA[R]]></fr:tex> as a subrelation.</html:li></html:ol>
            <html:p>There is a “middle ground” between the most concrete and abstract ways of looking at reflexive-transitive closure: we can present it by means of <fr:link href="/jms-016S/" title="Syntactic rule" uri="https://www.jonmsterling.com/jms-016S/" display-uri="jms-016S" type="local">syntactic rules</fr:link> whose <fr:link href="/jms-016U/" title="The closure condition denoted by a syntactic rule" uri="https://www.jonmsterling.com/jms-016U/" display-uri="jms-016U" type="local">induced closure conditions</fr:link> isolate the “set of preorders containing <fr:tex display="inline"><![CDATA[R]]></fr:tex> as a subrelation”.</html:p>
            <html:p>We first add the following <fr:link href="/jms-016S/" title="Syntactic rule" uri="https://www.jonmsterling.com/jms-016S/" display-uri="jms-016S" type="local">rules</fr:link> over <fr:tex display="inline"><![CDATA[X\times  X]]></fr:tex> that correspond to the laws of a preorder.</html:p>
            <fr:tex display="block"><![CDATA[
 
 
 \displaystyle \frac {\displaystyle }{\displaystyle \quad (x,x)\quad }


 \quad 
 
 
 \displaystyle \frac {\displaystyle (x,y)\quad  (y,z)}{\displaystyle \quad (x,z)\quad }


]]></fr:tex>
            <html:p>Finally, we add the following rule for any <fr:tex display="inline"><![CDATA[x,y\in  X]]></fr:tex> such that <fr:tex display="inline"><![CDATA[x\mathrel {R}y]]></fr:tex>:</html:p>
            <fr:tex display="block"><![CDATA[
 
 
 \displaystyle \frac {\displaystyle }{\displaystyle \quad (x,y)\quad }

\quad  (x\mathrel {R}y)
]]></fr:tex>
            <html:p>To be very clear, this last rule only applies when <fr:tex display="inline"><![CDATA[x\mathrel {R}y]]></fr:tex>. This is called a <html:em>side condition</html:em>.</html:p>
          </fr:mainmatter>
        </fr:tree>
      </fr:mainmatter>
    </fr:tree>
    <fr:tree show-metadata="false" hidden-when-empty="true">
      <fr:frontmatter>
        <fr:authors />
        <fr:title text="Related">Related</fr:title>
      </fr:frontmatter>
      <fr:mainmatter>
        <fr:tree show-metadata="true" expanded="false" toc="false" numbered="false">
          <fr:frontmatter>
            <fr:authors>
              <fr:contributor>
                <fr:link href="/marcelofiore/" title="Marcelo Fiore" uri="https://www.jonmsterling.com/marcelofiore/" display-uri="marcelofiore" type="local">Marcelo Fiore</fr:link>
              </fr:contributor>
              <fr:author>
                <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
              </fr:author>
            </fr:authors>
            <fr:date>
              <fr:year>2024</fr:year>
              <fr:month>1</fr:month>
              <fr:day>21</fr:day>
            </fr:date>
            <fr:uri>https://www.jonmsterling.com/jms-00JX/</fr:uri>
            <fr:display-uri>jms-00JX</fr:display-uri>
            <fr:route>/jms-00JX/</fr:route>
            <fr:title text="Preorder">Preorder</fr:title>
            <fr:taxon>Definition</fr:taxon>
          </fr:frontmatter>
          <fr:mainmatter>
            <html:p>A <html:em><html:strong>preorder</html:strong></html:em> <fr:tex display="inline"><![CDATA[{\mathopen {}\left (P,\sqsubseteq \right )\mathclose {}}]]></fr:tex> consists of a set <fr:tex display="inline"><![CDATA[P]]></fr:tex> and a <fr:link href="/jms-00I7/" title="Relation" uri="https://www.jonmsterling.com/jms-00I7/" display-uri="jms-00I7" type="local">relation</fr:link> <fr:tex display="inline"><![CDATA[{\sqsubseteq } \colon  P\mathbin {\nrightarrow } P]]></fr:tex> satisfying the following two axioms:</html:p>
            <html:ol><html:li><html:em>Reflexivity.</html:em> <fr:tex display="block"><![CDATA[\forall  x\in  P\mathpunct {.} x\sqsubseteq  x]]></fr:tex></html:li>
 <html:li><html:em>Transitivity.</html:em> <fr:tex display="block"><![CDATA[\forall  x,y,z\in  P\mathpunct {.} {\mathopen {}\left (x\sqsubseteq  y\land  y \sqsubseteq  z\right )\mathclose {}}\implies  x\sqsubseteq  z]]></fr:tex></html:li></html:ol>
            <html:p>In other words, a preorder is a <fr:link href="/jms-00JC/" title="Directed graph" uri="https://www.jonmsterling.com/jms-00JC/" display-uri="jms-00JC" type="local">directed graph</fr:link> such that the edge relation is both reflexive and transitive.</html:p>
          </fr:mainmatter>
        </fr:tree>
        <fr:tree show-metadata="true" expanded="false" toc="false" numbered="false">
          <fr:frontmatter>
            <fr:authors>
              <fr:author>
                <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
              </fr:author>
              <fr:contributor>
                <fr:link href="/marcelofiore/" title="Marcelo Fiore" uri="https://www.jonmsterling.com/marcelofiore/" display-uri="marcelofiore" type="local">Marcelo Fiore</fr:link>
              </fr:contributor>
            </fr:authors>
            <fr:date>
              <fr:year>2024</fr:year>
              <fr:month>1</fr:month>
              <fr:day>18</fr:day>
            </fr:date>
            <fr:uri>https://www.jonmsterling.com/jms-00JC/</fr:uri>
            <fr:display-uri>jms-00JC</fr:display-uri>
            <fr:route>/jms-00JC/</fr:route>
            <fr:title text="Directed graph">Directed graph</fr:title>
            <fr:taxon>Definition</fr:taxon>
          </fr:frontmatter>
          <fr:mainmatter>
            <html:p>A <html:em><html:strong>directed graph</html:strong></html:em> <fr:tex display="inline"><![CDATA[{\mathopen {}\left (A,R\right )\mathclose {}}]]></fr:tex> consists of a set <fr:tex display="inline"><![CDATA[A]]></fr:tex> and a <fr:link href="/jms-00I7/" title="Relation" uri="https://www.jonmsterling.com/jms-00I7/" display-uri="jms-00I7" type="local">binary relation</fr:link> <fr:tex display="inline"><![CDATA[R\colon  A\mathbin {\nrightarrow } A]]></fr:tex> from <fr:tex display="inline"><![CDATA[A]]></fr:tex> to itself; such a relation from a set to itself is called an <html:em><html:strong>endo-relation</html:strong></html:em>. We will abbreviate <fr:tex display="inline"><![CDATA[\mathrm {Rel}{\mathopen {}\left (A,A\right )\mathclose {}}]]></fr:tex> by <fr:tex display="inline"><![CDATA[\mathrm {Rel}{\mathopen {}\left (A\right )\mathclose {}}]]></fr:tex> for the set of all endo-relations on <fr:tex display="inline"><![CDATA[A]]></fr:tex>.</html:p>
          </fr:mainmatter>
        </fr:tree>
        <fr:tree show-metadata="true" expanded="false" toc="false" numbered="false">
          <fr:frontmatter>
            <fr:authors>
              <fr:author>
                <fr:link href="/jonmsterling/" title="Jon Sterling" uri="https://www.jonmsterling.com/jonmsterling/" display-uri="jonmsterling" type="local">Jon Sterling</fr:link>
              </fr:author>
              <fr:contributor>
                <fr:link href="/marcelofiore/" title="Marcelo Fiore" uri="https://www.jonmsterling.com/marcelofiore/" display-uri="marcelofiore" type="local">Marcelo Fiore</fr:link>
              </fr:contributor>
            </fr:authors>
            <fr:date>
              <fr:year>2024</fr:year>
              <fr:month>1</fr:month>
              <fr:day>18</fr:day>
            </fr:date>
            <fr:uri>https://www.jonmsterling.com/jms-00JH/</fr:uri>
            <fr:display-uri>jms-00JH</fr:display-uri>
            <fr:route>/jms-00JH/</fr:route>
            <fr:title text="The reflexive-transitive closure of an endo-relation">The reflexive-transitive closure of an <fr:link href="/jms-00JF/" title="Path in a directed graph" uri="https://www.jonmsterling.com/jms-00JF/" display-uri="jms-00JF" type="local">endo-relation</fr:link></fr:title>
            <fr:taxon>Definition</fr:taxon>
          </fr:frontmatter>
          <fr:mainmatter>
            <html:p>For <fr:tex display="inline"><![CDATA[R\in \mathrm {Rel}{\mathopen {}\left (A\right )\mathclose {}}]]></fr:tex>, we define <fr:tex display="inline"><![CDATA[R^{\circ *}\in \mathrm {Rel}{\mathopen {}\left (A\right )\mathclose {}}]]></fr:tex> to be the <html:em>smallest relation closed under all finite <fr:link href="/jms-00JF/" title="Path in a directed graph" uri="https://www.jonmsterling.com/jms-00JF/" display-uri="jms-00JF" type="local">paths</fr:link> in <fr:tex display="inline"><![CDATA[R]]></fr:tex></html:em>, i.e. the <html:em><html:strong>reflexive-transitive closure</html:strong></html:em> of <fr:tex display="inline"><![CDATA[R]]></fr:tex>.</html:p>
            <fr:tex display="block"><![CDATA[
 R^{\circ *} = \bigcup _{n\in \mathbb {N}} R^{\circ  n}
]]></fr:tex>
          </fr:mainmatter>
        </fr:tree>
      </fr:mainmatter>
    </fr:tree>
    <fr:tree show-metadata="false" hidden-when-empty="true">
      <fr:frontmatter>
        <fr:authors />
        <fr:title text="Contributions">Contributions</fr:title>
      </fr:frontmatter>
      <fr:mainmatter />
    </fr:tree>
  </fr:backmatter>
</fr:tree>
